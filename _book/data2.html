<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 수집: 불러오기 | 텍스트마이닝</title>
  <meta name="description" content="Chapter 5 수집: 불러오기 | 텍스트마이닝 준비" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 수집: 불러오기 | 텍스트마이닝" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Chapter 5 수집: 불러오기 | 텍스트마이닝 준비" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 수집: 불러오기 | 텍스트마이닝" />
  
  <meta name="twitter:description" content="Chapter 5 수집: 불러오기 | 텍스트마이닝 준비" />
  

<meta name="author" content="안도현" />


<meta name="date" content="2021-06-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="browse.html"/>
<link rel="next" href="cleantool.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">데이터커뮤니케이션:텍스트마이닝</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#머리말"><i class="fa fa-check"></i><b>0.1</b> 머리말</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#구성"><i class="fa fa-check"></i><b>0.2</b> 구성</a></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#도움받은-자료"><i class="fa fa-check"></i><b>0.3</b> 도움받은 자료</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="author.html"><a href="author.html"><i class="fa fa-check"></i>Author</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> 도입</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#사회과학-방법론"><i class="fa fa-check"></i><b>1.1</b> 사회과학 방법론</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#내용분석content-analysis"><i class="fa fa-check"></i><b>1.2</b> 내용분석(Content Analysis)</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="intro.html"><a href="intro.html#내용분석의-정의"><i class="fa fa-check"></i><b>1.2.1</b> 내용분석의 정의</a></li>
<li class="chapter" data-level="1.2.2" data-path="intro.html"><a href="intro.html#컴퓨터보조-내용분석"><i class="fa fa-check"></i><b>1.2.2</b> 컴퓨터보조 내용분석</a></li>
<li class="chapter" data-level="1.2.3" data-path="intro.html"><a href="intro.html#근거이론grounded-theory"><i class="fa fa-check"></i><b>1.2.3</b> 근거이론(grounded theory)</a></li>
<li class="chapter" data-level="1.2.4" data-path="intro.html"><a href="intro.html#컴퓨터-기반-근거이론"><i class="fa fa-check"></i><b>1.2.4</b> 컴퓨터 기반 근거이론</a></li>
<li class="chapter" data-level="1.2.5" data-path="intro.html"><a href="intro.html#전산사회과학computational-social-science-디지털인문학digital-humanities"><i class="fa fa-check"></i><b>1.2.5</b> 전산사회과학(Computational Social Science) 디지털인문학(Digital Humanities)</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#텍스트마이닝"><i class="fa fa-check"></i><b>1.3</b> 텍스트마이닝</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#텍스트데이터"><i class="fa fa-check"></i><b>1.4</b> 텍스트데이터</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="intro.html"><a href="intro.html#텍스트의-단위"><i class="fa fa-check"></i><b>1.4.1</b> 텍스트의 단위</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="prep1.html"><a href="prep1.html"><i class="fa fa-check"></i><b>2</b> 준비1: R기초</a>
<ul>
<li class="chapter" data-level="2.1" data-path="prep1.html"><a href="prep1.html#기본-개념"><i class="fa fa-check"></i><b>2.1</b> 기본 개념</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="prep1.html"><a href="prep1.html#컴퓨터"><i class="fa fa-check"></i><b>2.1.1</b> 컴퓨터</a></li>
<li class="chapter" data-level="2.1.2" data-path="prep1.html"><a href="prep1.html#r"><i class="fa fa-check"></i><b>2.1.2</b> R</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="prep1.html"><a href="prep1.html#r시작하기"><i class="fa fa-check"></i><b>2.2</b> R시작하기</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="prep1.html"><a href="prep1.html#로컬컴퓨터에-설치하기"><i class="fa fa-check"></i><b>2.2.1</b> 로컬컴퓨터에 설치하기</a></li>
<li class="chapter" data-level="2.2.2" data-path="prep1.html"><a href="prep1.html#r의-기능구현"><i class="fa fa-check"></i><b>2.2.2</b> R의 기능구현</a></li>
<li class="chapter" data-level="2.2.3" data-path="prep1.html"><a href="prep1.html#작업공간workspace"><i class="fa fa-check"></i><b>2.2.3</b> 작업공간(workspace)</a></li>
<li class="chapter" data-level="2.2.4" data-path="prep1.html"><a href="prep1.html#중요-작업디렉토리working-directory"><i class="fa fa-check"></i><b>2.2.4</b> 중요: 작업디렉토리(working directory)</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="prep1.html"><a href="prep1.html#ide통합개발환경-integrated-development-environment"><i class="fa fa-check"></i><b>2.3</b> IDE(통합개발환경: Integrated Development Environment)</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="prep1.html"><a href="prep1.html#rstudio-설치"><i class="fa fa-check"></i><b>2.3.1</b> RStudio 설치</a></li>
<li class="chapter" data-level="2.3.2" data-path="prep1.html"><a href="prep1.html#프로젝트-만들기"><i class="fa fa-check"></i><b>2.3.2</b> 프로젝트 만들기</a></li>
<li class="chapter" data-level="2.3.3" data-path="prep1.html"><a href="prep1.html#편집창-열기"><i class="fa fa-check"></i><b>2.3.3</b> 편집창 열기</a></li>
<li class="chapter" data-level="2.3.4" data-path="prep1.html"><a href="prep1.html#코드-실행"><i class="fa fa-check"></i><b>2.3.4</b> 코드 실행</a></li>
<li class="chapter" data-level="2.3.5" data-path="prep1.html"><a href="prep1.html#한글사용-설정"><i class="fa fa-check"></i><b>2.3.5</b> 한글사용 설정</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="prep1.html"><a href="prep1.html#데이터의-값value과-유형data-type"><i class="fa fa-check"></i><b>2.4</b> 데이터의 값(value)과 유형(data type)</a></li>
<li class="chapter" data-level="2.5" data-path="prep1.html"><a href="prep1.html#데이터구조"><i class="fa fa-check"></i><b>2.5</b> 데이터구조</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="prep1.html"><a href="prep1.html#벡터-c"><i class="fa fa-check"></i><b>2.5.1</b> 벡터 <code>c()</code></a></li>
<li class="chapter" data-level="2.5.2" data-path="prep1.html"><a href="prep1.html#데이터프레임-data.frame"><i class="fa fa-check"></i><b>2.5.2</b> 데이터프레임 <code>data.frame()</code></a></li>
<li class="chapter" data-level="2.5.3" data-path="prep1.html"><a href="prep1.html#리스트-list"><i class="fa fa-check"></i><b>2.5.3</b> 리스트 <code>list()</code></a></li>
<li class="chapter" data-level="2.5.4" data-path="prep1.html"><a href="prep1.html#매트릭스와-어레이"><i class="fa fa-check"></i><b>2.5.4</b> 매트릭스와 어레이</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="prep2.html"><a href="prep2.html"><i class="fa fa-check"></i><b>3</b> 준비2</a>
<ul>
<li class="chapter" data-level="3.1" data-path="prep2.html"><a href="prep2.html#패키지package"><i class="fa fa-check"></i><b>3.1</b> 패키지(Package)</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="prep2.html"><a href="prep2.html#rtools"><i class="fa fa-check"></i><b>3.1.1</b> <code>rtools</code></a></li>
<li class="chapter" data-level="3.1.2" data-path="prep2.html"><a href="prep2.html#tidyverse"><i class="fa fa-check"></i><b>3.1.2</b> tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="prep2.html"><a href="prep2.html#오류error"><i class="fa fa-check"></i><b>3.2</b> 오류(error)</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="prep2.html"><a href="prep2.html#패키지-설치시-겪을-수-있는-오류"><i class="fa fa-check"></i><b>3.2.1</b> 패키지 설치시 겪을 수 있는 오류</a></li>
<li class="chapter" data-level="3.2.2" data-path="prep2.html"><a href="prep2.html#실행할-때-겪을-수-있는-오류"><i class="fa fa-check"></i><b>3.2.2</b> 실행할 때 겪을 수 있는 오류</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="prep2.html"><a href="prep2.html#여러-패키지-한번에-설치"><i class="fa fa-check"></i><b>3.3</b> 여러 패키지 한번에 설치</a></li>
<li class="chapter" data-level="3.4" data-path="prep2.html"><a href="prep2.html#코딩-스타일"><i class="fa fa-check"></i><b>3.4</b> 코딩 스타일</a></li>
<li class="chapter" data-level="3.5" data-path="prep2.html"><a href="prep2.html#파일경로path-표시"><i class="fa fa-check"></i><b>3.5</b> 파일경로(path) 표시</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="prep2.html"><a href="prep2.html#슬래시"><i class="fa fa-check"></i><b>3.5.1</b> 슬래시 /</a></li>
<li class="chapter" data-level="3.5.2" data-path="prep2.html"><a href="prep2.html#마침표-.-.."><i class="fa fa-check"></i><b>3.5.2</b> 마침표 . ..</a></li>
<li class="chapter" data-level="3.5.3" data-path="prep2.html"><a href="prep2.html#물결"><i class="fa fa-check"></i><b>3.5.3</b> 물결 ~</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="prep2.html"><a href="prep2.html#파일과-객체"><i class="fa fa-check"></i><b>3.6</b> 파일과 객체</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="prep2.html"><a href="prep2.html#하드디스크에-있는-파일을-다루는-함수"><i class="fa fa-check"></i><b>3.6.1</b> 하드디스크에 있는 파일을 다루는 함수</a></li>
<li class="chapter" data-level="3.6.2" data-path="prep2.html"><a href="prep2.html#r환경내-객체를-다루는-함수"><i class="fa fa-check"></i><b>3.6.2</b> R환경내 객체를 다루는 함수</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="prep2.html"><a href="prep2.html#따옴표와-백틱"><i class="fa fa-check"></i><b>3.7</b> 따옴표와 백틱</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="prep2.html"><a href="prep2.html#겹따옴표-홑따옴표"><i class="fa fa-check"></i><b>3.7.1</b> 겹따옴표 홑따옴표</a></li>
<li class="chapter" data-level="3.7.2" data-path="prep2.html"><a href="prep2.html#백틱backquotebacktick-주의중요-흔한-오류-오자와-탈자.-괄호의-불일치-보이지-않는-코드-글꼴-기타-na와null의-차이"><i class="fa fa-check"></i><b>3.7.2</b> 백틱(backquote/backtick) <code>## 주의(중요) ## 흔한 오류 ### 오자와 탈자.  ### 괄호의 불일치 ### 보이지 않는 코드  ### 글꼴  ## 기타 ###</code>NA<code>와</code>NULL`의 차이</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="browse.html"><a href="browse.html"><i class="fa fa-check"></i><b>4</b> 틀잡기</a>
<ul>
<li class="chapter" data-level="4.1" data-path="browse.html"><a href="browse.html#수집"><i class="fa fa-check"></i><b>4.1</b> 수집</a></li>
<li class="chapter" data-level="4.2" data-path="browse.html"><a href="browse.html#정제전처리"><i class="fa fa-check"></i><b>4.2</b> 정제(전처리)</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="browse.html"><a href="browse.html#정돈텍스트tidy-text"><i class="fa fa-check"></i><b>4.2.1</b> 정돈텍스트(tidy text)</a></li>
<li class="chapter" data-level="4.2.2" data-path="browse.html"><a href="browse.html#토큰화-unnest_tokens-함수"><i class="fa fa-check"></i><b>4.2.2</b> 토큰화: <code>unnest_tokens</code> 함수</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="browse.html"><a href="browse.html#분석"><i class="fa fa-check"></i><b>4.3</b> 분석</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="browse.html"><a href="browse.html#빈도-count-함수"><i class="fa fa-check"></i><b>4.3.1</b> 빈도: <code>count</code> 함수</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="browse.html"><a href="browse.html#소통"><i class="fa fa-check"></i><b>4.4</b> 소통</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="browse.html"><a href="browse.html#시각화"><i class="fa fa-check"></i><b>4.4.1</b> 시각화</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="browse.html"><a href="browse.html#연습-2"><i class="fa fa-check"></i><b>4.5</b> 연습</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="browse.html"><a href="browse.html#과제"><i class="fa fa-check"></i><b>4.5.1</b> 과제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data2.html"><a href="data2.html"><i class="fa fa-check"></i><b>5</b> 수집: 불러오기</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data2.html"><a href="data2.html#바이너리-파일"><i class="fa fa-check"></i><b>5.1</b> 바이너리 파일</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="data2.html"><a href="data2.html#불러오기이입-import"><i class="fa fa-check"></i><b>5.1.1</b> 불러오기(이입: import)</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="data2.html"><a href="data2.html#일반텍스트plain-text-파일"><i class="fa fa-check"></i><b>5.2</b> 일반텍스트(plain text) 파일</a></li>
<li class="chapter" data-level="5.3" data-path="data2.html"><a href="data2.html#html-파일"><i class="fa fa-check"></i><b>5.3</b> HTML 파일</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="data2.html"><a href="data2.html#html문서-불러오기-read_html"><i class="fa fa-check"></i><b>5.3.1</b> HTML문서 불러오기 <code>read_html()</code></a></li>
<li class="chapter" data-level="5.3.2" data-path="data2.html"><a href="data2.html#htlm요소-추출하기-html_node"><i class="fa fa-check"></i><b>5.3.2</b> HTLM요소 추출하기 <code>html_node()</code></a></li>
<li class="chapter" data-level="5.3.3" data-path="data2.html"><a href="data2.html#내용-추출하기-html_text"><i class="fa fa-check"></i><b>5.3.3</b> 내용 추출하기 <code>html_text</code></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data2.html"><a href="data2.html#내보내기export-이출"><i class="fa fa-check"></i><b>5.4</b> 내보내기(export: 이출)</a></li>
<li class="chapter" data-level="5.5" data-path="data2.html"><a href="data2.html#인코딩encoding-부호화"><i class="fa fa-check"></i><b>5.5</b> 인코딩(encoding: 부호화)</a></li>
<li class="chapter" data-level="5.6" data-path="data2.html"><a href="data2.html#테이블구조-문서"><i class="fa fa-check"></i><b>5.6</b> 테이블구조 문서</a></li>
<li class="chapter" data-level="5.7" data-path="data2.html"><a href="data2.html#기타-파일-형식"><i class="fa fa-check"></i><b>5.7</b> 기타 파일 형식</a></li>
<li class="chapter" data-level="5.8" data-path="data2.html"><a href="data2.html#연습-3"><i class="fa fa-check"></i><b>5.8</b> 연습</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="data2.html"><a href="data2.html#과제-1"><i class="fa fa-check"></i><b>5.8.1</b> 과제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="cleantool.html"><a href="cleantool.html"><i class="fa fa-check"></i><b>6</b> 정제도구</a>
<ul>
<li class="chapter" data-level="6.1" data-path="cleantool.html"><a href="cleantool.html#stringr"><i class="fa fa-check"></i><b>6.1</b> <code>stringr</code></a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="cleantool.html"><a href="cleantool.html#개괄"><i class="fa fa-check"></i><b>6.1.1</b> 개괄</a></li>
<li class="chapter" data-level="6.1.2" data-path="cleantool.html"><a href="cleantool.html#탐지와-찾기detect-locate-1"><i class="fa fa-check"></i><b>6.1.2</b> 탐지와 찾기(detect &amp; locate)</a></li>
<li class="chapter" data-level="6.1.3" data-path="cleantool.html"><a href="cleantool.html#부분선택-추출-일치subset-extract-match-1"><i class="fa fa-check"></i><b>6.1.3</b> 부분선택, 추출, 일치(subset, extract &amp; match)</a></li>
<li class="chapter" data-level="6.1.4" data-path="cleantool.html"><a href="cleantool.html#문자열-변환mutate-strings-1"><i class="fa fa-check"></i><b>6.1.4</b> 문자열 변환(Mutate Strings)</a></li>
<li class="chapter" data-level="6.1.5" data-path="cleantool.html"><a href="cleantool.html#결합과-분리join-and-split-1"><i class="fa fa-check"></i><b>6.1.5</b> 결합과 분리(Join and Split)</a></li>
<li class="chapter" data-level="6.1.6" data-path="cleantool.html"><a href="cleantool.html#공백문자whitespace-1"><i class="fa fa-check"></i><b>6.1.6</b> 공백문자(Whitespace)</a></li>
<li class="chapter" data-level="6.1.7" data-path="cleantool.html"><a href="cleantool.html#과제-2"><i class="fa fa-check"></i><b>6.1.7</b> 과제</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="cleantool.html"><a href="cleantool.html#dplyr"><i class="fa fa-check"></i><b>6.2</b> <code>dplyr</code></a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="cleantool.html"><a href="cleantool.html#개괄-1"><i class="fa fa-check"></i><b>6.2.1</b> 개괄</a></li>
<li class="chapter" data-level="6.2.2" data-path="cleantool.html"><a href="cleantool.html#dplyr의-구성"><i class="fa fa-check"></i><b>6.2.2</b> <code>dplyr</code>의 구성</a></li>
<li class="chapter" data-level="6.2.3" data-path="cleantool.html"><a href="cleantool.html#묶음-동사group-cases-1"><i class="fa fa-check"></i><b>6.2.3</b> 묶음 동사(group cases)</a></li>
<li class="chapter" data-level="6.2.4" data-path="cleantool.html"><a href="cleantool.html#요약-동사와-요약-함수"><i class="fa fa-check"></i><b>6.2.4</b> 요약 동사와 요약 함수</a></li>
<li class="chapter" data-level="6.2.5" data-path="cleantool.html"><a href="cleantool.html#행-조작-동사manipulate-cases-1"><i class="fa fa-check"></i><b>6.2.5</b> 행 조작 동사(manipulate cases)</a></li>
<li class="chapter" data-level="6.2.6" data-path="cleantool.html"><a href="cleantool.html#열-조작-동사manipulate-variables-1"><i class="fa fa-check"></i><b>6.2.6</b> 열 조작 동사(manipulate variables)</a></li>
<li class="chapter" data-level="6.2.7" data-path="cleantool.html"><a href="cleantool.html#벡터-함수vector-functions-1"><i class="fa fa-check"></i><b>6.2.7</b> 벡터 함수(vector functions)</a></li>
<li class="chapter" data-level="6.2.8" data-path="cleantool.html"><a href="cleantool.html#테이블-결합동사행방향"><i class="fa fa-check"></i><b>6.2.8</b> 테이블 결합동사(행방향)</a></li>
<li class="chapter" data-level="6.2.9" data-path="cleantool.html"><a href="cleantool.html#테이블-결합동사열방향"><i class="fa fa-check"></i><b>6.2.9</b> 테이블 결합동사(열방향)</a></li>
<li class="chapter" data-level="6.2.10" data-path="cleantool.html"><a href="cleantool.html#연습1"><i class="fa fa-check"></i><b>6.2.10</b> 연습1</a></li>
<li class="chapter" data-level="6.2.11" data-path="cleantool.html"><a href="cleantool.html#연습2"><i class="fa fa-check"></i><b>6.2.11</b> 연습2</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="cleantool.html"><a href="cleantool.html#purrr"><i class="fa fa-check"></i><b>6.3</b> <code>purrr</code></a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="cleantool.html"><a href="cleantool.html#개괄-2"><i class="fa fa-check"></i><b>6.3.1</b> 개괄</a></li>
<li class="chapter" data-level="6.3.2" data-path="cleantool.html"><a href="cleantool.html#반복계산-1"><i class="fa fa-check"></i><b>6.3.2</b> 반복계산</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="cleantool.html"><a href="cleantool.html#tidyr"><i class="fa fa-check"></i><b>6.4</b> <code>tidyr</code></a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="cleantool.html"><a href="cleantool.html#개괄-3"><i class="fa fa-check"></i><b>6.4.1</b> 개괄</a></li>
<li class="chapter" data-level="6.4.2" data-path="cleantool.html"><a href="cleantool.html#축전환pivoting-1"><i class="fa fa-check"></i><b>6.4.2</b> 축전환(pivoting)</a></li>
<li class="chapter" data-level="6.4.3" data-path="cleantool.html"><a href="cleantool.html#분리와-결합-1"><i class="fa fa-check"></i><b>6.4.3</b> 분리와 결합</a></li>
<li class="chapter" data-level="6.4.4" data-path="cleantool.html"><a href="cleantool.html#연습1-1"><i class="fa fa-check"></i><b>6.4.4</b> 연습1</a></li>
<li class="chapter" data-level="6.4.5" data-path="cleantool.html"><a href="cleantool.html#연습2-1"><i class="fa fa-check"></i><b>6.4.5</b> 연습2</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="cleantool.html"><a href="cleantool.html#연산자operators"><i class="fa fa-check"></i><b>6.5</b> 연산자(operators)</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="cleantool.html"><a href="cleantool.html#산술연산자arithmatic-operators"><i class="fa fa-check"></i><b>6.5.1</b> 산술연산자(Arithmatic Operators)</a></li>
<li class="chapter" data-level="6.5.2" data-path="cleantool.html"><a href="cleantool.html#관계연산자relational-operators"><i class="fa fa-check"></i><b>6.5.2</b> 관계연산자(Relational Operators)</a></li>
<li class="chapter" data-level="6.5.3" data-path="cleantool.html"><a href="cleantool.html#논리연산자logical-operators"><i class="fa fa-check"></i><b>6.5.3</b> 논리연산자(Logical Operators)</a></li>
<li class="chapter" data-level="6.5.4" data-path="cleantool.html"><a href="cleantool.html#포함-연산자inclusion-operator"><i class="fa fa-check"></i><b>6.5.4</b> 포함 연산자(Inclusion Operator)</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="cleantool.html"><a href="cleantool.html#정규표현식regular-expressions"><i class="fa fa-check"></i><b>6.6</b> 정규표현식(regular expressions)</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="cleantool.html"><a href="cleantool.html#일반문자와-기능문자"><i class="fa fa-check"></i><b>6.6.1</b> 일반문자와 기능문자</a></li>
<li class="chapter" data-level="6.6.2" data-path="cleantool.html"><a href="cleantool.html#일치하는-문자match-characters"><i class="fa fa-check"></i><b>6.6.2</b> 일치하는 문자(Match Characters)</a></li>
<li class="chapter" data-level="6.6.3" data-path="cleantool.html"><a href="cleantool.html#공백문자whitespace-2"><i class="fa fa-check"></i><b>6.6.3</b> 공백문자(whitespace)</a></li>
<li class="chapter" data-level="6.6.4" data-path="cleantool.html"><a href="cleantool.html#또는"><i class="fa fa-check"></i><b>6.6.4</b> 또는</a></li>
<li class="chapter" data-level="6.6.5" data-path="cleantool.html"><a href="cleantool.html#묶음"><i class="fa fa-check"></i><b>6.6.5</b> 묶음</a></li>
<li class="chapter" data-level="6.6.6" data-path="cleantool.html"><a href="cleantool.html#앵커"><i class="fa fa-check"></i><b>6.6.6</b> 앵커</a></li>
<li class="chapter" data-level="6.6.7" data-path="cleantool.html"><a href="cleantool.html#주변look-around-1"><i class="fa fa-check"></i><b>6.6.7</b> 주변(look around)</a></li>
<li class="chapter" data-level="6.6.8" data-path="cleantool.html"><a href="cleantool.html#반복일치"><i class="fa fa-check"></i><b>6.6.8</b> 반복일치</a></li>
<li class="chapter" data-level="6.6.9" data-path="cleantool.html"><a href="cleantool.html#유용한-정규표현식"><i class="fa fa-check"></i><b>6.6.9</b> 유용한 정규표현식</a></li>
<li class="chapter" data-level="6.6.10" data-path="cleantool.html"><a href="cleantool.html#연습-4"><i class="fa fa-check"></i><b>6.6.10</b> 연습</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="clean.html"><a href="clean.html"><i class="fa fa-check"></i><b>7</b> 정제(전처리)</a>
<ul>
<li class="chapter" data-level="7.1" data-path="clean.html"><a href="clean.html#토큰화"><i class="fa fa-check"></i><b>7.1</b> 토큰화</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="clean.html"><a href="clean.html#unnest_tokensdf-output-input-token-words-format-ctext-man-latex-html-xml-to_lower-true-drop-true-collapse-null-..."><i class="fa fa-check"></i><b>7.1.1</b> <code>unnest_tokens(df, output, input, token = "words", format = c("text", "man", "latex", "html", "xml"), to_lower = TRUE, drop = TRUE, collapse = NULL, ...)</code></a></li>
<li class="chapter" data-level="7.1.2" data-path="clean.html"><a href="clean.html#format-ctext-man-latex-html-xml"><i class="fa fa-check"></i><b>7.1.2</b> <code>format = c("text", "man", "latex", "html", "xml")</code></a></li>
<li class="chapter" data-level="7.1.3" data-path="clean.html"><a href="clean.html#to_lower-true"><i class="fa fa-check"></i><b>7.1.3</b> <code>to_lower = TRUE</code></a></li>
<li class="chapter" data-level="7.1.4" data-path="clean.html"><a href="clean.html#strip_punct"><i class="fa fa-check"></i><b>7.1.4</b> <code>strip_punct =</code></a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="clean.html"><a href="clean.html#불용어stop-words-제거-1"><i class="fa fa-check"></i><b>7.2</b> 불용어(stop words) 제거</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="clean.html"><a href="clean.html#불용어-사전"><i class="fa fa-check"></i><b>7.2.1</b> 불용어 사전</a></li>
<li class="chapter" data-level="7.2.2" data-path="clean.html"><a href="clean.html#filter"><i class="fa fa-check"></i><b>7.2.2</b> <code>filter()</code></a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="clean.html"><a href="clean.html#정규화normalization-1"><i class="fa fa-check"></i><b>7.3</b> 정규화(Normalization)</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="clean.html"><a href="clean.html#개괄-4"><i class="fa fa-check"></i><b>7.3.1</b> 개괄</a></li>
<li class="chapter" data-level="7.3.2" data-path="clean.html"><a href="clean.html#형태소morpheme"><i class="fa fa-check"></i><b>7.3.2</b> 형태소(morpheme)</a></li>
<li class="chapter" data-level="7.3.3" data-path="clean.html"><a href="clean.html#형태소-추출"><i class="fa fa-check"></i><b>7.3.3</b> 형태소 추출</a></li>
<li class="chapter" data-level="7.3.4" data-path="clean.html"><a href="clean.html#rcppmecab-1"><i class="fa fa-check"></i><b>7.3.4</b> RcppMeCab</a></li>
<li class="chapter" data-level="7.3.5" data-path="clean.html"><a href="clean.html#konlp-1"><i class="fa fa-check"></i><b>7.3.5</b> <code>KoNLP</code></a></li>
<li class="chapter" data-level="7.3.6" data-path="clean.html"><a href="clean.html#konlpy"><i class="fa fa-check"></i><b>7.3.6</b> <code>KoNLPy</code></a></li>
<li class="chapter" data-level="7.3.7" data-path="clean.html"><a href="clean.html#연습-5"><i class="fa fa-check"></i><b>7.3.7</b> 연습</a></li>
<li class="chapter" data-level="7.3.8" data-path="clean.html"><a href="clean.html#어간stem-추출"><i class="fa fa-check"></i><b>7.3.8</b> 어간(stem) 추출</a></li>
<li class="chapter" data-level="7.3.9" data-path="clean.html"><a href="clean.html#표제어lemme-추출"><i class="fa fa-check"></i><b>7.3.9</b> 표제어(lemme) 추출</a></li>
<li class="chapter" data-level="7.3.10" data-path="clean.html"><a href="clean.html#연습-6"><i class="fa fa-check"></i><b>7.3.10</b> 연습</a></li>
<li class="chapter" data-level="7.3.11" data-path="clean.html"><a href="clean.html#과제-5"><i class="fa fa-check"></i><b>7.3.11</b> 과제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="anal1freq.html"><a href="anal1freq.html"><i class="fa fa-check"></i><b>8</b> 분석1: 감정어 빈도</a>
<ul>
<li class="chapter" data-level="8.1" data-path="anal1freq.html"><a href="anal1freq.html#국문-감정사전"><i class="fa fa-check"></i><b>8.1</b> 국문 감정사전</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="anal1freq.html"><a href="anal1freq.html#사전-데이터프레임-만들기"><i class="fa fa-check"></i><b>8.1.1</b> 사전 데이터프레임 만들기</a></li>
<li class="chapter" data-level="8.1.2" data-path="anal1freq.html"><a href="anal1freq.html#연습-7"><i class="fa fa-check"></i><b>8.1.2</b> 연습</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="anal1freq.html"><a href="anal1freq.html#감정분석"><i class="fa fa-check"></i><b>8.2</b> 감정분석</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="anal1freq.html"><a href="anal1freq.html#수집-1"><i class="fa fa-check"></i><b>8.2.1</b> 수집</a></li>
<li class="chapter" data-level="8.2.2" data-path="anal1freq.html"><a href="anal1freq.html#정제"><i class="fa fa-check"></i><b>8.2.2</b> 정제</a></li>
<li class="chapter" data-level="8.2.3" data-path="anal1freq.html"><a href="anal1freq.html#분석-및-소통"><i class="fa fa-check"></i><b>8.2.3</b> 분석 및 소통</a></li>
<li class="chapter" data-level="8.2.4" data-path="anal1freq.html"><a href="anal1freq.html#문서의-감정점수-계산"><i class="fa fa-check"></i><b>8.2.4</b> 문서의 감정점수 계산</a></li>
<li class="chapter" data-level="8.2.5" data-path="anal1freq.html"><a href="anal1freq.html#감정-극성별-단어빈도"><i class="fa fa-check"></i><b>8.2.5</b> 감정 극성별 단어빈도</a></li>
<li class="chapter" data-level="8.2.6" data-path="anal1freq.html"><a href="anal1freq.html#단어구름에-극성별-단어빈도-표시"><i class="fa fa-check"></i><b>8.2.6</b> 단어구름에 극성별 단어빈도 표시</a></li>
<li class="chapter" data-level="8.2.7" data-path="anal1freq.html"><a href="anal1freq.html#문장-전개에-따른-감정-변화"><i class="fa fa-check"></i><b>8.2.7</b> 문장 전개에 따른 감정 변화</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="anal2comp.html"><a href="anal2comp.html"><i class="fa fa-check"></i><b>9</b> 분석2: 상대빈도</a>
<ul>
<li class="chapter" data-level="9.1" data-path="anal2comp.html"><a href="anal2comp.html#개관"><i class="fa fa-check"></i><b>9.1</b> 개관</a></li>
<li class="chapter" data-level="9.2" data-path="anal2comp.html"><a href="anal2comp.html#tf_idf"><i class="fa fa-check"></i><b>9.2</b> tf_idf</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="anal2comp.html"><a href="anal2comp.html#공식"><i class="fa fa-check"></i><b>9.2.1</b> 공식</a></li>
<li class="chapter" data-level="9.2.2" data-path="anal2comp.html"><a href="anal2comp.html#적용"><i class="fa fa-check"></i><b>9.2.2</b> 적용</a></li>
<li class="chapter" data-level="9.2.3" data-path="anal2comp.html"><a href="anal2comp.html#bind_tf_idftbl-term-document-n"><i class="fa fa-check"></i><b>9.2.3</b> <code>bind_tf_idf(tbl, term, document, n)</code></a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="anal2comp.html"><a href="anal2comp.html#승산비odds-ratio"><i class="fa fa-check"></i><b>9.3</b> 승산비(odds ratio)</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="anal2comp.html"><a href="anal2comp.html#자료준비"><i class="fa fa-check"></i><b>9.3.1</b> 자료준비</a></li>
<li class="chapter" data-level="9.3.2" data-path="anal2comp.html"><a href="anal2comp.html#로그승산비"><i class="fa fa-check"></i><b>9.3.2</b> 로그승산비</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="anal2comp.html"><a href="anal2comp.html#가중로그승산비"><i class="fa fa-check"></i><b>9.4</b> 가중로그승산비</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="anal2comp.html"><a href="anal2comp.html#bind_log_oddstbl-set-feature-n-uninformative-false-unweighted-false"><i class="fa fa-check"></i><b>9.4.1</b> <code>bind_log_odds(tbl, set, feature, n, uninformative = FALSE, unweighted = FALSE)</code></a></li>
<li class="chapter" data-level="9.4.2" data-path="anal2comp.html"><a href="anal2comp.html#지표-비교"><i class="fa fa-check"></i><b>9.4.2</b> 지표 비교</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="anal2comp.html"><a href="anal2comp.html#연습-8"><i class="fa fa-check"></i><b>9.5</b> 연습</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="anal2comp.html"><a href="anal2comp.html#빅카인즈"><i class="fa fa-check"></i><b>9.5.1</b> 빅카인즈</a></li>
<li class="chapter" data-level="9.5.2" data-path="anal2comp.html"><a href="anal2comp.html#정제-1"><i class="fa fa-check"></i><b>9.5.2</b> 정제</a></li>
<li class="chapter" data-level="9.5.3" data-path="anal2comp.html"><a href="anal2comp.html#분석-및-소통-1"><i class="fa fa-check"></i><b>9.5.3</b> 분석 및 소통</a></li>
<li class="chapter" data-level="9.5.4" data-path="anal2comp.html"><a href="anal2comp.html#총빈도와-상대빈도-비교"><i class="fa fa-check"></i><b>9.5.4</b> 총빈도와 상대빈도 비교</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="anal3topic.html"><a href="anal3topic.html"><i class="fa fa-check"></i><b>10</b> 분석3: 주제모형</a>
<ul>
<li class="chapter" data-level="10.1" data-path="anal3topic.html"><a href="anal3topic.html#개관-1"><i class="fa fa-check"></i><b>10.1</b> 개관</a></li>
<li class="chapter" data-level="10.2" data-path="anal3topic.html"><a href="anal3topic.html#자료-준비-1"><i class="fa fa-check"></i><b>10.2</b> 자료 준비</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="anal3topic.html"><a href="anal3topic.html#자료-이입"><i class="fa fa-check"></i><b>10.2.1</b> 자료 이입</a></li>
<li class="chapter" data-level="10.2.2" data-path="anal3topic.html"><a href="anal3topic.html#정제-2"><i class="fa fa-check"></i><b>10.2.2</b> 정제</a></li>
<li class="chapter" data-level="10.2.3" data-path="anal3topic.html"><a href="anal3topic.html#stm-말뭉치"><i class="fa fa-check"></i><b>10.2.3</b> stm 말뭉치</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="anal3topic.html"><a href="anal3topic.html#분석-1"><i class="fa fa-check"></i><b>10.3</b> 분석</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="anal3topic.html"><a href="anal3topic.html#주제의-수k-설정"><i class="fa fa-check"></i><b>10.3.1</b> 주제의 수(K) 설정</a></li>
<li class="chapter" data-level="10.3.2" data-path="anal3topic.html"><a href="anal3topic.html#주제모형-구성"><i class="fa fa-check"></i><b>10.3.2</b> 주제모형 구성</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="anal3topic.html"><a href="anal3topic.html#소통-1"><i class="fa fa-check"></i><b>10.4</b> 소통</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="anal3topic.html"><a href="anal3topic.html#주제별-단어-분포"><i class="fa fa-check"></i><b>10.4.1</b> 주제별 단어 분포</a></li>
<li class="chapter" data-level="10.4.2" data-path="anal3topic.html"><a href="anal3topic.html#주제별-문서-분포"><i class="fa fa-check"></i><b>10.4.2</b> 주제별 문서 분포</a></li>
<li class="chapter" data-level="10.4.3" data-path="anal3topic.html"><a href="anal3topic.html#주제별-단어-문서-분포"><i class="fa fa-check"></i><b>10.4.3</b> 주제별 단어-문서 분포</a></li>
<li class="chapter" data-level="10.4.4" data-path="anal3topic.html"><a href="anal3topic.html#과제-7"><i class="fa fa-check"></i><b>10.4.4</b> 과제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="anal4topic.html"><a href="anal4topic.html"><i class="fa fa-check"></i><b>11</b> 분석4: 주제모형(공변인)</a>
<ul>
<li class="chapter" data-level="11.1" data-path="anal4topic.html"><a href="anal4topic.html#주제-명명과-공변인-주제모형"><i class="fa fa-check"></i><b>11.1</b> 주제 명명과 공변인 주제모형</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="anal4topic.html"><a href="anal4topic.html#개관-2"><i class="fa fa-check"></i><b>11.1.1</b> 개관</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="anal4topic.html"><a href="anal4topic.html#자료-준비-2"><i class="fa fa-check"></i><b>11.2</b> 자료 준비</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="anal4topic.html"><a href="anal4topic.html#수집-2"><i class="fa fa-check"></i><b>11.2.1</b> 수집</a></li>
<li class="chapter" data-level="11.2.2" data-path="anal4topic.html"><a href="anal4topic.html#선택-표집"><i class="fa fa-check"></i><b>11.2.2</b> (선택) 표집</a></li>
<li class="chapter" data-level="11.2.3" data-path="anal4topic.html"><a href="anal4topic.html#정제-3"><i class="fa fa-check"></i><b>11.2.3</b> 정제</a></li>
<li class="chapter" data-level="11.2.4" data-path="anal4topic.html"><a href="anal4topic.html#stm말뭉치"><i class="fa fa-check"></i><b>11.2.4</b> <code>stm</code>말뭉치</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="anal4topic.html"><a href="anal4topic.html#분석-2"><i class="fa fa-check"></i><b>11.3</b> 분석</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="anal4topic.html"><a href="anal4topic.html#주제topic의-수-설정"><i class="fa fa-check"></i><b>11.3.1</b> 주제(topic)의 수 설정</a></li>
<li class="chapter" data-level="11.3.2" data-path="anal4topic.html"><a href="anal4topic.html#모형-구성"><i class="fa fa-check"></i><b>11.3.2</b> 모형 구성</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="anal4topic.html"><a href="anal4topic.html#주제-이름짓기"><i class="fa fa-check"></i><b>11.4</b> 주제 이름짓기</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="anal4topic.html"><a href="anal4topic.html#주제별-단어와-원문-결합"><i class="fa fa-check"></i><b>11.4.1</b> 주제별 단어와 원문 결합</a></li>
<li class="chapter" data-level="11.4.2" data-path="anal4topic.html"><a href="anal4topic.html#주제-이름-목록"><i class="fa fa-check"></i><b>11.4.2</b> 주제 이름 목록</a></li>
<li class="chapter" data-level="11.4.3" data-path="anal4topic.html"><a href="anal4topic.html#주제별-단어-분포도"><i class="fa fa-check"></i><b>11.4.3</b> 주제별 단어 분포도</a></li>
<li class="chapter" data-level="11.4.4" data-path="anal4topic.html"><a href="anal4topic.html#주제별-문서-분포도"><i class="fa fa-check"></i><b>11.4.4</b> 주제별 문서 분포도</a></li>
<li class="chapter" data-level="11.4.5" data-path="anal4topic.html"><a href="anal4topic.html#주제별-단어-문서-분포-1"><i class="fa fa-check"></i><b>11.4.5</b> 주제별 단어-문서 분포</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="anal4topic.html"><a href="anal4topic.html#공변인-분석"><i class="fa fa-check"></i><b>11.5</b> 공변인 분석</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="anal4topic.html"><a href="anal4topic.html#문서-내용-확인"><i class="fa fa-check"></i><b>11.5.1</b> 문서 내용 확인</a></li>
<li class="chapter" data-level="11.5.2" data-path="anal4topic.html"><a href="anal4topic.html#공변인-분석-시각화"><i class="fa fa-check"></i><b>11.5.2</b> 공변인 분석 시각화</a></li>
<li class="chapter" data-level="11.5.3" data-path="anal4topic.html"><a href="anal4topic.html#주제-사이-상관성"><i class="fa fa-check"></i><b>11.5.3</b> 주제 사이 상관성</a></li>
<li class="chapter" data-level="11.5.4" data-path="anal4topic.html"><a href="anal4topic.html#과제-8"><i class="fa fa-check"></i><b>11.5.4</b> 과제</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">텍스트마이닝</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data2" class="section level1" number="5">
<h1><span class="header-section-number">Chapter 5</span> 수집: 불러오기</h1>
<p>자료는 존재에 대한 관찰의 기록이다. 현실을 기술하거나 나타내는 상징(숫자 문자 도형 등)으로서 인식의 첫 단계다. 수집한 원자료를 정제(1차 부호화)하면 자료가 생성된다. 자료에 의미를 부여하는 2차 부호화 단계를 통해 정보가 생성된다. 자료, 즉 데이터는 추상적인 개념이다. 데이터는 데이터셋(dataset)으로 구체화해 존재한다.
데이터셋은 바이너리파일(binary file) 형태나 일반텍스트(plain text) 파일 형태로 존재한다. 바이너리 파일이란 epub나 pdf처럼 텍스트 양식정보가 포함된 파일이다. 일반텍스트파일은 txt처럼 양식 정보 없이 텍스트 정보 자체만 있는 파일이다.</p>
<p>웹서버에 저장된 바이너리 파일은 <code>download.file()</code>함수로 다운로드 받은 후 불러오기 과정을 거쳐야 데이터를 정제 분석 등의 과정을 처리할 수 있다. 일반텍스트 파일은 <code>read_lines()</code>함수 등을 이용해 다운로드과정을 거치지 않고 직접 불러오기 할 수 있다.</p>
<p>(주: 이전 설명에서는 <code>readLines()</code>로 설명했었다. <code>readr</code>의 <code>read_lines()</code>이 더 효율적이므로 <code>read_lines()</code>를 사용하기로 한다. <code>readr</code>은 <code>tidyverse</code>가 실행되면 함께 부착되는 핵심 패키지 중 하나)</p>
<div id="바이너리-파일" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> 바이너리 파일</h2>
<p>인터넷은 데이터셋의 보고다. 웹사이트에 접속해 수작업으로 다운로드 받을 수 있지만, 데이터셋의 위치(웹사이트 주소 및 파일 위치)를 정확하게 알고 있으면 <code>download.file()</code>과 같은 함수를 이용해 다운로드 받을 수 있다.</p>
<p><code>download.file()</code>함수 사용법은 다음과 같다.</p>
<pre><code>download.file(url, # 파일의 URL
              destfile, # 다운로드 받을 파일의 경로와 이름
              mode # 다운로드 받는 방식. 바이너리 파일인 경우 윈도에서는 &quot;wb&quot;로 지정.
              )
</code></pre>
<p><code>download.file()</code>함수를 이용해 파일 받기를 해보자. epub파일이 다음 URL에 위치하고 있다. 파일명을 <code>jikji.epub</code>로 지정해 다운로드 받아보자.</p>
<ul>
<li>URL: <a href="https://www.dropbox.com/s/ug3pi74dnxb66wj/jikji.epub?dl=1" class="uri">https://www.dropbox.com/s/ug3pi74dnxb66wj/jikji.epub?dl=1</a></li>
</ul>
<p>아래 코드는 <code>dir.create()</code>함수로 작업디렉토리 아래 “data”폴더를 만든 다음, <code>data</code>폴더에 <code>jikji.epub</code>파일을 저장한다.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="data2.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="st">&quot;data&quot;</span>)</span>
<span id="cb2-2"><a href="data2.html#cb2-2" aria-hidden="true" tabindex="-1"></a>file_url <span class="ot">&lt;-</span> <span class="st">&#39;https://www.dropbox.com/s/ug3pi74dnxb66wj/jikji.epub?dl=1&#39;</span></span>
<span id="cb2-3"><a href="data2.html#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 윈도에서 mode = &quot;wb&quot;추가 필요</span></span>
<span id="cb2-4"><a href="data2.html#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(<span class="at">url =</span> file_url, </span>
<span id="cb2-5"><a href="data2.html#cb2-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">destfile =</span> <span class="st">&quot;data/jikji.epub&quot;</span>,</span>
<span id="cb2-6"><a href="data2.html#cb2-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">mode=</span><span class="st">&quot;wb&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="data2.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list.files</span>(<span class="at">path =</span> <span class="st">&quot;data&quot;</span>, <span class="at">pattern =</span> <span class="st">&quot;epub&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;bunn.epub&quot;  &quot;jikji.epub&quot; &quot;moby.epub&quot;  &quot;sense.epub&quot;</code></pre>
<p><code>jikji.epub</code>란 파일의 데이터셋이 컴퓨터 하드디스크의 작업디렉토리 아래에 있는 <code>data</code>폴더에 저장됐다.</p>
<div id="불러오기이입-import" class="section level3" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> 불러오기(이입: import)</h3>
<p>불러오기(import)는 PC나 서버의 하드디스크에 있는 파일의 내용을 R환경으로 불러오는 작업이다. 외부 하드디스크에서 R환경 안으로 읽어 들이므로 import(불러오기 또는 이입)라고 한다. 반대로 R환경 내부의 자료를 하드디스크로 내보내는 작업을 내보내기(export: 이출)라고 한다.</p>
<p>EPUB(electronic publication)는 국제디지털포럼에서 제정한 개방형 전자서적 표준이다. 다양한 epub리더가 있는데, R에서는 <code>epubr</code>패키지의 <code>epub()</code>함수를 이용해 불러오기를 할 수 있다.</p>
<p>작업디렉토리 아래 <code>data</code>폴더에 있는<code>jikji.epub</code>파일을 <code>epub()</code>함수로 R환경 안으로 불러오자. 결과를 <code>str()</code>함수와 <code>glimpse()</code>함수로 결과를 비교해 보자.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="data2.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;epubr&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="data2.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<pre><code>## -- Attaching packages --------------------------------------- tidyverse 1.3.0 --</code></pre>
<pre><code>## v ggplot2 3.3.2     v purrr   0.3.4
## v tibble  3.0.4     v dplyr   1.0.2
## v tidyr   1.1.2     v stringr 1.4.0
## v readr   1.4.0     v forcats 0.5.0</code></pre>
<pre><code>## -- Conflicts ------------------------------------------ tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="data2.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(epubr)</span>
<span id="cb10-2"><a href="data2.html#cb10-2" aria-hidden="true" tabindex="-1"></a>jikji_df <span class="ot">&lt;-</span> <span class="fu">epub</span>(<span class="st">&quot;data/jikji.epub&quot;</span>)</span>
<span id="cb10-3"><a href="data2.html#cb10-3" aria-hidden="true" tabindex="-1"></a>jikji_df <span class="sc">%&gt;%</span> <span class="fu">str</span>()</span></code></pre></div>
<pre><code>## tibble [1 x 8] (S3: tbl_df/tbl/data.frame)
##  $ identifier: chr &quot;urn:uuid:15037ed1-7721-4f33-8534-f6a7473ab654&quot;
##  $ title     : chr &quot;직지 프로젝트&quot;
##  $ creator   : chr &quot;수학방&quot;
##  $ language  : chr &quot;ko&quot;
##  $ date      : chr &quot;2013-05-10&quot;
##  $ rights    : chr &quot;크리에이티브 커먼즈 저작자표시-비영리-동일조건변경허락 2.0 대한민국&quot;
##  $ source    : chr &quot;직지프로젝트(http://www.jikji.org)&quot;
##  $ data      :List of 1
##   ..$ : tibble [93 x 4] (S3: tbl_df/tbl/data.frame)
##   .. ..$ section: chr [1:93] &quot;x2.xhtml&quot; &quot;x3.xhtml&quot; &quot;x4.xhtml&quot; &quot;x5.xhtml&quot; ...
##   .. ..$ text   : Named chr [1:93] &quot;17원 50전(十七圓五十錢)--- 젋은 화가 A의 눈물 한 방울\n\n  지은이: 나도향\n\n    출전: 개벽, &lt;1923&gt;\n\n    공개&quot;| __truncated__ &quot;B사감(舍監)과 러브레터\n\n  지은이: 현진건\n\n    출전: 조선문단 5호 &lt;1925&gt;\n  본문\n\n  여학교에서 교원 겸 기&quot;| __truncated__ &quot;경희(瓊姬)\n\n  지은이: 나혜석\n\n    출판사: 여자계1\n\n    찍은해: 1918년 3월\n\n    전산화: 1999? ~\n\n    &quot;| __truncated__ &quot;계집 하인\n\n  지은이: 나도향\n\n    출전: 조선 문단 5월호 &lt;1925&gt;\n\n    공개되어 있는 내용이 없어 2009.9.22일 &quot;| __truncated__ ...
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:93] &quot;C:/Users/Public/Documents/ESTsoft/CreatorTemp/RtmpsDR90L/jikji/OEBPS/Text/2.xhtml&quot; &quot;C:/Users/Public/Documents/ESTsoft/CreatorTemp/RtmpsDR90L/jikji/OEBPS/Text/3.xhtml&quot; &quot;C:/Users/Public/Documents/ESTsoft/CreatorTemp/RtmpsDR90L/jikji/OEBPS/Text/4.xhtml&quot; &quot;C:/Users/Public/Documents/ESTsoft/CreatorTemp/RtmpsDR90L/jikji/OEBPS/Text/5.xhtml&quot; ...
##   .. ..$ nword  : Named int [1:93] 126 11 23 7 26 12 13 15 26 36 ...
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:93] &quot;C:/Users/Public/Documents/ESTsoft/CreatorTemp/RtmpsDR90L/jikji/OEBPS/Text/2.xhtml&quot; &quot;C:/Users/Public/Documents/ESTsoft/CreatorTemp/RtmpsDR90L/jikji/OEBPS/Text/3.xhtml&quot; &quot;C:/Users/Public/Documents/ESTsoft/CreatorTemp/RtmpsDR90L/jikji/OEBPS/Text/4.xhtml&quot; &quot;C:/Users/Public/Documents/ESTsoft/CreatorTemp/RtmpsDR90L/jikji/OEBPS/Text/5.xhtml&quot; ...
##   .. ..$ nchar  : Named int [1:93] 18422 5524 27801 8784 5843 9983 16631 86078 10953 12732 ...
##   .. .. ..- attr(*, &quot;names&quot;)= chr [1:93] &quot;C:/Users/Public/Documents/ESTsoft/CreatorTemp/RtmpsDR90L/jikji/OEBPS/Text/2.xhtml&quot; &quot;C:/Users/Public/Documents/ESTsoft/CreatorTemp/RtmpsDR90L/jikji/OEBPS/Text/3.xhtml&quot; &quot;C:/Users/Public/Documents/ESTsoft/CreatorTemp/RtmpsDR90L/jikji/OEBPS/Text/4.xhtml&quot; &quot;C:/Users/Public/Documents/ESTsoft/CreatorTemp/RtmpsDR90L/jikji/OEBPS/Text/5.xhtml&quot; ...</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="data2.html#cb12-1" aria-hidden="true" tabindex="-1"></a>jikji_df <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 1
## Columns: 8
## $ identifier &lt;chr&gt; &quot;urn:uuid:15037ed1-7721-4f33-8534-f6a7473ab654&quot;
## $ title      &lt;chr&gt; &quot;직지 프로젝트&quot;
## $ creator    &lt;chr&gt; &quot;수학방&quot;
## $ language   &lt;chr&gt; &quot;ko&quot;
## $ date       &lt;chr&gt; &quot;2013-05-10&quot;
## $ rights     &lt;chr&gt; &quot;크리에이티브 커먼즈 저작자표시-비영리-동일조건변경허락 2.0 대한민국&quot;
## $ source     &lt;chr&gt; &quot;직지프로젝트(http://www.jikji.org)&quot;
## $ data       &lt;list&gt; [&lt;tbl_df[93 x 4]&gt;]</code></pre>
<p>R기본함수인 <code>str()</code>함수와 <code>tidyverse</code>에 부착된 <code>dplyr</code>패키지의 <code>glimpse()</code>함수는 둘 다 객체의 구조를 제시하지만, <code>str()</code>함수는 자세하게, <code>glimpse()</code>는 간결하게 보여준다.</p>
<p><code>epub</code>파일에는 메타데이터와 텍스트데이터가 함께 저장돼 있다. <code>title</code>, <code>source</code> 등의 열에 EPUB문서의 메타데이터가 있다. 다운로드 받은 파일의 메타데이터를 보면 수학방에서 직지프로젝트로 한글소설 93편을 모아 전자서적으로 만든 파일이란 것을 알수 있다. 텍스트데이터는 <code>data</code>열에 리스트로 저장돼 있다. 리스트 구조의 첫번째 요소이므로 <code>[[ ]]</code>를 이용해 부분선택할 수 있다.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="data2.html#cb14-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> jikji_df<span class="sc">$</span>data[[<span class="dv">1</span>]]</span>
<span id="cb14-2"><a href="data2.html#cb14-2" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 93
## Columns: 4
## $ section &lt;chr&gt; &quot;x2.xhtml&quot;, &quot;x3.xhtml&quot;, &quot;x4.xhtml&quot;, &quot;x5.xhtml&quot;, &quot;x6.xhtml&quot;,...
## $ text    &lt;chr&gt; &quot;17원 50전(十七圓五十錢)--- 젋은 화가 A의 눈물 한 방울\n\n  지은이: 나도향\n\n    출...
## $ nword   &lt;int&gt; 126, 11, 23, 7, 26, 12, 13, 15, 26, 36, 6, 24, 10, 133, 10,...
## $ nchar   &lt;int&gt; 18422, 5524, 27801, 8784, 5843, 9983, 16631, 86078, 10953, ...</code></pre>
<p>93행 4열의 데이터프레임이고 text열에 소설 본문이 있다. 첫번째 소설을 부분선택해 보자.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="data2.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> df<span class="sc">$</span>text[<span class="dv">1</span>]) </span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   text                                                                          
##   &lt;chr&gt;                                                                         
## 1 &quot;17원 50전(十七圓五十錢)--- 젋은 화가 A의 눈물 한 방울\n\n  지은이: 나도향\n\n    출전: 개벽, &lt;1923&gt;\n\n ~</code></pre>
<p>첫번째 소설은 나도향의 “17월 50전”이다. 이 소설에서 사용한 단어의 빈도를 분석해 시각화해보자.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="data2.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span>
<span id="cb18-2"><a href="data2.html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb18-3"><a href="data2.html#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> df<span class="sc">$</span>text[<span class="dv">1</span>]) <span class="sc">%&gt;%</span> </span>
<span id="cb18-4"><a href="data2.html#cb18-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text) <span class="sc">%&gt;%</span> </span>
<span id="cb18-5"><a href="data2.html#cb18-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">count</span>(word, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb18-6"><a href="data2.html#cb18-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(n <span class="sc">&gt;=</span><span class="dv">20</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-7"><a href="data2.html#cb18-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">reorder</span>(word, n)) <span class="sc">%&gt;%</span> </span>
<span id="cb18-8"><a href="data2.html#cb18-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_col</span>(<span class="fu">aes</span>(word, n)) <span class="sc">+</span></span>
<span id="cb18-9"><a href="data2.html#cb18-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/data7-1.png" width="672" /></p>
<p>“저의 저는 그 이” 등의 단어가 많이 사용됐다. 분석 전에 정제를 충분하기 않아 의미를 파악하기 어렵다. 데이터 정제방법은 추후 자세하게 다룬다.</p>
</div>
</div>
<div id="일반텍스트plain-text-파일" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> 일반텍스트(plain text) 파일</h2>
<p>서버에 일반텍스트파일(txt)로 저장돼 있으면 다운로드 과정을 거치지 않고, 직접 불러오기를 할 수 있다.</p>
<p>프로젝트 구텐베르크는 인류가 생성한 정보를 디지털로 저장하고 배포하는 프로젝트다. 자원봉사자들이 문자와 음성을 디지털로 올리고 있다. 대부분 영어권의 문학작품이다.</p>
<p>프로젝트 구텐베르크는 일반텍스트, HTML, epub, 음성 등 다양한 형식으로 제공하고 있다 (Figure <a href="#fig:gutenberg"><strong>??</strong></a>).</p>
<div class="figure">
<img src="images/gutenberg.JPG" alt="프로젝트 구텐베르크의 모비딕" width="1550" />
<p class="caption">
(#fig:data8, gutenberg)프로젝트 구텐베르크의 모비딕
</p>
</div>
<p>프로젝트 구텐베르크에서 일반텍스트파일로 저장된 멜빌의 <모비딕>을 불러오자. 일반텍스트 파일은 <code>read_lines()</code>함수를 이용한다.</p>
<ul>
<li>URL: <a href="https://www.gutenberg.org/files/2701/2701-0.txt" class="uri">https://www.gutenberg.org/files/2701/2701-0.txt</a></li>
</ul>
<p>(<code>readr</code>패키지의 <code>read_lines()</code>함수의 내용은 <a href="https://readr.tidyverse.org/reference/read_lines.html">readr 문서</a> 참조)</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="data2.html#cb19-1" aria-hidden="true" tabindex="-1"></a>moby_url <span class="ot">&lt;-</span> <span class="st">&#39;https://www.gutenberg.org/files/2701/2701-0.txt&#39;</span></span>
<span id="cb19-2"><a href="data2.html#cb19-2" aria-hidden="true" tabindex="-1"></a>moby_v <span class="ot">&lt;-</span> <span class="fu">read_lines</span>(moby_url)</span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="data2.html#cb20-1" aria-hidden="true" tabindex="-1"></a>moby_v <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span>
<span id="cb20-2"><a href="data2.html#cb20-2" aria-hidden="true" tabindex="-1"></a>moby_v <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">3</span>)</span>
<span id="cb20-3"><a href="data2.html#cb20-3" aria-hidden="true" tabindex="-1"></a>moby_v <span class="sc">%&gt;%</span> <span class="fu">tail</span>(<span class="dv">3</span>)</span></code></pre></div>
<p>일반텍스트 파일은 <code>scan()</code>함수를 통해서도 읽을 수 있다. <code>scan</code>함수에는 인자를 데이터의 유형<code>what =</code>(이 경우에는 “character”)과 구분자<code>sep =</code>를 지정해야 한다. 기본값은 공백이다. <code>sep =</code>인자에 값을 지정하지 않으면 띄어쓰기를 기준으로 구분해서 읽어온다.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="data2.html#cb21-1" aria-hidden="true" tabindex="-1"></a>moby_scan <span class="ot">&lt;-</span> <span class="fu">scan</span>(moby_url, <span class="at">what =</span> <span class="st">&quot;character&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="data2.html#cb22-1" aria-hidden="true" tabindex="-1"></a>moby_scan <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div>
<p>만일, 행을 구분하여 읽어 오려면 구분자를 개행(new line) 공백문자인 <code>\n</code>으로 지정한다.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="data2.html#cb23-1" aria-hidden="true" tabindex="-1"></a>moby_scan_n <span class="ot">&lt;-</span> <span class="fu">scan</span>(moby_url, <span class="at">what =</span> <span class="st">&quot;character&quot;</span>, <span class="at">sep=</span> <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="data2.html#cb24-1" aria-hidden="true" tabindex="-1"></a>moby_scan_n <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code></pre></div>
<p>함수의 자세한 사용법은 <code>?함수명</code>으로 도움말을 이용하자.
<code>scan()</code>함수는 문자형 문서 뿐아니라, 숫자형, 논리형 문서도 읽어 올수 있다. 반면, <code>read_lines()</code>함수는 문자형 데이터만 읽어 올수 있다.</p>
</div>
<div id="html-파일" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> HTML 파일</h2>
<p>HTML(HyperText Markup Language)문서는 웹브라우저를 이용해 열람할 수 있도록 한 형식의 문서다. HTML은 웹페이지를 만드는 언어로서 풀어쓰면 초본문(HyperText) 표식달기(Markup) 언어(Language)다. R이나 자바와 같은 프로그래밍언어가 아니라 마크업언어다. 본문(text)에 표식(Mark)을 달아(up) 문서의 구조와 내용을 지정한다.</p>
<p>일반적인 문서는 순차적으로 연결돼 있지만, 초본문(HypterText)은 본문과 본문이 마크업(링크 또는 하이퍼링크(hyperlink))을 통해 비순차적으로 연결돼 있다. 순차적인 연결을 뛰어넘는(초월한 Hyper) 문서이므로 초본문이라고 한다.</p>
<p>HTLM문서는 <code>tidytverse</code>패키지와 함께 설치되는 <code>rvest</code>패키지에서 제공하는 <code>read_html()</code>함수 등을 이용해 내용을 추출할 수 있다. <code>rvest</code>패키지는 <code>tidytverse</code>와 함께 설치돼도 부착되지는 않기 때문에 <code>library()</code>함수로 R환경에 탑재해야 한다.</p>
<p><code>rvest</code>패키지의 함수는 3종류로 구분할 수 있다. (자세한 내용은 다음 장에서 다룬다.)</p>
<ul>
<li>HTML문서 불러오기
<ul>
<li><code>read_html()</code></li>
</ul></li>
<li>HTML문서에서 HTML요소 추출
<ul>
<li><code>html_node()</code> <code>html_nodes()</code></li>
</ul></li>
<li>HTML요소에서 내용 혹은 속성의 값 추출
<ul>
<li><code>html_text()</code> <code>html_table()</code> <code>html_attr()</code> <code>html_attrs()</code></li>
</ul></li>
</ul>
<div id="html문서-불러오기-read_html" class="section level3" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> HTML문서 불러오기 <code>read_html()</code></h3>
<p>프로젝트 구텐베르크에서 HTML형식으로 된 <모비딕>을 불러오자.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="data2.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rvest)</span>
<span id="cb25-2"><a href="data2.html#cb25-2" aria-hidden="true" tabindex="-1"></a>moby_url_h <span class="ot">&lt;-</span> <span class="st">&#39;https://www.gutenberg.org/files/2701/2701-h/2701-h.htm&#39;</span></span></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="data2.html#cb26-1" aria-hidden="true" tabindex="-1"></a>moby_html <span class="ot">&lt;-</span> <span class="fu">read_html</span>(moby_url_h)</span>
<span id="cb26-2"><a href="data2.html#cb26-2" aria-hidden="true" tabindex="-1"></a>moby_html</span></code></pre></div>
<p>여러 HTML 요소(element)가 포함된 HTML문서가 산출된다. <code>&lt;head&gt;</code>와 <code>&lt;body&gt;</code> 등의 태그(tag)가 보인다. 이처럼 HTML문서는 태그(tag)로 문서의 내용이 마크업돼 있다.</p>
</div>
<div id="htlm요소-추출하기-html_node" class="section level3" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> HTLM요소 추출하기 <code>html_node()</code></h3>
<p><code>html_node()</code>함수를 이용해 <code>&lt;body&gt;</code>섹션 안의 HTML요소들을 추출하자.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="data2.html#cb27-1" aria-hidden="true" tabindex="-1"></a>moby_html <span class="sc">%&gt;%</span> <span class="fu">html_node</span>(<span class="st">&quot;body&quot;</span>)</span></code></pre></div>
</div>
<div id="내용-추출하기-html_text" class="section level3" number="5.3.3">
<h3><span class="header-section-number">5.3.3</span> 내용 추출하기 <code>html_text</code></h3>
<p><code>html_text()</code>함수를 이용해 본문을 추출하자.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="data2.html#cb28-1" aria-hidden="true" tabindex="-1"></a>moby_html <span class="sc">%&gt;%</span> <span class="fu">html_node</span>(<span class="st">&quot;body&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">html_text</span>()</span></code></pre></div>
<p><code>read_html()</code> -&gt; <code>html_node()</code> -&gt; <code>html_text()</code>의 순서는 HTML문서 불러오기의 기본 구조이므로 잘 기억해두자. 다음 장에서 보다 자세하게 다룬다.</p>
</div>
</div>
<div id="내보내기export-이출" class="section level2" number="5.4">
<h2><span class="header-section-number">5.4</span> 내보내기(export: 이출)</h2>
<p>R환경 내의 객체는 메모리에 올려져 있기 때문에, R세션이 종료되면 함께 사라진다. 추후 사용하기 위해서는 하드디스크에 저장해 둬야 한다.</p>
<p>R은 기본값(default)으로 R환경 내의 객체를 이미지로 저장한다. 기본값으로 저장된 이미지는 <code>.RData</code> 파일에 저장돼 있다. (2.8.2 R환경내 객체를 다루는 함수 참조)</p>
<p>특정 객체를 저장하기 위해서는 데이터구조에 따라 접근이 다르다. 문자형데이터는 <code>readr</code>패키지의 <code>write_lines()</code>함수를 이용한다.</p>
<p>(주: 이전 설명에서는 <code>writeLines()</code>로 설명했었다. <code>write_lines()</code>이 더 효율적이므로 <code>write_lines()</code>를 사용하기로 한다.)</p>
<ul>
<li>write_lines(x, file, sep = “” na = “NA,” append = FALSE, path = deprecated())</li>
</ul>
<p><a href="https://readr.tidyverse.org/reference/read_lines.html">함수의 자세한 용법은 여기</a></p>
<p>아래 코드를 실행하면 작업디렉토리 아래의 <code>data</code>폴더가 생성되고, 그 안에 <code>ogamdo.txt</code>파일이 생성된다.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="data2.html#cb29-1" aria-hidden="true" tabindex="-1"></a>ogamdo_txt <span class="ot">&lt;-</span> <span class="st">&quot;13인의 아해가 도로로 질주하오.</span></span>
<span id="cb29-2"><a href="data2.html#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="st">(길은 막다른 골목이 적당하오.)</span></span>
<span id="cb29-3"><a href="data2.html#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="data2.html#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="st">제1의 아해가 무섭다고 그리오.</span></span>
<span id="cb29-5"><a href="data2.html#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="st">제2의 아해도 무섭다고 그리오.</span></span>
<span id="cb29-6"><a href="data2.html#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="st">제3의 아해도 무섭다고 그리오.</span></span>
<span id="cb29-7"><a href="data2.html#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="st">제4의 아해도 무섭다고 그리오.</span></span>
<span id="cb29-8"><a href="data2.html#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="st">제5의 아해도 무섭다고 그리오.</span></span>
<span id="cb29-9"><a href="data2.html#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="st">제6의 아해도 무섭다고 그리오.</span></span>
<span id="cb29-10"><a href="data2.html#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="st">제7의 아해도 무섭다고 그리오.</span></span>
<span id="cb29-11"><a href="data2.html#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="st">제8의 아해도 무섭다고 그리오.</span></span>
<span id="cb29-12"><a href="data2.html#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="st">제9의 아해도 무섭다고 그리오.</span></span>
<span id="cb29-13"><a href="data2.html#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="st">제10의 아해도 무섭다고 그리오.</span></span>
<span id="cb29-14"><a href="data2.html#cb29-14" aria-hidden="true" tabindex="-1"></a><span class="st">제11의 아해가 무섭다고 그리오.</span></span>
<span id="cb29-15"><a href="data2.html#cb29-15" aria-hidden="true" tabindex="-1"></a><span class="st">제12의 아해도 무섭다고 그리오.</span></span>
<span id="cb29-16"><a href="data2.html#cb29-16" aria-hidden="true" tabindex="-1"></a><span class="st">제13의 아해도 무섭다고 그리오.</span></span>
<span id="cb29-17"><a href="data2.html#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="st">13인의 아해는 무서운 아해와 무서워하는 아해와 그렇게뿐이 모였소.(다른 사정은 없는 것이 차라리 나았소)</span></span>
<span id="cb29-18"><a href="data2.html#cb29-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-19"><a href="data2.html#cb29-19" aria-hidden="true" tabindex="-1"></a><span class="st">그중에 1인의 아해가 무서운 아해라도 좋소.</span></span>
<span id="cb29-20"><a href="data2.html#cb29-20" aria-hidden="true" tabindex="-1"></a><span class="st">그중에 2인의 아해가 무서운 아해라도 좋소.</span></span>
<span id="cb29-21"><a href="data2.html#cb29-21" aria-hidden="true" tabindex="-1"></a><span class="st">그중에 2인의 아해가 무서워하는 아해라도 좋소.</span></span>
<span id="cb29-22"><a href="data2.html#cb29-22" aria-hidden="true" tabindex="-1"></a><span class="st">그중에 1인의 아해가 무서워하는 아해라도 좋소.</span></span>
<span id="cb29-23"><a href="data2.html#cb29-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-24"><a href="data2.html#cb29-24" aria-hidden="true" tabindex="-1"></a><span class="st">(길은 뚫린 골목이라도 적당하오.)</span></span>
<span id="cb29-25"><a href="data2.html#cb29-25" aria-hidden="true" tabindex="-1"></a><span class="st">13인의 아해가 도로로 질주하지 아니하여도 좋소.&quot;</span></span>
<span id="cb29-26"><a href="data2.html#cb29-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-27"><a href="data2.html#cb29-27" aria-hidden="true" tabindex="-1"></a><span class="co"># dir.create(&quot;data&quot;)</span></span>
<span id="cb29-28"><a href="data2.html#cb29-28" aria-hidden="true" tabindex="-1"></a>ogamdo_txt <span class="sc">%&gt;%</span> <span class="fu">write_lines</span>(<span class="st">&quot;data/ogamdo.txt&quot;</span>)</span></code></pre></div>
<p>파일이 생성돼 있는지 획인해보자.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="data2.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list.files</span>(<span class="at">path =</span> <span class="st">&quot;data&quot;</span>, </span>
<span id="cb30-2"><a href="data2.html#cb30-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">pattern =</span> <span class="st">&quot;ogamdo&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;ogamdo.txt&quot;  &quot;ogamdo2.txt&quot;</code></pre>
<p>파일을 만들었으면, <code>read_lines()</code>함수로 읽어 보자.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="data2.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_lines</span>(<span class="st">&quot;data/ogamdo.txt&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;13인의 아해가 도로로 질주하오.&quot;                                                                       
##  [2] &quot;(길은 막다른 골목이 적당하오.)&quot;                                                                       
##  [3] &quot;&quot;                                                                                                     
##  [4] &quot;제1의 아해가 무섭다고 그리오.&quot;                                                                        
##  [5] &quot;제2의 아해도 무섭다고 그리오.&quot;                                                                        
##  [6] &quot;제3의 아해도 무섭다고 그리오.&quot;                                                                        
##  [7] &quot;제4의 아해도 무섭다고 그리오.&quot;                                                                        
##  [8] &quot;제5의 아해도 무섭다고 그리오.&quot;                                                                        
##  [9] &quot;제6의 아해도 무섭다고 그리오.&quot;                                                                        
## [10] &quot;제7의 아해도 무섭다고 그리오.&quot;                                                                        
## [11] &quot;제8의 아해도 무섭다고 그리오.&quot;                                                                        
## [12] &quot;제9의 아해도 무섭다고 그리오.&quot;                                                                        
## [13] &quot;제10의 아해도 무섭다고 그리오.&quot;                                                                       
## [14] &quot;제11의 아해가 무섭다고 그리오.&quot;                                                                       
## [15] &quot;제12의 아해도 무섭다고 그리오.&quot;                                                                       
## [16] &quot;제13의 아해도 무섭다고 그리오.&quot;                                                                       
## [17] &quot;13인의 아해는 무서운 아해와 무서워하는 아해와 그렇게뿐이 모였소.(다른 사정은 없는 것이 차라리 나았소)&quot;
## [18] &quot;&quot;                                                                                                     
## [19] &quot;그중에 1인의 아해가 무서운 아해라도 좋소.&quot;                                                            
## [20] &quot;그중에 2인의 아해가 무서운 아해라도 좋소.&quot;                                                            
## [21] &quot;그중에 2인의 아해가 무서워하는 아해라도 좋소.&quot;                                                        
## [22] &quot;그중에 1인의 아해가 무서워하는 아해라도 좋소.&quot;                                                        
## [23] &quot;&quot;                                                                                                     
## [24] &quot;(길은 뚫린 골목이라도 적당하오.)&quot;                                                                     
## [25] &quot;13인의 아해가 도로로 질주하지 아니하여도 좋소.&quot;</code></pre>
<p>문자가 깨진다. 컴퓨터에 설정된 문자 인코딩과 R환경에 설정된 문자 인코딩이 맞지 않기 때문이다.</p>
</div>
<div id="인코딩encoding-부호화" class="section level2" number="5.5">
<h2><span class="header-section-number">5.5</span> 인코딩(encoding: 부호화)</h2>
<p>컴퓨터는 0과 1의 디지털로 데이터를 처리하기 때문에 인간의 언어를 컴퓨터가 처리할 수 있도록 하기 위해서는 개별 문자(character)에 대해 각각 이진부호를 부여한다. 디지털로 부호화(encoding)해 인간의 언어를 컴퓨터가 이해할 수 있도록 하는 것이다.</p>
<p>대표적인 사례가 아스키(ASCII: American Starndard Code for Information Interchange, 미국정보교환표준부호)다. 알파벳, 숫자, 자주 사용하는 특수문자 등 128개에 0부터 127까지 값을 부여했다. 예를 들어, A에는 65(이진법: 1000001), 0에는 48(이진법: 0110000)을 부여했다.</p>
<ul>
<li><a href="http://www.asciitable.com">ASCII Table and Description</a></li>
</ul>
<p>인간이 사용하는 문자는 128개를 훨씬 뛰어넘기 때문에, ASCII를 확장해 다양한 문자 인코딩(character encoding)을 이용하고 있다. 한글문자는 두가지 인코딩이 쓰인다. UTF-8과 CP-949다. UTF-8은 “ㄱ ㄴ ㅏ ㅑ” 등 각 자모에 코드를 부여한 조합형 인코딩이다. CP-949는 “가 불 힣” 등 완성된 한글문자 11,720개에 코드를 부여한 확장 인코딩이다. 당초 한글 완성형 인코딩으로 쓰이던 EUC-KR다. EUC-KR은 한글 문자 2,350개에만 코드를 부여해 한글표현이 부족하기 때문에 마이크로소프트는 이를 확장한 CP-949를 사용하고 있다.</p>
<p>운영체제 혹은 웹페이지마다 사용하는 인코딩이 다르다. 마이크로소프트는 CP-949를 사용하는 반면, 애플은 UTF-8을 사용한다. 대다수의 웹페이지는 UTF-8을 이용한다. 국내 웹페이지 중에는 EUC-KR을 사용하는 경우도 있다.</p>
<p>언어권별로 고유의 인코딩을 사용한다.인코딩이 맞지 않는다면, 문자가 깨져 읽을 수 없다. 한국의 한글, 일본의 가나, 중국의 한자와 같은 문자는 멀티바이트 문자인데, 영어권에서 개발한 프로그램이 멀티바이트문자 인코딩을 지원하지 않아 한글, 가나, 한자 등의 깨치는 경우가 드물지 않게 생긴다.</p>
<p>인코딩이 맞지 않아 문자가 깨진다면 <code>readr</code>패키지의 <code>guess_encoding()</code>함수를 이용해 인코딩이 무엇인지 확인할 수 있다. <code>readr</code>패키지는 <code>tidyverse</code>패키지에 부착돼 있으므로, <code>tidyverse</code>패키지를 실행한다.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="data2.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb34-2"><a href="data2.html#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">guess_encoding</span>(<span class="st">&quot;data/ogamdo.txt&quot;</span>) </span></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##   encoding confidence
##   &lt;chr&gt;         &lt;dbl&gt;
## 1 UTF-8             1</code></pre>
<p>다양한 인코딩 가능성을 제시됐다. 만일 특정 인코딩에 대한 확신이 높다면, 그 인코딩을 선택한다. 인코딩은 <code>iconv()</code>나 <code>enc2utf8()</code>함수로 변경할 수 있다.</p>
<ul>
<li><code>iconv(x, from = "", to = "", sub = NA, mark = TRUE, toRaw = FALSE)</code></li>
<li><code>enc2utf8(x)</code></li>
</ul>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="data2.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_lines</span>(<span class="st">&quot;data/ogamdo.txt&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">iconv</span>(<span class="st">&quot;utf-8&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;13인의 아해가 도로로 질주하오.&quot;                                                                       
##  [2] &quot;(길은 막다른 골목이 적당하오.)&quot;                                                                       
##  [3] &quot;&quot;                                                                                                     
##  [4] &quot;제1의 아해가 무섭다고 그리오.&quot;                                                                        
##  [5] &quot;제2의 아해도 무섭다고 그리오.&quot;                                                                        
##  [6] &quot;제3의 아해도 무섭다고 그리오.&quot;                                                                        
##  [7] &quot;제4의 아해도 무섭다고 그리오.&quot;                                                                        
##  [8] &quot;제5의 아해도 무섭다고 그리오.&quot;                                                                        
##  [9] &quot;제6의 아해도 무섭다고 그리오.&quot;                                                                        
## [10] &quot;제7의 아해도 무섭다고 그리오.&quot;                                                                        
## [11] &quot;제8의 아해도 무섭다고 그리오.&quot;                                                                        
## [12] &quot;제9의 아해도 무섭다고 그리오.&quot;                                                                        
## [13] &quot;제10의 아해도 무섭다고 그리오.&quot;                                                                       
## [14] &quot;제11의 아해가 무섭다고 그리오.&quot;                                                                       
## [15] &quot;제12의 아해도 무섭다고 그리오.&quot;                                                                       
## [16] &quot;제13의 아해도 무섭다고 그리오.&quot;                                                                       
## [17] &quot;13인의 아해는 무서운 아해와 무서워하는 아해와 그렇게뿐이 모였소.(다른 사정은 없는 것이 차라리 나았소)&quot;
## [18] &quot;&quot;                                                                                                     
## [19] &quot;그중에 1인의 아해가 무서운 아해라도 좋소.&quot;                                                            
## [20] &quot;그중에 2인의 아해가 무서운 아해라도 좋소.&quot;                                                            
## [21] &quot;그중에 2인의 아해가 무서워하는 아해라도 좋소.&quot;                                                        
## [22] &quot;그중에 1인의 아해가 무서워하는 아해라도 좋소.&quot;                                                        
## [23] &quot;&quot;                                                                                                     
## [24] &quot;(길은 뚫린 골목이라도 적당하오.)&quot;                                                                     
## [25] &quot;13인의 아해가 도로로 질주하지 아니하여도 좋소.&quot;</code></pre>
<p>가장 많이 사용하는 인코딩이 UTF-8이므로 R스튜디오의 인코딩 기본값(Defalt text encoding)을 UTF-8로 설정하면 편리하다.</p>
<p>R Studio(1.4)의 상단 메뉴 [Tools]를 클릭하면 열리는 풀다운메뉴에서 [Global Options] 선택하면 창이 새로 열린다. [Code] 선택하고 [Saving] 탭 클릭하면 인코딩 기본값(Defalt text encoding)을 지정할 수 있는 창이 열린다.</p>
<p>이 방법이 안되면 R Studio 상단 메뉴 [File]을 클릭하면 열리는 풀다운 메뉴에서 [Reopen with Encoding ]를 클릭하면 창(Choose Encoding)이 열린다. [UTF-8] 선택 후 [Set as default encoding for source files] 옆 박스에 체크 후 [OK]버튼을 클릭한다.</p>
</div>
<div id="테이블구조-문서" class="section level2" number="5.6">
<h2><span class="header-section-number">5.6</span> 테이블구조 문서</h2>
<p>테이블 구조 문서는 자료의 값이 행과 열에 저장돼 있는 문서다.</p>
<ul>
<li><p>CSV(comma-separated value): 파일 안의 값들이 콤마 <code>,</code>로 구분된 테이블 형식. <code>read_csv()</code></p></li>
<li><p>TSV(tab-separated value): 파일 안의 값들이 탭<code></code>으로 구분된 테이블 형식. <code>read_tsv()</code></p></li>
<li><p>FWF(fixed width format): 파일 안의 값들이 고정된 간격으로 구분된 테이블 형식.</p></li>
</ul>
<p>파일 형식에 따라 불러오기에 사용하는 함수가 다르다. csv파일은 <code>tidyverse</code>패키지에 부착되는 <code>readr</code>패키지의 <code>read_csv()</code>함수를 이용한다. R기본함수로 제공되는 <code>read.csv()</code>보다 처리속도가 빠르고 재현성이 좋다.</p>
<ul>
<li><code>readr</code>패키지 `<a href="https://readr.tidyverse.org/">사용설명서</a></li>
</ul>
<p>테이블구조 문서와 일반텍스트 문서의 차이를 살펴보자. 먼저, 테이블형식의 파일 <code>tibble.csv</code>을 생성해 하드디스크에 저장하자. 파일의 내용은 앞서 만든 벡터 <code>ogamdo_txt</code>를 데이터프레임으로 만들어 이용하자.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="data2.html#cb38-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">text =</span> ogamdo_txt)</span>
<span id="cb38-2"><a href="data2.html#cb38-2" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   text                                                                          
##   &lt;chr&gt;                                                                         
## 1 &quot;13인의 아해가 도로로 질주하오.\n(길은 막다른 골목이 적당하오.)\n\n제1의 아해가 무섭다고 그리오.\n제2의 아해도 무섭다고 그리~</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="data2.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 생성된 데이터프레임 파일로 저장</span></span>
<span id="cb40-2"><a href="data2.html#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(df, <span class="st">&quot;tibble.csv&quot;</span>)</span>
<span id="cb40-3"><a href="data2.html#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 생성된 파일 표시</span></span>
<span id="cb40-4"><a href="data2.html#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="fu">list.files</span>(<span class="at">pattern =</span> <span class="st">&quot;tibble&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;tibble.csv&quot; &quot;tibble.txt&quot;</code></pre>
<p>생성된 파일을 <code>readLines()</code>와 <code>read_csv()</code>함수로 읽어 들여 결과를 비교해 보자.</p>
<p>먼저 <code>readLines()</code></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="data2.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">readLines</span>(<span class="st">&quot;tibble.csv&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;text&quot;                                                                                                                                                                                                                                                               
##  [2] &quot;\&quot;13\xec씤\xec쓽 \xec븘\xed빐媛\u0080 \xeb룄濡쒕줈 吏덉＜\xed븯\xec삤.&quot;                                                                                                                                                                                             
##  [3] &quot;(湲몄\x9d\u0080 留됰떎瑜\xb8 怨⑤ぉ\xec씠 \xec쟻\xeb떦\xed븯\xec삤.)&quot;                                                                                                                                                                                               
##  [4] &quot;&quot;                                                                                                                                                                                                                                                                   
##  [5] &quot;\xec젣1\xec쓽 \xec븘\xed빐媛\u0080 臾댁꽠\xeb떎怨\xa0 洹몃━\xec삤.&quot;                                                                                                                                                                                                
##  [6] &quot;\xec젣2\xec쓽 \xec븘\xed빐\xeb룄 臾댁꽠\xeb떎怨\xa0 洹몃━\xec삤.&quot;                                                                                                                                                                                                  
##  [7] &quot;\xec젣3\xec쓽 \xec븘\xed빐\xeb룄 臾댁꽠\xeb떎怨\xa0 洹몃━\xec삤.&quot;                                                                                                                                                                                                  
##  [8] &quot;\xec젣4\xec쓽 \xec븘\xed빐\xeb룄 臾댁꽠\xeb떎怨\xa0 洹몃━\xec삤.&quot;                                                                                                                                                                                                  
##  [9] &quot;\xec젣5\xec쓽 \xec븘\xed빐\xeb룄 臾댁꽠\xeb떎怨\xa0 洹몃━\xec삤.&quot;                                                                                                                                                                                                  
## [10] &quot;\xec젣6\xec쓽 \xec븘\xed빐\xeb룄 臾댁꽠\xeb떎怨\xa0 洹몃━\xec삤.&quot;                                                                                                                                                                                                  
## [11] &quot;\xec젣7\xec쓽 \xec븘\xed빐\xeb룄 臾댁꽠\xeb떎怨\xa0 洹몃━\xec삤.&quot;                                                                                                                                                                                                  
## [12] &quot;\xec젣8\xec쓽 \xec븘\xed빐\xeb룄 臾댁꽠\xeb떎怨\xa0 洹몃━\xec삤.&quot;                                                                                                                                                                                                  
## [13] &quot;\xec젣9\xec쓽 \xec븘\xed빐\xeb룄 臾댁꽠\xeb떎怨\xa0 洹몃━\xec삤.&quot;                                                                                                                                                                                                  
## [14] &quot;\xec젣10\xec쓽 \xec븘\xed빐\xeb룄 臾댁꽠\xeb떎怨\xa0 洹몃━\xec삤.&quot;                                                                                                                                                                                                 
## [15] &quot;\xec젣11\xec쓽 \xec븘\xed빐媛\u0080 臾댁꽠\xeb떎怨\xa0 洹몃━\xec삤.&quot;                                                                                                                                                                                               
## [16] &quot;\xec젣12\xec쓽 \xec븘\xed빐\xeb룄 臾댁꽠\xeb떎怨\xa0 洹몃━\xec삤.&quot;                                                                                                                                                                                                 
## [17] &quot;\xec젣13\xec쓽 \xec븘\xed빐\xeb룄 臾댁꽠\xeb떎怨\xa0 洹몃━\xec삤.&quot;                                                                                                                                                                                                 
## [18] &quot;13\xec씤\xec쓽 \xec븘\xed빐\xeb뒗 臾댁꽌\xec슫 \xec븘\xed빐\xec\x99\u0080 臾댁꽌\xec썙\xed븯\xeb뒗 \xec븘\xed빐\xec\x99\u0080 洹몃젃寃뚮퓧\xec씠 紐⑥\x98\u0080\xec냼.(\xeb떎瑜\xb8 \xec궗\xec젙\xec\x9d\u0080 \xec뾾\xeb뒗 寃껋씠 李⑤씪由\xac \xeb굹\xec븯\xec냼)&quot;
## [19] &quot;&quot;                                                                                                                                                                                                                                                                   
## [20] &quot;洹몄쨷\xec뿉 1\xec씤\xec쓽 \xec븘\xed빐媛\u0080 臾댁꽌\xec슫 \xec븘\xed빐\xeb씪\xeb룄 醫뗭냼.&quot;                                                                                                                                                                      
## [21] &quot;洹몄쨷\xec뿉 2\xec씤\xec쓽 \xec븘\xed빐媛\u0080 臾댁꽌\xec슫 \xec븘\xed빐\xeb씪\xeb룄 醫뗭냼.&quot;                                                                                                                                                                      
## [22] &quot;洹몄쨷\xec뿉 2\xec씤\xec쓽 \xec븘\xed빐媛\u0080 臾댁꽌\xec썙\xed븯\xeb뒗 \xec븘\xed빐\xeb씪\xeb룄 醫뗭냼.&quot;                                                                                                                                                          
## [23] &quot;洹몄쨷\xec뿉 1\xec씤\xec쓽 \xec븘\xed빐媛\u0080 臾댁꽌\xec썙\xed븯\xeb뒗 \xec븘\xed빐\xeb씪\xeb룄 醫뗭냼.&quot;                                                                                                                                                          
## [24] &quot;&quot;                                                                                                                                                                                                                                                                   
## [25] &quot;(湲몄\x9d\u0080 \xeb슟由\xb0 怨⑤ぉ\xec씠\xeb씪\xeb룄 \xec쟻\xeb떦\xed븯\xec삤.)&quot;                                                                                                                                                                                   
## [26] &quot;13\xec씤\xec쓽 \xec븘\xed빐媛\u0080 \xeb룄濡쒕줈 吏덉＜\xed븯吏\u0080 \xec븘\xeb땲\xed븯\xec뿬\xeb룄 醫뗭냼.\&quot;&quot;</code></pre>
<p>문자가 깨진 것은 인코딩이 맞지 않기 때문이다. <code>guess_encoding()</code>함수를 이요해 인코딩을 확인하자.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="data2.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">guess_encoding</span>(<span class="st">&quot;tibble.csv&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##   encoding confidence
##   &lt;chr&gt;         &lt;dbl&gt;
## 1 UTF-8             1</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="data2.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">readLines</span>(<span class="st">&quot;tibble.csv&quot;</span>, <span class="at">encoding =</span> <span class="st">&quot;UTF-8&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;text&quot;                                                                                                 
##  [2] &quot;\&quot;13인의 아해가 도로로 질주하오.&quot;                                                                     
##  [3] &quot;(길은 막다른 골목이 적당하오.)&quot;                                                                       
##  [4] &quot;&quot;                                                                                                     
##  [5] &quot;제1의 아해가 무섭다고 그리오.&quot;                                                                        
##  [6] &quot;제2의 아해도 무섭다고 그리오.&quot;                                                                        
##  [7] &quot;제3의 아해도 무섭다고 그리오.&quot;                                                                        
##  [8] &quot;제4의 아해도 무섭다고 그리오.&quot;                                                                        
##  [9] &quot;제5의 아해도 무섭다고 그리오.&quot;                                                                        
## [10] &quot;제6의 아해도 무섭다고 그리오.&quot;                                                                        
## [11] &quot;제7의 아해도 무섭다고 그리오.&quot;                                                                        
## [12] &quot;제8의 아해도 무섭다고 그리오.&quot;                                                                        
## [13] &quot;제9의 아해도 무섭다고 그리오.&quot;                                                                        
## [14] &quot;제10의 아해도 무섭다고 그리오.&quot;                                                                       
## [15] &quot;제11의 아해가 무섭다고 그리오.&quot;                                                                       
## [16] &quot;제12의 아해도 무섭다고 그리오.&quot;                                                                       
## [17] &quot;제13의 아해도 무섭다고 그리오.&quot;                                                                       
## [18] &quot;13인의 아해는 무서운 아해와 무서워하는 아해와 그렇게뿐이 모였소.(다른 사정은 없는 것이 차라리 나았소)&quot;
## [19] &quot;&quot;                                                                                                     
## [20] &quot;그중에 1인의 아해가 무서운 아해라도 좋소.&quot;                                                            
## [21] &quot;그중에 2인의 아해가 무서운 아해라도 좋소.&quot;                                                            
## [22] &quot;그중에 2인의 아해가 무서워하는 아해라도 좋소.&quot;                                                        
## [23] &quot;그중에 1인의 아해가 무서워하는 아해라도 좋소.&quot;                                                        
## [24] &quot;&quot;                                                                                                     
## [25] &quot;(길은 뚫린 골목이라도 적당하오.)&quot;                                                                     
## [26] &quot;13인의 아해가 도로로 질주하지 아니하여도 좋소.\&quot;&quot;</code></pre>
<p>열의 이름 “text”가 본문의 일부로 산출된다.</p>
<p>이제 <code>read_csv()</code>함수로 읽어보자.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="data2.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;tibble.csv&quot;</span>)</span></code></pre></div>
<pre><code>## 
## -- Column specification --------------------------------------------------------
## cols(
##   text = col_character()
## )</code></pre>
<pre><code>## # A tibble: 1 x 1
##   text                                                                          
##   &lt;chr&gt;                                                                         
## 1 &quot;13인의 아해가 도로로 질주하오.\n(길은 막다른 골목이 적당하오.)\n\n제1의 아해가 무섭다고 그리오.\n제2의 아해도 무섭다고 그리~</code></pre>
<p>1행 1열의 데이터프레임 형식으로 산출됐다. 열의 이름이 “text”로 잡혀 있고, 열에는 문자벡터가 들어 있다.</p>
<p>데이터의 유형이 벡터인지, 데이터프레임인지 등 사용한 함수가 산출해주는 데이터 구조가 무엇인지 잘 기억해 두자. 데이터의 유형은 <code>class()</code>함수, <code>str()</code>함수, 혹은 <code>glimpse()</code>함수로 확인할 수 있다. 객체이름을 정할 때 <code>_</code>와 함께 객체의 구조를 포함하면 이후 작업할 때 혼란을 피할 수 있을 뿐 아니라, 다른 함수 이름과 중복되는 일을 피할 수 있다.(2.6. 코딩스타일 참조)</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="data2.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;tibble.csv&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">class</span>()</span></code></pre></div>
<pre><code>## 
## -- Column specification --------------------------------------------------------
## cols(
##   text = col_character()
## )</code></pre>
<pre><code>## [1] &quot;spec_tbl_df&quot; &quot;tbl_df&quot;      &quot;tbl&quot;         &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="data2.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;tibble.csv&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">str</span>()</span></code></pre></div>
<pre><code>## 
## -- Column specification --------------------------------------------------------
## cols(
##   text = col_character()
## )</code></pre>
<pre><code>## tibble [1 x 1] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ text: chr &quot;13인의 아해가 도로로 질주하오.\n(길은 막다른 골목이 적당하오.)\n\n제1의 아해가 무섭다고 그리오.\n제2의 아해도 &quot;| __truncated__
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   text = col_character()
##   .. )</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="data2.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb57-2"><a href="data2.html#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">read_csv</span>(<span class="st">&quot;tibble.csv&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## 
## -- Column specification --------------------------------------------------------
## cols(
##   text = col_character()
## )</code></pre>
<pre><code>## Rows: 1
## Columns: 1
## $ text &lt;chr&gt; &quot;13인의 아해가 도로로 질주하오.\n(길은 막다른 골목이 적당하오.)\n\n제1의 아해가 무섭다고 그리오.\n...</code></pre>
</div>
<div id="기타-파일-형식" class="section level2" number="5.7">
<h2><span class="header-section-number">5.7</span> 기타 파일 형식</h2>
<p>R기본함수외에 불러오기와 내보내기을 지원하는 다양한 패키지가 있다. 대표적인 패키지가 <code>rio</code>다. 스위스 나이프처럼 불러오기와 내보내기에 필요한 대부분의 함수를 제공한다. 정돈된 세계<code>tidyverse</code>에서도 다양한 패키지를 제공한다. 여기서는 정돈된 세계의 원리를 따르기 때문에 <code>tidyverse</code>패키지에 포함된 패키지를 이용한다.</p>
<p>아래 4개 패키지는 <code>tidyverse</code>패키지와 함께 설치되지만, 이용하기 위해서는 <code>library()</code>함수로 따로 실행해야 한다.</p>
<ul>
<li><p><code>readxl</code> xls ghrdms xlsx 파일 불러오기</p></li>
<li><p><code>haven</code> SPSS, SAS, STATA 파일 불러오기</p></li>
<li><p><code>jasonlite</code> JSON형식 파일 불러오기</p></li>
<li><p><code>xml2</code> XML 형식 파일 불러오기</p></li>
</ul>
<p>이외에 <code>tidyverse</code>에서 제공하지 않는 파일형식은 패키지는 따로 설치해야 한다.</p>
<ul>
<li><p><code>epubr</code> E북 문서인 epub파일 불러오기. <a href="https://cran.r-project.org/web/packages/epubr/vignettes/epubr.html">사용설명서 링크</a></p></li>
<li><p><code>pdftools</code> PDF형식의 파일 불러오기 <a href="https://docs.ropensci.org/pdftools/">사용설명서</a></p></li>
</ul>
</div>
<div id="연습-3" class="section level2" number="5.8">
<h2><span class="header-section-number">5.8</span> 연습</h2>
<p><a href="https://www.gutenberg.org">프로젝트 구텐베르크</a>에서 <a href="https://www.gutenberg.org/ebooks/2701">허먼 멜빌(Herman Melville)의 <모비딕>(Moby dick)</a>과 <a href="https://www.gutenberg.org/ebooks/21839">제인 오스틴(Jane Austin)의 <감성과 감수성>(Sense and Sensitiviy)</a>를 다운로드 받아, <모비딕>과 <감성과 감수성>의 내용을 비교해보자.</p>
<ul>
<li>URL
<ul>
<li><p><모비딕> <a href="https://www.gutenberg.org/ebooks/2701.epub.noimages" class="uri">https://www.gutenberg.org/ebooks/2701.epub.noimages</a></p></li>
<li><p><감성과 감수성> <a href="https://www.gutenberg.org/ebooks/161.epub.noimages" class="uri">https://www.gutenberg.org/ebooks/161.epub.noimages</a></p></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="data2.html#cb60-1" aria-hidden="true" tabindex="-1"></a>moby_url <span class="ot">&lt;-</span> <span class="st">&#39;https://www.gutenberg.org/ebooks/2701.epub.noimages&#39;</span></span>
<span id="cb60-2"><a href="data2.html#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(<span class="at">url =</span> moby_url, </span>
<span id="cb60-3"><a href="data2.html#cb60-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">destfile =</span> <span class="st">&quot;data/moby.epub&quot;</span>,</span>
<span id="cb60-4"><a href="data2.html#cb60-4" aria-hidden="true" tabindex="-1"></a>              <span class="at">mode=</span><span class="st">&quot;wb&quot;</span>)</span>
<span id="cb60-5"><a href="data2.html#cb60-5" aria-hidden="true" tabindex="-1"></a>sense_url <span class="ot">&lt;-</span> <span class="st">&#39;https://www.gutenberg.org/ebooks/161.epub.noimages&#39;</span></span>
<span id="cb60-6"><a href="data2.html#cb60-6" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(<span class="at">url =</span> sense_url, </span>
<span id="cb60-7"><a href="data2.html#cb60-7" aria-hidden="true" tabindex="-1"></a>              <span class="at">destfile =</span> <span class="st">&quot;data/sense.epub&quot;</span>,</span>
<span id="cb60-8"><a href="data2.html#cb60-8" aria-hidden="true" tabindex="-1"></a>              <span class="at">mode=</span><span class="st">&quot;wb&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="data2.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">list.files</span>(<span class="at">path =</span> <span class="st">&quot;data&quot;</span>, <span class="at">pattern =</span> <span class="st">&quot;epub&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;bunn.epub&quot;  &quot;jikji.epub&quot; &quot;moby.epub&quot;  &quot;sense.epub&quot;</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="data2.html#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">epub</span>(<span class="st">&quot;data/moby.epub&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 1
## Columns: 9
## $ rights     &lt;chr&gt; &quot;Public domain in the USA.&quot;
## $ identifier &lt;chr&gt; &quot;http://www.gutenberg.org/2701&quot;
## $ creator    &lt;chr&gt; &quot;Herman Melville&quot;
## $ title      &lt;chr&gt; &quot;Moby Dick; Or, The Whale&quot;
## $ language   &lt;chr&gt; &quot;en&quot;
## $ subject    &lt;chr&gt; &quot;Whaling -- Fiction&quot;
## $ date       &lt;chr&gt; &quot;2001-07-01&quot;
## $ source     &lt;chr&gt; &quot;https://www.gutenberg.org/files/2701/2701-h/2701-h.htm&quot;
## $ data       &lt;list&gt; [&lt;tbl_df[26 x 4]&gt;]</code></pre>
<p>“title,” `source" 등의 열은 EPUB문서의 메타데이터이다. 메타데이터를 보면 프로젝트 구텐베르크로 만든 멜빌의 <모비딕>이란 것을 알수 있다. “data”열에 리스트로 저장된 소설 데이터를 부분선택하자.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="data2.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">epub</span>(<span class="st">&quot;data/moby.epub&quot;</span>)<span class="sc">$</span>data[[<span class="dv">1</span>]] <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 26
## Columns: 4
## $ section &lt;chr&gt; &quot;item5&quot;, &quot;item6&quot;, &quot;item7&quot;, &quot;item8&quot;, &quot;item9&quot;, &quot;item10&quot;, &quot;ite...
## $ text    &lt;chr&gt; &quot;The Project Gutenberg eBook of Moby-Dick; or The Whale, by...
## $ nword   &lt;int&gt; 4465, 9400, 8639, 12185, 7717, 8449, 9397, 7971, 8133, 1091...
## $ nchar   &lt;int&gt; 27068, 52039, 48661, 68556, 43338, 48592, 54367, 45748, 475...</code></pre>
<p>26행 4열의 데이터프레임이고 text열에 소설 본문이 있다. EPUB문서에 공통적으로 적용되는 형식이다.</p>
<p><모비딕>과 <감성과 감수성>에서 사용한 단어의 빈도를 시각화해보자.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="data2.html#cb67-1" aria-hidden="true" tabindex="-1"></a>moby_v <span class="ot">&lt;-</span> <span class="fu">epub</span>(<span class="st">&quot;data/moby.epub&quot;</span>)<span class="sc">$</span>data[[<span class="dv">1</span>]]<span class="sc">$</span>text</span>
<span id="cb67-2"><a href="data2.html#cb67-2" aria-hidden="true" tabindex="-1"></a>sense_v <span class="ot">&lt;-</span> <span class="fu">epub</span>(<span class="st">&quot;data/sense.epub&quot;</span>)<span class="sc">$</span>data[[<span class="dv">1</span>]]<span class="sc">$</span>text</span>
<span id="cb67-3"><a href="data2.html#cb67-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-4"><a href="data2.html#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> moby_v) <span class="sc">%&gt;%</span> </span>
<span id="cb67-5"><a href="data2.html#cb67-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text) <span class="sc">%&gt;%</span> </span>
<span id="cb67-6"><a href="data2.html#cb67-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">count</span>(word, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb67-7"><a href="data2.html#cb67-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(n <span class="sc">&gt;=</span><span class="dv">30</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb67-8"><a href="data2.html#cb67-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">reorder</span>(word, n)) <span class="sc">%&gt;%</span> </span>
<span id="cb67-9"><a href="data2.html#cb67-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_col</span>(<span class="fu">aes</span>(word, n)) <span class="sc">+</span></span>
<span id="cb67-10"><a href="data2.html#cb67-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb67-11"><a href="data2.html#cb67-11" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme_minimal</span>()</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/data35-1.png" width="672" /></p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="data2.html#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> sense_v) <span class="sc">%&gt;%</span> </span>
<span id="cb68-2"><a href="data2.html#cb68-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text) <span class="sc">%&gt;%</span> </span>
<span id="cb68-3"><a href="data2.html#cb68-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">count</span>(word, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb68-4"><a href="data2.html#cb68-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(n <span class="sc">&gt;=</span><span class="dv">30</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb68-5"><a href="data2.html#cb68-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">reorder</span>(word, n)) <span class="sc">%&gt;%</span> </span>
<span id="cb68-6"><a href="data2.html#cb68-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_col</span>(<span class="fu">aes</span>(word, n)) <span class="sc">+</span></span>
<span id="cb68-7"><a href="data2.html#cb68-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb68-8"><a href="data2.html#cb68-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme_classic</span>()</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/data35-2.png" width="672" /></p>
<p>사용빈도를 상위 12개 어휘로 국한해 보자. <code>slice_max()</code>함수를 이용한다.
(<code>top_n()</code>함수는 <code>dplyr()</code>패키지에서 사용중지 예정.)</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="data2.html#cb69-1" aria-hidden="true" tabindex="-1"></a>moby_v <span class="ot">&lt;-</span> <span class="fu">epub</span>(<span class="st">&quot;data/moby.epub&quot;</span>)<span class="sc">$</span>data[[<span class="dv">1</span>]]<span class="sc">$</span>text</span>
<span id="cb69-2"><a href="data2.html#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> moby_v) <span class="sc">%&gt;%</span> </span>
<span id="cb69-3"><a href="data2.html#cb69-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text) <span class="sc">%&gt;%</span> </span>
<span id="cb69-4"><a href="data2.html#cb69-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">count</span>(word, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb69-5"><a href="data2.html#cb69-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">slice_max</span>(n, <span class="at">n =</span> <span class="dv">12</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb69-6"><a href="data2.html#cb69-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">reorder</span>(word, n)) <span class="sc">%&gt;%</span> </span>
<span id="cb69-7"><a href="data2.html#cb69-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_col</span>(<span class="fu">aes</span>(word, n)) <span class="sc">+</span></span>
<span id="cb69-8"><a href="data2.html#cb69-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb69-9"><a href="data2.html#cb69-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Moby Dick&quot;</span>) <span class="sc">+</span> </span>
<span id="cb69-10"><a href="data2.html#cb69-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme_bw</span>() </span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/data36-1.png" width="672" /></p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="data2.html#cb70-1" aria-hidden="true" tabindex="-1"></a>sense_v <span class="ot">&lt;-</span> <span class="fu">epub</span>(<span class="st">&quot;data/sense.epub&quot;</span>)<span class="sc">$</span>data[[<span class="dv">1</span>]]<span class="sc">$</span>text</span>
<span id="cb70-2"><a href="data2.html#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> sense_v) <span class="sc">%&gt;%</span> </span>
<span id="cb70-3"><a href="data2.html#cb70-3" aria-hidden="true" tabindex="-1"></a>        <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text) <span class="sc">%&gt;%</span> </span>
<span id="cb70-4"><a href="data2.html#cb70-4" aria-hidden="true" tabindex="-1"></a>        <span class="fu">count</span>(word, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb70-5"><a href="data2.html#cb70-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">slice_max</span>(n, <span class="at">n =</span> <span class="dv">12</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb70-6"><a href="data2.html#cb70-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">reorder</span>(word, n)) <span class="sc">%&gt;%</span> </span>
<span id="cb70-7"><a href="data2.html#cb70-7" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_col</span>(<span class="fu">aes</span>(word, n)) <span class="sc">+</span></span>
<span id="cb70-8"><a href="data2.html#cb70-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb70-9"><a href="data2.html#cb70-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Sense and Sensibility&quot;</span>) <span class="sc">+</span></span>
<span id="cb70-10"><a href="data2.html#cb70-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">theme_light</span>()</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/data36-2.png" width="672" /></p>
<p><모비딕>과 <감성과 감수성> 모두 the of and 등처럼 관사 전치사 등이 공동적으로 많이 사용됐지만, <모비딕>에는 his he가 많이 사용됐고, <감성과 감수성>에는 her she가 많이 사용됐다.</p>
<div id="과제-1" class="section level3" number="5.8.1">
<h3><span class="header-section-number">5.8.1</span> 과제</h3>
<p><code>data</code>폴더에 다운로드받은 jikji.epub파일에서 소설 두 편을 선택해 자주 사용한 단어의 빈도를 시각화하시오. 두 편의 분석 결과를 비교해 설명하시오.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="browse.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="cleantool.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/05-data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
