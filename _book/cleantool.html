<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 정제도구 | 사회과학도를 위한 텍스트마이닝</title>
  <meta name="description" content="텍스트마이닝 준비" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 정제도구 | 사회과학도를 위한 텍스트마이닝" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="텍스트마이닝 준비" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 정제도구 | 사회과학도를 위한 텍스트마이닝" />
  
  <meta name="twitter:description" content="텍스트마이닝 준비" />
  

<meta name="author" content="안도현" />


<meta name="date" content="2021-06-27" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data.html"/>
<link rel="next" href="clean.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.2/htmlwidgets.js"></script>
<link href="libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="libs/str_view-binding-1.4.0/str_view.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">데이터커뮤니케이션:텍스트마이닝</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#머리말"><i class="fa fa-check"></i><b>0.1</b> 머리말</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#구성"><i class="fa fa-check"></i><b>0.2</b> 구성</a></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#도움받은-자료"><i class="fa fa-check"></i><b>0.3</b> 도움받은 자료</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="author.html"><a href="author.html"><i class="fa fa-check"></i>Author</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> 도입</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#사회과학-방법론"><i class="fa fa-check"></i><b>1.1</b> 사회과학 방법론</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#내용분석content-analysis"><i class="fa fa-check"></i><b>1.2</b> 내용분석(Content Analysis)</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="intro.html"><a href="intro.html#내용분석의-정의"><i class="fa fa-check"></i><b>1.2.1</b> 내용분석의 정의</a></li>
<li class="chapter" data-level="1.2.2" data-path="intro.html"><a href="intro.html#컴퓨터보조-내용분석"><i class="fa fa-check"></i><b>1.2.2</b> 컴퓨터보조 내용분석</a></li>
<li class="chapter" data-level="1.2.3" data-path="intro.html"><a href="intro.html#근거이론grounded-theory"><i class="fa fa-check"></i><b>1.2.3</b> 근거이론(grounded theory)</a></li>
<li class="chapter" data-level="1.2.4" data-path="intro.html"><a href="intro.html#컴퓨터-기반-근거이론"><i class="fa fa-check"></i><b>1.2.4</b> 컴퓨터 기반 근거이론</a></li>
<li class="chapter" data-level="1.2.5" data-path="intro.html"><a href="intro.html#전산사회과학computational-social-science-디지털인문학digital-humanities"><i class="fa fa-check"></i><b>1.2.5</b> 전산사회과학(Computational Social Science) 디지털인문학(Digital Humanities)</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#텍스트마이닝"><i class="fa fa-check"></i><b>1.3</b> 텍스트마이닝</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#텍스트데이터"><i class="fa fa-check"></i><b>1.4</b> 텍스트데이터</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="intro.html"><a href="intro.html#텍스트의-단위"><i class="fa fa-check"></i><b>1.4.1</b> 텍스트의 단위</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="prep1.html"><a href="prep1.html"><i class="fa fa-check"></i><b>2</b> 준비1: R기초</a>
<ul>
<li class="chapter" data-level="2.1" data-path="prep1.html"><a href="prep1.html#기본-개념"><i class="fa fa-check"></i><b>2.1</b> 기본 개념</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="prep1.html"><a href="prep1.html#컴퓨터"><i class="fa fa-check"></i><b>2.1.1</b> 컴퓨터</a></li>
<li class="chapter" data-level="2.1.2" data-path="prep1.html"><a href="prep1.html#r"><i class="fa fa-check"></i><b>2.1.2</b> R</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="prep1.html"><a href="prep1.html#r시작하기"><i class="fa fa-check"></i><b>2.2</b> R시작하기</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="prep1.html"><a href="prep1.html#로컬컴퓨터에-설치하기"><i class="fa fa-check"></i><b>2.2.1</b> 로컬컴퓨터에 설치하기</a></li>
<li class="chapter" data-level="2.2.2" data-path="prep1.html"><a href="prep1.html#r의-기능구현"><i class="fa fa-check"></i><b>2.2.2</b> R의 기능구현</a></li>
<li class="chapter" data-level="2.2.3" data-path="prep1.html"><a href="prep1.html#작업공간workspace"><i class="fa fa-check"></i><b>2.2.3</b> 작업공간(workspace)</a></li>
<li class="chapter" data-level="2.2.4" data-path="prep1.html"><a href="prep1.html#중요-작업디렉토리working-directory"><i class="fa fa-check"></i><b>2.2.4</b> 중요: 작업디렉토리(working directory)</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="prep1.html"><a href="prep1.html#ide통합개발환경-integrated-development-environment"><i class="fa fa-check"></i><b>2.3</b> IDE(통합개발환경: Integrated Development Environment)</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="prep1.html"><a href="prep1.html#rstudio-설치"><i class="fa fa-check"></i><b>2.3.1</b> RStudio 설치</a></li>
<li class="chapter" data-level="2.3.2" data-path="prep1.html"><a href="prep1.html#프로젝트-만들기"><i class="fa fa-check"></i><b>2.3.2</b> 프로젝트 만들기</a></li>
<li class="chapter" data-level="2.3.3" data-path="prep1.html"><a href="prep1.html#편집창-열기"><i class="fa fa-check"></i><b>2.3.3</b> 편집창 열기</a></li>
<li class="chapter" data-level="2.3.4" data-path="prep1.html"><a href="prep1.html#코드-실행"><i class="fa fa-check"></i><b>2.3.4</b> 코드 실행</a></li>
<li class="chapter" data-level="2.3.5" data-path="prep1.html"><a href="prep1.html#한글사용-설정"><i class="fa fa-check"></i><b>2.3.5</b> 한글사용 설정</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="prep1.html"><a href="prep1.html#데이터의-유형data-type"><i class="fa fa-check"></i><b>2.4</b> 데이터의 유형(data type)</a></li>
<li class="chapter" data-level="2.5" data-path="prep1.html"><a href="prep1.html#데이터구조"><i class="fa fa-check"></i><b>2.5</b> 데이터구조</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="prep1.html"><a href="prep1.html#벡터-c"><i class="fa fa-check"></i><b>2.5.1</b> 벡터 <code>c()</code></a></li>
<li class="chapter" data-level="2.5.2" data-path="prep1.html"><a href="prep1.html#데이터프레임-data.frame"><i class="fa fa-check"></i><b>2.5.2</b> 데이터프레임 <code>data.frame()</code></a></li>
<li class="chapter" data-level="2.5.3" data-path="prep1.html"><a href="prep1.html#리스트-list"><i class="fa fa-check"></i><b>2.5.3</b> 리스트 <code>list()</code></a></li>
<li class="chapter" data-level="2.5.4" data-path="prep1.html"><a href="prep1.html#매트릭스와-어레이"><i class="fa fa-check"></i><b>2.5.4</b> 매트릭스와 어레이</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="prep1.html"><a href="prep1.html#시각화"><i class="fa fa-check"></i><b>2.6</b> 시각화</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="prep1.html"><a href="prep1.html#시각화를-하는-이유"><i class="fa fa-check"></i><b>2.6.1</b> 시각화를 하는 이유</a></li>
<li class="chapter" data-level="2.6.2" data-path="prep1.html"><a href="prep1.html#ggplot2"><i class="fa fa-check"></i><b>2.6.2</b> <code>ggplot2</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="prep2.html"><a href="prep2.html"><i class="fa fa-check"></i><b>3</b> 준비2</a>
<ul>
<li class="chapter" data-level="3.1" data-path="prep2.html"><a href="prep2.html#패키지package"><i class="fa fa-check"></i><b>3.1</b> 패키지(Package)</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="prep2.html"><a href="prep2.html#rtools"><i class="fa fa-check"></i><b>3.1.1</b> <code>rtools</code></a></li>
<li class="chapter" data-level="3.1.2" data-path="prep2.html"><a href="prep2.html#tidyverse"><i class="fa fa-check"></i><b>3.1.2</b> tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="prep2.html"><a href="prep2.html#오류error"><i class="fa fa-check"></i><b>3.2</b> 오류(error)</a></li>
<li class="chapter" data-level="3.3" data-path="prep2.html"><a href="prep2.html#흔한-오류"><i class="fa fa-check"></i><b>3.3</b> 흔한 오류</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="prep2.html"><a href="prep2.html#오자와-탈자"><i class="fa fa-check"></i><b>3.3.1</b> 오자와 탈자</a></li>
<li class="chapter" data-level="3.3.2" data-path="prep2.html"><a href="prep2.html#괄호의-불일치"><i class="fa fa-check"></i><b>3.3.2</b> 괄호의 불일치</a></li>
<li class="chapter" data-level="3.3.3" data-path="prep2.html"><a href="prep2.html#보이지-않는-코드"><i class="fa fa-check"></i><b>3.3.3</b> 보이지 않는 코드</a></li>
<li class="chapter" data-level="3.3.4" data-path="prep2.html"><a href="prep2.html#패키지-설치시-겪을-수-있는-오류"><i class="fa fa-check"></i><b>3.3.4</b> 패키지 설치시 겪을 수 있는 오류</a></li>
<li class="chapter" data-level="3.3.5" data-path="prep2.html"><a href="prep2.html#실행할-때-겪을-수-있는-오류"><i class="fa fa-check"></i><b>3.3.5</b> 실행할 때 겪을 수 있는 오류</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="prep2.html"><a href="prep2.html#여러-패키지-한번에-설치"><i class="fa fa-check"></i><b>3.4</b> 여러 패키지 한번에 설치</a></li>
<li class="chapter" data-level="3.5" data-path="prep2.html"><a href="prep2.html#코딩-스타일"><i class="fa fa-check"></i><b>3.5</b> 코딩 스타일</a></li>
<li class="chapter" data-level="3.6" data-path="prep2.html"><a href="prep2.html#파일경로path-표시"><i class="fa fa-check"></i><b>3.6</b> 파일경로(path) 표시</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="prep2.html"><a href="prep2.html#슬래시"><i class="fa fa-check"></i><b>3.6.1</b> 슬래시 /</a></li>
<li class="chapter" data-level="3.6.2" data-path="prep2.html"><a href="prep2.html#마침표-.-.."><i class="fa fa-check"></i><b>3.6.2</b> 마침표 . ..</a></li>
<li class="chapter" data-level="3.6.3" data-path="prep2.html"><a href="prep2.html#물결"><i class="fa fa-check"></i><b>3.6.3</b> 물결 ~</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="prep2.html"><a href="prep2.html#파일과-객체"><i class="fa fa-check"></i><b>3.7</b> 파일과 객체</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="prep2.html"><a href="prep2.html#하드디스크에-있는-파일을-다루는-함수"><i class="fa fa-check"></i><b>3.7.1</b> 하드디스크에 있는 파일을 다루는 함수</a></li>
<li class="chapter" data-level="3.7.2" data-path="prep2.html"><a href="prep2.html#r환경내-객체를-다루는-함수"><i class="fa fa-check"></i><b>3.7.2</b> R환경내 객체를 다루는 함수</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="prep2.html"><a href="prep2.html#따옴표와-백틱"><i class="fa fa-check"></i><b>3.8</b> 따옴표와 백틱</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="prep2.html"><a href="prep2.html#겹따옴표-홑따옴표"><i class="fa fa-check"></i><b>3.8.1</b> 겹따옴표 홑따옴표</a></li>
<li class="chapter" data-level="3.8.2" data-path="prep2.html"><a href="prep2.html#백틱backquotebacktick-주의중요-글꼴-기타-na와null의-차이"><i class="fa fa-check"></i><b>3.8.2</b> 백틱(backquote/backtick) <code>## 주의(중요) ### 글꼴  ## 기타 ###</code>NA<code>와</code>NULL`의 차이</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="browse.html"><a href="browse.html"><i class="fa fa-check"></i><b>4</b> 틀잡기</a>
<ul>
<li class="chapter" data-level="4.1" data-path="browse.html"><a href="browse.html#수집"><i class="fa fa-check"></i><b>4.1</b> 수집</a></li>
<li class="chapter" data-level="4.2" data-path="browse.html"><a href="browse.html#정제전처리"><i class="fa fa-check"></i><b>4.2</b> 정제(전처리)</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="browse.html"><a href="browse.html#정돈텍스트tidy-text"><i class="fa fa-check"></i><b>4.2.1</b> 정돈텍스트(tidy text)</a></li>
<li class="chapter" data-level="4.2.2" data-path="browse.html"><a href="browse.html#토큰화-unnest_tokens-함수"><i class="fa fa-check"></i><b>4.2.2</b> 토큰화: <code>unnest_tokens</code> 함수</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="browse.html"><a href="browse.html#분석"><i class="fa fa-check"></i><b>4.3</b> 분석</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="browse.html"><a href="browse.html#빈도-count-함수"><i class="fa fa-check"></i><b>4.3.1</b> 빈도: <code>count</code> 함수</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="browse.html"><a href="browse.html#소통"><i class="fa fa-check"></i><b>4.4</b> 소통</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="browse.html"><a href="browse.html#시각화-1"><i class="fa fa-check"></i><b>4.4.1</b> 시각화</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="browse.html"><a href="browse.html#연습-2"><i class="fa fa-check"></i><b>4.5</b> 연습</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="browse.html"><a href="browse.html#과제"><i class="fa fa-check"></i><b>4.5.1</b> 과제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>5</b> 수집: 불러오기</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data.html"><a href="data.html#바이너리-파일"><i class="fa fa-check"></i><b>5.1</b> 바이너리 파일</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="data.html"><a href="data.html#불러오기이입-import"><i class="fa fa-check"></i><b>5.1.1</b> 불러오기(이입: import)</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="data.html"><a href="data.html#일반텍스트plain-text-파일"><i class="fa fa-check"></i><b>5.2</b> 일반텍스트(plain text) 파일</a></li>
<li class="chapter" data-level="5.3" data-path="data.html"><a href="data.html#html-파일"><i class="fa fa-check"></i><b>5.3</b> HTML 파일</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="data.html"><a href="data.html#html문서-불러오기-read_html"><i class="fa fa-check"></i><b>5.3.1</b> HTML문서 불러오기 <code>read_html()</code></a></li>
<li class="chapter" data-level="5.3.2" data-path="data.html"><a href="data.html#htlm요소-추출하기-html_node"><i class="fa fa-check"></i><b>5.3.2</b> HTLM요소 추출하기 <code>html_node()</code></a></li>
<li class="chapter" data-level="5.3.3" data-path="data.html"><a href="data.html#내용-추출하기-html_text"><i class="fa fa-check"></i><b>5.3.3</b> 내용 추출하기 <code>html_text</code></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="data.html"><a href="data.html#내보내기export-이출"><i class="fa fa-check"></i><b>5.4</b> 내보내기(export: 이출)</a></li>
<li class="chapter" data-level="5.5" data-path="data.html"><a href="data.html#인코딩encoding-부호화"><i class="fa fa-check"></i><b>5.5</b> 인코딩(encoding: 부호화)</a></li>
<li class="chapter" data-level="5.6" data-path="data.html"><a href="data.html#테이블구조-문서"><i class="fa fa-check"></i><b>5.6</b> 테이블구조 문서</a></li>
<li class="chapter" data-level="5.7" data-path="data.html"><a href="data.html#기타-파일-형식"><i class="fa fa-check"></i><b>5.7</b> 기타 파일 형식</a></li>
<li class="chapter" data-level="5.8" data-path="data.html"><a href="data.html#연습-3"><i class="fa fa-check"></i><b>5.8</b> 연습</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="data.html"><a href="data.html#과제-1"><i class="fa fa-check"></i><b>5.8.1</b> 과제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="cleantool.html"><a href="cleantool.html"><i class="fa fa-check"></i><b>6</b> 정제도구</a>
<ul>
<li class="chapter" data-level="6.1" data-path="cleantool.html"><a href="cleantool.html#stringr"><i class="fa fa-check"></i><b>6.1</b> <code>stringr</code></a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="cleantool.html"><a href="cleantool.html#개괄"><i class="fa fa-check"></i><b>6.1.1</b> 개괄</a></li>
<li class="chapter" data-level="6.1.2" data-path="cleantool.html"><a href="cleantool.html#탐지와-찾기detect-locate-1"><i class="fa fa-check"></i><b>6.1.2</b> 탐지와 찾기(detect &amp; locate)</a></li>
<li class="chapter" data-level="6.1.3" data-path="cleantool.html"><a href="cleantool.html#부분선택-추출-일치subset-extract-match-1"><i class="fa fa-check"></i><b>6.1.3</b> 부분선택, 추출, 일치(subset, extract &amp; match)</a></li>
<li class="chapter" data-level="6.1.4" data-path="cleantool.html"><a href="cleantool.html#문자열-변환mutate-strings-1"><i class="fa fa-check"></i><b>6.1.4</b> 문자열 변환(Mutate Strings)</a></li>
<li class="chapter" data-level="6.1.5" data-path="cleantool.html"><a href="cleantool.html#결합과-분리join-and-split-1"><i class="fa fa-check"></i><b>6.1.5</b> 결합과 분리(Join and Split)</a></li>
<li class="chapter" data-level="6.1.6" data-path="cleantool.html"><a href="cleantool.html#공백문자whitespace-1"><i class="fa fa-check"></i><b>6.1.6</b> 공백문자(Whitespace)</a></li>
<li class="chapter" data-level="6.1.7" data-path="cleantool.html"><a href="cleantool.html#과제-2"><i class="fa fa-check"></i><b>6.1.7</b> 과제</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="cleantool.html"><a href="cleantool.html#dplyr"><i class="fa fa-check"></i><b>6.2</b> <code>dplyr</code></a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="cleantool.html"><a href="cleantool.html#개괄-1"><i class="fa fa-check"></i><b>6.2.1</b> 개괄</a></li>
<li class="chapter" data-level="6.2.2" data-path="cleantool.html"><a href="cleantool.html#dplyr의-구성"><i class="fa fa-check"></i><b>6.2.2</b> <code>dplyr</code>의 구성</a></li>
<li class="chapter" data-level="6.2.3" data-path="cleantool.html"><a href="cleantool.html#묶음-동사group-cases-1"><i class="fa fa-check"></i><b>6.2.3</b> 묶음 동사(group cases)</a></li>
<li class="chapter" data-level="6.2.4" data-path="cleantool.html"><a href="cleantool.html#요약-동사와-요약-함수"><i class="fa fa-check"></i><b>6.2.4</b> 요약 동사와 요약 함수</a></li>
<li class="chapter" data-level="6.2.5" data-path="cleantool.html"><a href="cleantool.html#행-조작-동사manipulate-cases-1"><i class="fa fa-check"></i><b>6.2.5</b> 행 조작 동사(manipulate cases)</a></li>
<li class="chapter" data-level="6.2.6" data-path="cleantool.html"><a href="cleantool.html#열-조작-동사manipulate-variables-1"><i class="fa fa-check"></i><b>6.2.6</b> 열 조작 동사(manipulate variables)</a></li>
<li class="chapter" data-level="6.2.7" data-path="cleantool.html"><a href="cleantool.html#벡터-함수vector-functions-1"><i class="fa fa-check"></i><b>6.2.7</b> 벡터 함수(vector functions)</a></li>
<li class="chapter" data-level="6.2.8" data-path="cleantool.html"><a href="cleantool.html#테이블-결합동사행방향"><i class="fa fa-check"></i><b>6.2.8</b> 테이블 결합동사(행방향)</a></li>
<li class="chapter" data-level="6.2.9" data-path="cleantool.html"><a href="cleantool.html#테이블-결합동사열방향"><i class="fa fa-check"></i><b>6.2.9</b> 테이블 결합동사(열방향)</a></li>
<li class="chapter" data-level="6.2.10" data-path="cleantool.html"><a href="cleantool.html#연습1"><i class="fa fa-check"></i><b>6.2.10</b> 연습1</a></li>
<li class="chapter" data-level="6.2.11" data-path="cleantool.html"><a href="cleantool.html#연습2"><i class="fa fa-check"></i><b>6.2.11</b> 연습2</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="cleantool.html"><a href="cleantool.html#purrr"><i class="fa fa-check"></i><b>6.3</b> <code>purrr</code></a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="cleantool.html"><a href="cleantool.html#개괄-2"><i class="fa fa-check"></i><b>6.3.1</b> 개괄</a></li>
<li class="chapter" data-level="6.3.2" data-path="cleantool.html"><a href="cleantool.html#반복계산-1"><i class="fa fa-check"></i><b>6.3.2</b> 반복계산</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="cleantool.html"><a href="cleantool.html#tidyr"><i class="fa fa-check"></i><b>6.4</b> <code>tidyr</code></a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="cleantool.html"><a href="cleantool.html#개괄-3"><i class="fa fa-check"></i><b>6.4.1</b> 개괄</a></li>
<li class="chapter" data-level="6.4.2" data-path="cleantool.html"><a href="cleantool.html#축전환pivoting-1"><i class="fa fa-check"></i><b>6.4.2</b> 축전환(pivoting)</a></li>
<li class="chapter" data-level="6.4.3" data-path="cleantool.html"><a href="cleantool.html#분리와-결합-1"><i class="fa fa-check"></i><b>6.4.3</b> 분리와 결합</a></li>
<li class="chapter" data-level="6.4.4" data-path="cleantool.html"><a href="cleantool.html#연습1-1"><i class="fa fa-check"></i><b>6.4.4</b> 연습1</a></li>
<li class="chapter" data-level="6.4.5" data-path="cleantool.html"><a href="cleantool.html#연습2-1"><i class="fa fa-check"></i><b>6.4.5</b> 연습2</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="cleantool.html"><a href="cleantool.html#연산자operators"><i class="fa fa-check"></i><b>6.5</b> 연산자(operators)</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="cleantool.html"><a href="cleantool.html#산술연산자arithmatic-operators"><i class="fa fa-check"></i><b>6.5.1</b> 산술연산자(Arithmatic Operators)</a></li>
<li class="chapter" data-level="6.5.2" data-path="cleantool.html"><a href="cleantool.html#관계연산자relational-operators"><i class="fa fa-check"></i><b>6.5.2</b> 관계연산자(Relational Operators)</a></li>
<li class="chapter" data-level="6.5.3" data-path="cleantool.html"><a href="cleantool.html#논리연산자logical-operators"><i class="fa fa-check"></i><b>6.5.3</b> 논리연산자(Logical Operators)</a></li>
<li class="chapter" data-level="6.5.4" data-path="cleantool.html"><a href="cleantool.html#포함-연산자inclusion-operator"><i class="fa fa-check"></i><b>6.5.4</b> 포함 연산자(Inclusion Operator)</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="cleantool.html"><a href="cleantool.html#정규표현식regular-expressions"><i class="fa fa-check"></i><b>6.6</b> 정규표현식(regular expressions)</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="cleantool.html"><a href="cleantool.html#일반문자와-기능문자"><i class="fa fa-check"></i><b>6.6.1</b> 일반문자와 기능문자</a></li>
<li class="chapter" data-level="6.6.2" data-path="cleantool.html"><a href="cleantool.html#일치하는-문자match-characters"><i class="fa fa-check"></i><b>6.6.2</b> 일치하는 문자(Match Characters)</a></li>
<li class="chapter" data-level="6.6.3" data-path="cleantool.html"><a href="cleantool.html#공백문자whitespace-2"><i class="fa fa-check"></i><b>6.6.3</b> 공백문자(whitespace)</a></li>
<li class="chapter" data-level="6.6.4" data-path="cleantool.html"><a href="cleantool.html#또는"><i class="fa fa-check"></i><b>6.6.4</b> 또는</a></li>
<li class="chapter" data-level="6.6.5" data-path="cleantool.html"><a href="cleantool.html#묶음"><i class="fa fa-check"></i><b>6.6.5</b> 묶음</a></li>
<li class="chapter" data-level="6.6.6" data-path="cleantool.html"><a href="cleantool.html#앵커"><i class="fa fa-check"></i><b>6.6.6</b> 앵커</a></li>
<li class="chapter" data-level="6.6.7" data-path="cleantool.html"><a href="cleantool.html#주변look-around-1"><i class="fa fa-check"></i><b>6.6.7</b> 주변(look around)</a></li>
<li class="chapter" data-level="6.6.8" data-path="cleantool.html"><a href="cleantool.html#반복일치"><i class="fa fa-check"></i><b>6.6.8</b> 반복일치</a></li>
<li class="chapter" data-level="6.6.9" data-path="cleantool.html"><a href="cleantool.html#유용한-정규표현식"><i class="fa fa-check"></i><b>6.6.9</b> 유용한 정규표현식</a></li>
<li class="chapter" data-level="6.6.10" data-path="cleantool.html"><a href="cleantool.html#연습-4"><i class="fa fa-check"></i><b>6.6.10</b> 연습</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="clean.html"><a href="clean.html"><i class="fa fa-check"></i><b>7</b> 정제(전처리)</a>
<ul>
<li class="chapter" data-level="7.1" data-path="clean.html"><a href="clean.html#토큰화"><i class="fa fa-check"></i><b>7.1</b> 토큰화</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="clean.html"><a href="clean.html#unnest_tokensdf-output-input-token-words-format-ctext-man-latex-html-xml-to_lower-true-drop-true-collapse-null-..."><i class="fa fa-check"></i><b>7.1.1</b> <code>unnest_tokens(df, output, input, token = "words", format = c("text", "man", "latex", "html", "xml"), to_lower = TRUE, drop = TRUE, collapse = NULL, ...)</code></a></li>
<li class="chapter" data-level="7.1.2" data-path="clean.html"><a href="clean.html#format-ctext-man-latex-html-xml"><i class="fa fa-check"></i><b>7.1.2</b> <code>format = c("text", "man", "latex", "html", "xml")</code></a></li>
<li class="chapter" data-level="7.1.3" data-path="clean.html"><a href="clean.html#to_lower-true"><i class="fa fa-check"></i><b>7.1.3</b> <code>to_lower = TRUE</code></a></li>
<li class="chapter" data-level="7.1.4" data-path="clean.html"><a href="clean.html#strip_punct"><i class="fa fa-check"></i><b>7.1.4</b> <code>strip_punct =</code></a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="clean.html"><a href="clean.html#불용어stop-words-제거-1"><i class="fa fa-check"></i><b>7.2</b> 불용어(stop words) 제거</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="clean.html"><a href="clean.html#불용어-사전"><i class="fa fa-check"></i><b>7.2.1</b> 불용어 사전</a></li>
<li class="chapter" data-level="7.2.2" data-path="clean.html"><a href="clean.html#filter"><i class="fa fa-check"></i><b>7.2.2</b> <code>filter()</code></a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="clean.html"><a href="clean.html#정규화normalization-1"><i class="fa fa-check"></i><b>7.3</b> 정규화(Normalization)</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="clean.html"><a href="clean.html#개괄-4"><i class="fa fa-check"></i><b>7.3.1</b> 개괄</a></li>
<li class="chapter" data-level="7.3.2" data-path="clean.html"><a href="clean.html#형태소morpheme"><i class="fa fa-check"></i><b>7.3.2</b> 형태소(morpheme)</a></li>
<li class="chapter" data-level="7.3.3" data-path="clean.html"><a href="clean.html#형태소-추출"><i class="fa fa-check"></i><b>7.3.3</b> 형태소 추출</a></li>
<li class="chapter" data-level="7.3.4" data-path="clean.html"><a href="clean.html#rcppmecab-1"><i class="fa fa-check"></i><b>7.3.4</b> RcppMeCab</a></li>
<li class="chapter" data-level="7.3.5" data-path="clean.html"><a href="clean.html#konlp-1"><i class="fa fa-check"></i><b>7.3.5</b> <code>KoNLP</code></a></li>
<li class="chapter" data-level="7.3.6" data-path="clean.html"><a href="clean.html#konlpy"><i class="fa fa-check"></i><b>7.3.6</b> <code>KoNLPy</code></a></li>
<li class="chapter" data-level="7.3.7" data-path="clean.html"><a href="clean.html#연습-5"><i class="fa fa-check"></i><b>7.3.7</b> 연습</a></li>
<li class="chapter" data-level="7.3.8" data-path="clean.html"><a href="clean.html#어간stem-추출"><i class="fa fa-check"></i><b>7.3.8</b> 어간(stem) 추출</a></li>
<li class="chapter" data-level="7.3.9" data-path="clean.html"><a href="clean.html#표제어lemme-추출"><i class="fa fa-check"></i><b>7.3.9</b> 표제어(lemme) 추출</a></li>
<li class="chapter" data-level="7.3.10" data-path="clean.html"><a href="clean.html#연습-6"><i class="fa fa-check"></i><b>7.3.10</b> 연습</a></li>
<li class="chapter" data-level="7.3.11" data-path="clean.html"><a href="clean.html#과제-5"><i class="fa fa-check"></i><b>7.3.11</b> 과제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="anal1freq.html"><a href="anal1freq.html"><i class="fa fa-check"></i><b>8</b> 분석1: 감정어 빈도</a>
<ul>
<li class="chapter" data-level="8.1" data-path="anal1freq.html"><a href="anal1freq.html#국문-감정사전"><i class="fa fa-check"></i><b>8.1</b> 국문 감정사전</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="anal1freq.html"><a href="anal1freq.html#사전-데이터프레임-만들기"><i class="fa fa-check"></i><b>8.1.1</b> 사전 데이터프레임 만들기</a></li>
<li class="chapter" data-level="8.1.2" data-path="anal1freq.html"><a href="anal1freq.html#연습-7"><i class="fa fa-check"></i><b>8.1.2</b> 연습</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="anal1freq.html"><a href="anal1freq.html#감정분석"><i class="fa fa-check"></i><b>8.2</b> 감정분석</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="anal1freq.html"><a href="anal1freq.html#수집-1"><i class="fa fa-check"></i><b>8.2.1</b> 수집</a></li>
<li class="chapter" data-level="8.2.2" data-path="anal1freq.html"><a href="anal1freq.html#정제"><i class="fa fa-check"></i><b>8.2.2</b> 정제</a></li>
<li class="chapter" data-level="8.2.3" data-path="anal1freq.html"><a href="anal1freq.html#분석-및-소통"><i class="fa fa-check"></i><b>8.2.3</b> 분석 및 소통</a></li>
<li class="chapter" data-level="8.2.4" data-path="anal1freq.html"><a href="anal1freq.html#문서의-감정점수-계산"><i class="fa fa-check"></i><b>8.2.4</b> 문서의 감정점수 계산</a></li>
<li class="chapter" data-level="8.2.5" data-path="anal1freq.html"><a href="anal1freq.html#감정-극성별-단어빈도"><i class="fa fa-check"></i><b>8.2.5</b> 감정 극성별 단어빈도</a></li>
<li class="chapter" data-level="8.2.6" data-path="anal1freq.html"><a href="anal1freq.html#단어구름에-극성별-단어빈도-표시"><i class="fa fa-check"></i><b>8.2.6</b> 단어구름에 극성별 단어빈도 표시</a></li>
<li class="chapter" data-level="8.2.7" data-path="anal1freq.html"><a href="anal1freq.html#문장-전개에-따른-감정-변화"><i class="fa fa-check"></i><b>8.2.7</b> 문장 전개에 따른 감정 변화</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="anal2comp.html"><a href="anal2comp.html"><i class="fa fa-check"></i><b>9</b> 분석2: 상대빈도</a>
<ul>
<li class="chapter" data-level="9.1" data-path="anal2comp.html"><a href="anal2comp.html#개관"><i class="fa fa-check"></i><b>9.1</b> 개관</a></li>
<li class="chapter" data-level="9.2" data-path="anal2comp.html"><a href="anal2comp.html#tf_idf"><i class="fa fa-check"></i><b>9.2</b> tf_idf</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="anal2comp.html"><a href="anal2comp.html#공식"><i class="fa fa-check"></i><b>9.2.1</b> 공식</a></li>
<li class="chapter" data-level="9.2.2" data-path="anal2comp.html"><a href="anal2comp.html#적용"><i class="fa fa-check"></i><b>9.2.2</b> 적용</a></li>
<li class="chapter" data-level="9.2.3" data-path="anal2comp.html"><a href="anal2comp.html#bind_tf_idftbl-term-document-n"><i class="fa fa-check"></i><b>9.2.3</b> <code>bind_tf_idf(tbl, term, document, n)</code></a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="anal2comp.html"><a href="anal2comp.html#승산비odds-ratio"><i class="fa fa-check"></i><b>9.3</b> 승산비(odds ratio)</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="anal2comp.html"><a href="anal2comp.html#자료준비"><i class="fa fa-check"></i><b>9.3.1</b> 자료준비</a></li>
<li class="chapter" data-level="9.3.2" data-path="anal2comp.html"><a href="anal2comp.html#로그승산비"><i class="fa fa-check"></i><b>9.3.2</b> 로그승산비</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="anal2comp.html"><a href="anal2comp.html#가중로그승산비"><i class="fa fa-check"></i><b>9.4</b> 가중로그승산비</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="anal2comp.html"><a href="anal2comp.html#bind_log_oddstbl-set-feature-n-uninformative-false-unweighted-false"><i class="fa fa-check"></i><b>9.4.1</b> <code>bind_log_odds(tbl, set, feature, n, uninformative = FALSE, unweighted = FALSE)</code></a></li>
<li class="chapter" data-level="9.4.2" data-path="anal2comp.html"><a href="anal2comp.html#지표-비교"><i class="fa fa-check"></i><b>9.4.2</b> 지표 비교</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="anal2comp.html"><a href="anal2comp.html#연습-8"><i class="fa fa-check"></i><b>9.5</b> 연습</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="anal2comp.html"><a href="anal2comp.html#빅카인즈"><i class="fa fa-check"></i><b>9.5.1</b> 빅카인즈</a></li>
<li class="chapter" data-level="9.5.2" data-path="anal2comp.html"><a href="anal2comp.html#정제-1"><i class="fa fa-check"></i><b>9.5.2</b> 정제</a></li>
<li class="chapter" data-level="9.5.3" data-path="anal2comp.html"><a href="anal2comp.html#분석-및-소통-1"><i class="fa fa-check"></i><b>9.5.3</b> 분석 및 소통</a></li>
<li class="chapter" data-level="9.5.4" data-path="anal2comp.html"><a href="anal2comp.html#총빈도와-상대빈도-비교"><i class="fa fa-check"></i><b>9.5.4</b> 총빈도와 상대빈도 비교</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="anal3topic.html"><a href="anal3topic.html"><i class="fa fa-check"></i><b>10</b> 분석3: 주제모형</a>
<ul>
<li class="chapter" data-level="10.1" data-path="anal3topic.html"><a href="anal3topic.html#개관-1"><i class="fa fa-check"></i><b>10.1</b> 개관</a></li>
<li class="chapter" data-level="10.2" data-path="anal3topic.html"><a href="anal3topic.html#자료-준비-1"><i class="fa fa-check"></i><b>10.2</b> 자료 준비</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="anal3topic.html"><a href="anal3topic.html#자료-이입"><i class="fa fa-check"></i><b>10.2.1</b> 자료 이입</a></li>
<li class="chapter" data-level="10.2.2" data-path="anal3topic.html"><a href="anal3topic.html#정제-2"><i class="fa fa-check"></i><b>10.2.2</b> 정제</a></li>
<li class="chapter" data-level="10.2.3" data-path="anal3topic.html"><a href="anal3topic.html#stm-말뭉치"><i class="fa fa-check"></i><b>10.2.3</b> stm 말뭉치</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="anal3topic.html"><a href="anal3topic.html#분석-1"><i class="fa fa-check"></i><b>10.3</b> 분석</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="anal3topic.html"><a href="anal3topic.html#주제의-수k-설정"><i class="fa fa-check"></i><b>10.3.1</b> 주제의 수(K) 설정</a></li>
<li class="chapter" data-level="10.3.2" data-path="anal3topic.html"><a href="anal3topic.html#주제모형-구성"><i class="fa fa-check"></i><b>10.3.2</b> 주제모형 구성</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="anal3topic.html"><a href="anal3topic.html#소통-1"><i class="fa fa-check"></i><b>10.4</b> 소통</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="anal3topic.html"><a href="anal3topic.html#주제별-단어-분포"><i class="fa fa-check"></i><b>10.4.1</b> 주제별 단어 분포</a></li>
<li class="chapter" data-level="10.4.2" data-path="anal3topic.html"><a href="anal3topic.html#주제별-문서-분포"><i class="fa fa-check"></i><b>10.4.2</b> 주제별 문서 분포</a></li>
<li class="chapter" data-level="10.4.3" data-path="anal3topic.html"><a href="anal3topic.html#주제별-단어-문서-분포"><i class="fa fa-check"></i><b>10.4.3</b> 주제별 단어-문서 분포</a></li>
<li class="chapter" data-level="10.4.4" data-path="anal3topic.html"><a href="anal3topic.html#과제-7"><i class="fa fa-check"></i><b>10.4.4</b> 과제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="anal4topic.html"><a href="anal4topic.html"><i class="fa fa-check"></i><b>11</b> 분석4: 주제모형(공변인)</a>
<ul>
<li class="chapter" data-level="11.1" data-path="anal4topic.html"><a href="anal4topic.html#주제-명명과-공변인-주제모형"><i class="fa fa-check"></i><b>11.1</b> 주제 명명과 공변인 주제모형</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="anal4topic.html"><a href="anal4topic.html#개관-2"><i class="fa fa-check"></i><b>11.1.1</b> 개관</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="anal4topic.html"><a href="anal4topic.html#자료-준비-2"><i class="fa fa-check"></i><b>11.2</b> 자료 준비</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="anal4topic.html"><a href="anal4topic.html#수집-2"><i class="fa fa-check"></i><b>11.2.1</b> 수집</a></li>
<li class="chapter" data-level="11.2.2" data-path="anal4topic.html"><a href="anal4topic.html#선택-표집"><i class="fa fa-check"></i><b>11.2.2</b> (선택) 표집</a></li>
<li class="chapter" data-level="11.2.3" data-path="anal4topic.html"><a href="anal4topic.html#정제-3"><i class="fa fa-check"></i><b>11.2.3</b> 정제</a></li>
<li class="chapter" data-level="11.2.4" data-path="anal4topic.html"><a href="anal4topic.html#stm말뭉치"><i class="fa fa-check"></i><b>11.2.4</b> <code>stm</code>말뭉치</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="anal4topic.html"><a href="anal4topic.html#분석-2"><i class="fa fa-check"></i><b>11.3</b> 분석</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="anal4topic.html"><a href="anal4topic.html#주제topic의-수-설정"><i class="fa fa-check"></i><b>11.3.1</b> 주제(topic)의 수 설정</a></li>
<li class="chapter" data-level="11.3.2" data-path="anal4topic.html"><a href="anal4topic.html#모형-구성"><i class="fa fa-check"></i><b>11.3.2</b> 모형 구성</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="anal4topic.html"><a href="anal4topic.html#주제-이름짓기"><i class="fa fa-check"></i><b>11.4</b> 주제 이름짓기</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="anal4topic.html"><a href="anal4topic.html#주제별-단어와-원문-결합"><i class="fa fa-check"></i><b>11.4.1</b> 주제별 단어와 원문 결합</a></li>
<li class="chapter" data-level="11.4.2" data-path="anal4topic.html"><a href="anal4topic.html#주제-이름-목록"><i class="fa fa-check"></i><b>11.4.2</b> 주제 이름 목록</a></li>
<li class="chapter" data-level="11.4.3" data-path="anal4topic.html"><a href="anal4topic.html#주제별-단어-분포도"><i class="fa fa-check"></i><b>11.4.3</b> 주제별 단어 분포도</a></li>
<li class="chapter" data-level="11.4.4" data-path="anal4topic.html"><a href="anal4topic.html#주제별-문서-분포도"><i class="fa fa-check"></i><b>11.4.4</b> 주제별 문서 분포도</a></li>
<li class="chapter" data-level="11.4.5" data-path="anal4topic.html"><a href="anal4topic.html#주제별-단어-문서-분포-1"><i class="fa fa-check"></i><b>11.4.5</b> 주제별 단어-문서 분포</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="anal4topic.html"><a href="anal4topic.html#공변인-분석"><i class="fa fa-check"></i><b>11.5</b> 공변인 분석</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="anal4topic.html"><a href="anal4topic.html#문서-내용-확인"><i class="fa fa-check"></i><b>11.5.1</b> 문서 내용 확인</a></li>
<li class="chapter" data-level="11.5.2" data-path="anal4topic.html"><a href="anal4topic.html#공변인-분석-시각화"><i class="fa fa-check"></i><b>11.5.2</b> 공변인 분석 시각화</a></li>
<li class="chapter" data-level="11.5.3" data-path="anal4topic.html"><a href="anal4topic.html#주제-사이-상관성"><i class="fa fa-check"></i><b>11.5.3</b> 주제 사이 상관성</a></li>
<li class="chapter" data-level="11.5.4" data-path="anal4topic.html"><a href="anal4topic.html#과제-8"><i class="fa fa-check"></i><b>11.5.4</b> 과제</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">사회과학도를 위한 텍스트마이닝</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="cleantool" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> 정제도구</h1>
<p>정제는 컴퓨터가 분석할 수 있도록 수집한 원자료(raw data)를 전처리(preprocessing)해 자료로 구성하는 단계다. 텍스트 마이닝 전과정에서 가장 많은 자원이 소모되는 부분이다. 정제실력이 텍스트마이닝 실력을 좌우한다 해도 과언이 아닐 정도로 중요하다. 정제를 잘못하면 이후 과정을 통해 얻는 결과가 모두 잘못되기 때문이다.</p>
<div id="주요-정제-도구" class="section level4" number="6.0.0.1">
<h4><span class="header-section-number">6.0.0.1</span> 주요 정제 도구</h4>
<p>정제 과정에서는 주로 문자열(string)을 조작해야 하기 때문에 <code>dplyr</code>패키지 뿐 아니라 정규표현식(regular expressions: regex)과 <code>stringr</code>패키지 등 다양한 도구를 활용한다.</p>
<ul>
<li><code>stringr</code></li>
<li><code>dplr</code></li>
<li><code>purrr</code></li>
<li><code>tidyr</code></li>
<li>연산자(operator)</li>
<li>정규표현식(regex)</li>
</ul>
</div>
<div id="토큰화tokenization" class="section level4" number="6.0.0.2">
<h4><span class="header-section-number">6.0.0.2</span> 토큰화(tokenization)</h4>
<p>분석단위에 따라 텍스트를 분석할 수 있도록 잘게 나누는 과정이다. 분석 목적에 따라 글자, 단어, 복수의 단어(n-gram), 문장, 문단, 문서 등으로 나눈다. 토큰화에는 다양한 방법이 있는데, 다양한 분석단위를 지정할 수 있는 <code>tidytext</code>패키지의 <code>unnest_tokens()</code>를 이용한다. <code>unnest_tokens()</code>함수는 데이터프레임을 투입해 토큰화한 다음, 행(row) 하나에 토큰(token) 하나만 할당(one-token-per-row)한 정돈텍스트(tidy text) 형식으로 산출한다.</p>
</div>
<div id="불용어stop-words-제거" class="section level4" number="6.0.0.3">
<h4><span class="header-section-number">6.0.0.3</span> 불용어(stop words) 제거</h4>
<p>분석에 사용하지 않는 요소를 제거하는 단계다. 무엇이 불용어 대상인지는 분석 목적과 맥락에 따라 다르다. 일반적으로 불용어 대상으로 분류되는 것들은 스페이스(공백, 탭 등), 숫자, 구두점(punctuation), 및 한글자 단어, 광범하게 사용되는 일반어(대명사, 접속사 등) 등이다.</p>
<p>불용어는 사전으로 목록을 만들어 제거하기도 하지만 불용어 사전이 완벽할수는 없다. 분석목적과 맥락이 다양하기 때문이다. 예를 들어, “나,” “그녀,” “너” 등과 같은 대명사가 분석에 중요한 역할을 하는 경우, 대명사를 제거해서는 안된다. 또한 구두점이 글쓴이의 성격과 글의 내용에 중요한 역할을 하는 경우가 있기 때문에, 분석목적에 따라서는 구두점을 제거하지 말아야 할수도 있다.</p>
<p>이런 이유로 불용어 사전을 수정하거나 불용어처리에 예외를 적용하는 경우가 흔하다. 이 과정에서 <code>stringr</code>, <code>dplyr</code> 등의 패키지와 정규표현식과 연산자 등의 정제도구가 많이 쓰이므로, 이들 정제도구 사용에 익숙해져야 한다.</p>
</div>
<div id="정규화normalization" class="section level4" number="6.0.0.4">
<h4><span class="header-section-number">6.0.0.4</span> 정규화(normalization)</h4>
<p>의미는 같지만 표현방법이 다른 단어들을 같은 표현의 단어로 통합하는 작업이다. 어근추출과 표제어추출 등이 있다.</p>
<p><strong>어근 추출(stemming)</strong></p>
<p>단어에서 의미를 담고 있는 핵심부분을 추출하는 작업이다. 어근은 실질적인 의미를 나타내는 중심 부분이다. 예들 들어, “보다” “보니” “보고” 등 파생된 형태의 단어에서 어근 “보~”를 추출해야 “보다”로 통일하거나, “study” “studies” “studied”에서 “studi”를 추출해 “study”로 통일해야 정확한 분석이 가능하다.</p>
<p>(어근과 어간은 구분되는 개념이나, 여기서는 편의상 어간을 포괄하는 의미로 어근이라고 한다.)</p>
<p><strong>기본형(표제어) 추출(lemmatization)</strong></p>
<p>다양한 형태로 굴절된(inflected) 일군의 단어에서 공통적으로 기본이 되는 기본형(lemma)을 추출하는 작업이다. 대표하는 단어이므로 표제어라고도 한다. 예를 들어, “my” “me” “mine” “I”는 모두 “나”에 대한 단어이므로, “me”를 기본형으로 설정해 “my” “mine” “I”를 모두 “me”로 치환하는 작업이다.</p>
</div>
<div id="문자형과-따옴표" class="section level4" number="6.0.0.5">
<h4><span class="header-section-number">6.0.0.5</span> 문자형과 따옴표</h4>
<p>R에서는 문자형(character type)을 여러 글자로 이뤄진 문자열(string)과 글자(character, letter) 하나를 구분하지 않기 때문에 겹따옴표와 홑따옴포의 구분이 없다. 다만, 혼동을 피하기 위해 겹따옴표를 기본으로 사용하고, 특수한 경우(따옴표가 본문안에 포함된 경우)에만 겹따옴표와 홑따옴표를 구분해 사용하기로 한다.</p>
<pre><code>&quot;겹따옴표 안에 &#39;홑따옴표&#39;가 있는 경우&quot;
&#39;홑따옴표 안에 &quot;겹따옴표&quot;가 있는 경우&#39;

&quot;겹따옴표와 &quot;홑따옴표&quot;를 구분하지 않는 경우&quot;
&#39;겹따옴표와 &#39;홑따옴표&#39;를 구분하지 않는 경우&#39;
</code></pre>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="cleantool.html#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<pre><code>## -- Attaching packages --------------------------------------- tidyverse 1.3.0 --</code></pre>
<pre><code>## v ggplot2 3.3.2     v purrr   0.3.4
## v tibble  3.0.4     v dplyr   1.0.2
## v tidyr   1.1.2     v stringr 1.4.0
## v readr   1.4.0     v forcats 0.5.0</code></pre>
<pre><code>## -- Conflicts ------------------------------------------ tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="cleantool.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span></code></pre></div>
</div>
<div id="stringr" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> <code>stringr</code></h2>
<div id="개괄" class="section level3" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> 개괄</h3>
<p><code>stringr</code>패키지는 문자열을 일관된 방식으로 다루는 다양한 함수를 제공한다. <code>stringr</code>패키지 함수는 크게 <a href="https://stringr.tidyverse.org/reference/index.html">4개 집단으로 구분</a>할 수 있다.</p>
<ul>
<li><p>패턴 일치(Pattern matching)</p></li>
<li><p>공백문자(Whitespace)</p></li>
<li><p>로케일 민감(Locale sensitive)</p></li>
<li><p>기타 도우미(Other helpers)</p></li>
</ul>
<p>가장 많이 활용하는 함수는 문자의 패턴과 관련된 기능이다.</p>
<ul>
<li><p>패턴 일치(Pattern matching)</p>
<ul>
<li><p>탐지와 찾기(detect &amp; locate)</p></li>
<li><p>부분선택, 추출, 일치(subset, extract &amp; match)</p></li>
<li><p>변환(mutate)</p></li>
<li><p>결합과 분리(join &amp; split)</p></li>
</ul></li>
</ul>
<div id="패턴-일치pattern-matching" class="section level4" number="6.1.1.1">
<h4><span class="header-section-number">6.1.1.1</span> 패턴 일치(Pattern matching)</h4>
<p>각 종류별 주요 함수는 다음과 같다.</p>
<div id="탐지와-찾기detect-locate" class="section level5" number="6.1.1.1.1">
<h5><span class="header-section-number">6.1.1.1.1</span> 탐지와 찾기(detect &amp; locate)</h5>
<ul>
<li><code>str_detect()</code>
문자열에서 패턴의 일치여부를 찾아 논리값(TRUE FALSE)으로 산출한다.</li>
<li><code>str_which()</code>
문자열에서 패턴의 인덱스를 찾아 숫자형으로 산출한다.<br />
</li>
<li><code>str_count()</code>
문자열에서 패턴과 일치하는 문자의 개수 계산</li>
<li><code>str_locate()</code> <code>str_locate_all()</code>
문자열에서 패턴의 위치를 찾아 숫자형으로 산출한다. 여기서 찾은 정수를 <code>str_sub()</code>를 이용해 해당 단어를 추출할 수 있다. <code>str_locate()</code>와 <code>str_sub()</code>함수를 결합해 사용하기 보다 <code>str_extract()</code>함수를 이용하는 것이 더 편리하다.</li>
</ul>
</div>
<div id="부분선택-추출-일치subset-extract-match" class="section level5" number="6.1.1.1.2">
<h5><span class="header-section-number">6.1.1.1.2</span> 부분선택, 추출, 일치(subset, extract &amp; match)</h5>
<ul>
<li><code>str_sub()</code>
문자벡터에서 문자열을 추출한다.</li>
<li><code>str_subset()</code>
문자열에서 패턴을 찾아 해당 패턴이 포함된 요소를 산출한다.<br />
</li>
<li><code>str_extract()</code> <code>str_extract_all()</code>
문자열에서 일치하는 패턴을 찾아 벡터로 산출한다.</li>
<li><code>str_match()</code> <code>str_match_all()</code>
문자열에서 일치하는 패턴을 찾아 행렬로 산출한다.</li>
</ul>
</div>
<div id="문자열-변환mutate-strings" class="section level5" number="6.1.1.1.3">
<h5><span class="header-section-number">6.1.1.1.3</span> 문자열 변환(Mutate Strings)</h5>
<ul>
<li><code>str_replace()</code> <code>str_replace_all()</code>
문자열에서 패턴을 찾아 지정된 패턴으로 치환한다.</li>
<li><code>str_remove()</code> <code>str_remove_all()</code>
문자열에서 패턴을 찾아 제거한다.</li>
</ul>
</div>
<div id="결합과-분리join-and-split" class="section level5" number="6.1.1.1.4">
<h5><span class="header-section-number">6.1.1.1.4</span> 결합과 분리(Join and Split)</h5>
<ul>
<li><code>str_c()</code>
복수의 문자열을 하나의 문자열로 결합</li>
<li><code>str_split()</code>
문자열에서 패턴을 찾아 분리. 리스트 구조로 산출한다.</li>
<li><code>str_split_fixed()</code>
문자열에서 패턴을 찾아 분리. 행렬 구조로 산출한다.</li>
</ul>
</div>
</div>
<div id="공백문자whitespace" class="section level4" number="6.1.1.2">
<h4><span class="header-section-number">6.1.1.2</span> 공백문자(Whitespace)</h4>
<ul>
<li><code>str_squish()</code> 문자열에서 모든 공백을 단일 스페이스 공백으로 치환.</li>
<li><code>str_trim()</code> 문자열에서 좌우 공백을 단일 스페이스 공백으로 치환.</li>
</ul>
</div>
<div id="로케일-민감locale-sensitive" class="section level4" number="6.1.1.3">
<h4><span class="header-section-number">6.1.1.3</span> 로케일 민감(Locale sensitive)</h4>
<p>현장, 무대라는 의미의 로케일(locale)은 언어 등의 지역별로 설정된 사용환경이다. 아래 함수는 로케일 설정에 따라 산출값이 달라 질수 있다.</p>
<ul>
<li><code>str_to_lower()</code>
문자열을 모두 소문자로 변환</li>
<li><code>str_to_upper()</code>
문자열을 모두 대문자로 변환</li>
<li><code>str_to_title()</code>
문자열에서 각 단어 첫 글자를 대문자로 변환</li>
<li><code>str_to_sentence()</code>
문자열에서 각 문장 첫 글자를 대문자로 변화</li>
<li><code>str_order()</code>
문자벡터에서 순서 인덱스를 숫자형으로 산출.</li>
<li><code>str_sort()</code>
문자벡터를 순서대로 정렬</li>
</ul>
</div>
<div id="기타-도우미other-helpers" class="section level4" number="6.1.1.4">
<h4><span class="header-section-number">6.1.1.4</span> 기타 도우미(Other helpers)</h4>
<ul>
<li><code>str_length()</code>
문자열의 길이 계산해 산출. 즉, 문자열에 있는 문자의 개수 계산<br />
</li>
<li><code>str_view()</code> <code>str_view_all()</code>
정규표현식과 일치하는 결과를 HTML로 렌더링해 산출</li>
<li><code>str_conv()</code>
문자열의 인코딩 설정</li>
<li><code>str_wrap()</code>
너비(width) 등을 정해 잘 포맷된 문단으로 문자열 포장</li>
</ul>
<p>이외에도 <code>stringr</code>패키지에는 다양한 함수가 있으니 <a href="https://stringr.tidyverse.org/">설명서</a> 참고.</p>
<p>한 남자가 사랑하는 여인에게 보내는 <a href="https://theculturetrip.com/europe/france/paris/articles/10-most-beautiful-love-letters-of-all-time/">연애편지</a>로 <code>stringr</code>패키지의 각 함수의 사용법을 알아보자.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="cleantool.html#cb7-1" aria-hidden="true" tabindex="-1"></a>love_v <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb7-2"><a href="cleantool.html#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;You still fascinate and inspire me. :)&quot;</span>,</span>
<span id="cb7-3"><a href="cleantool.html#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;You influence me for the better ~ .&quot;</span>,</span>
<span id="cb7-4"><a href="cleantool.html#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;You’re the object of my desire, the #1 Earthly reason for my existence!!!&quot;</span>,</span>
<span id="cb7-5"><a href="cleantool.html#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="st">&quot; ... &quot;</span>,</span>
<span id="cb7-6"><a href="cleantool.html#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;그대는 여전히 매혹적이고 나에게 영감을 줍니다. ^^&quot;</span>,</span>
<span id="cb7-7"><a href="cleantool.html#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;당신은 나로 하여금 더 나은 사람이 되도록 했습니다 ~.&quot;</span>,</span>
<span id="cb7-8"><a href="cleantool.html#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;당신은 내 욕망의 대상이요, 내가 이 세상에 존재하는 첫번째 이유입니다!!!~&quot;</span>,</span>
<span id="cb7-9"><a href="cleantool.html#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="st">&quot; &quot;</span></span>
<span id="cb7-10"><a href="cleantool.html#cb7-10" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
</div>
<div id="탐지와-찾기detect-locate-1" class="section level3" number="6.1.2">
<h3><span class="header-section-number">6.1.2</span> 탐지와 찾기(detect &amp; locate)</h3>
<div id="str_detectstring-pattern-negate-false" class="section level4" number="6.1.2.1">
<h4><span class="header-section-number">6.1.2.1</span> <code>str_detect(string, pattern, negate = FALSE)</code></h4>
<p>문자열에서 패턴의 일치여부를 찾아 논리값(TRUE FALSE)으로 산출한다.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="cleantool.html#cb8-1" aria-hidden="true" tabindex="-1"></a>love_v <span class="sc">%&gt;%</span> <span class="fu">str_detect</span>(<span class="at">pattern =</span> <span class="st">&quot;그대&quot;</span>)</span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE</code></pre>
<p><code>str_detect()</code>함수는 논리값을 산출하므로 <code>dplyr</code>패키지의 <code>filter()</code>함수와 함께 사용해 특정 단어가 포함된 요소를 추출할 수 있다.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="cleantool.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> love_v) <span class="sc">%&gt;%</span> </span>
<span id="cb10-2"><a href="cleantool.html#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;그대&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   text                                             
##   &lt;chr&gt;                                            
## 1 그대는 여전히 매혹적이고 나에게 영감을 줍니다. ^^</code></pre>
<p><code>!</code>를 이용하면 특정 단어가 포함된 요소만 빼고 추출할 수 있다.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="cleantool.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> love_v) <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="cleantool.html#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_detect</span>(<span class="at">string =</span> text, <span class="at">pattern =</span> <span class="st">&quot;그대&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 7 x 1
##   text                                                                       
##   &lt;chr&gt;                                                                      
## 1 &quot;You still fascinate and inspire me. :)&quot;                                   
## 2 &quot;You influence me for the better ~ .&quot;                                      
## 3 &quot;You’re the object of my desire, the #1 Earthly reason for my existence!!!&quot;
## 4 &quot; ... &quot;                                                                    
## 5 &quot;당신은 나로 하여금 더 나은 사람이 되도록 했습니다 ~.&quot;                     
## 6 &quot;당신은 내 욕망의 대상이요, 내가 이 세상에 존재하는 첫번째 이유입니다!!!~&quot; 
## 7 &quot; &quot;</code></pre>
<p>토큰화해서 추출한 결과와 비교해보자.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="cleantool.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> love_v) <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="cleantool.html#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text) <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="cleantool.html#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(<span class="at">string =</span> word, <span class="at">pattern =</span> <span class="st">&quot;그대&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   word  
##   &lt;chr&gt; 
## 1 그대는</code></pre>
</div>
<div id="str_whichstring-pattern-negate-false" class="section level4" number="6.1.2.2">
<h4><span class="header-section-number">6.1.2.2</span> <code>str_which(string, pattern, negate = FALSE))</code></h4>
<p>문자열에서 패턴의 인덱스를 찾아 숫자형으로 산출한다.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="cleantool.html#cb16-1" aria-hidden="true" tabindex="-1"></a>love_v[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]</span></code></pre></div>
<pre><code>## [1] &quot;You still fascinate and inspire me. :)&quot;                                    
## [2] &quot;You influence me for the better ~ .&quot;                                       
## [3] &quot;You’re the object of my desire, the #1 Earthly reason for my existence!!!&quot;</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="cleantool.html#cb18-1" aria-hidden="true" tabindex="-1"></a>love_v <span class="sc">%&gt;%</span> <span class="fu">str_which</span>(<span class="at">pattern =</span> <span class="st">&quot;You&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 1 2 3</code></pre>
<p>“You”가 포함된 요소가 1,2,3번째에 있다.</p>
</div>
<div id="str_countstring-pattern" class="section level4" number="6.1.2.3">
<h4><span class="header-section-number">6.1.2.3</span> <code>str_count(string, pattern = "")</code></h4>
<p>문자열에서 패턴과 일치하는 문자의 개수 계산. 기본값에는 패턴지정이 안돼 있어, 패턴 지정을 안하면 각 요소에 있는 글자 길이를 모두 계산한다.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="cleantool.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;banana&quot;</span>, <span class="st">&quot;pear&quot;</span>, <span class="st">&quot;pinapple&quot;</span>, <span class="st">&quot;123&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-2"><a href="cleantool.html#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_count</span>(<span class="st">&quot;a&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 1 3 1 1 0</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="cleantool.html#cb22-1" aria-hidden="true" tabindex="-1"></a>love_v <span class="sc">%&gt;%</span> <span class="fu">str_count</span>(<span class="at">pattern =</span> <span class="st">&quot;You&quot;</span>)</span></code></pre></div>
<pre><code>## [1] 1 1 1 0 0 0 0 0</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="cleantool.html#cb24-1" aria-hidden="true" tabindex="-1"></a>love_v <span class="sc">%&gt;%</span> <span class="fu">str_count</span>()</span></code></pre></div>
<pre><code>## [1] 38 35 73  5 29 31 43  1</code></pre>
<p><code>str_count()</code>함수는 숫자형을 산출하므로 연산자와 함께 투입하면 논리값(TRUE, FALSE)이 나온다. 따라서 <code>filter()</code>함수와 병용해 일정한 길이의 문자를 걸러내는데 쓸수 있다.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="cleantool.html#cb26-1" aria-hidden="true" tabindex="-1"></a>love_v <span class="sc">%&gt;%</span> <span class="fu">str_count</span>() <span class="sc">==</span> <span class="dv">1</span></span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="cleantool.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> love_v) <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="cleantool.html#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text) <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a href="cleantool.html#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_count</span>(word) <span class="sc">&gt;</span> <span class="dv">7</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 1
##   word     
##   &lt;chr&gt;    
## 1 fascinate
## 2 influence
## 3 existence</code></pre>
</div>
<div id="str_locatestring-pattern" class="section level4" number="6.1.2.4">
<h4><span class="header-section-number">6.1.2.4</span> <code>str_locate(string, pattern)</code></h4>
<p>문자열에서 첫번째 패턴이 어느 위치에서 시작해 어느 위치에서 끝나는지 산출한다.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="cleantool.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;123 567 9123&quot;</span>, <span class="st">&quot;789 123 123&quot;</span>, <span class="st">&quot;456 789 456&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb30-2"><a href="cleantool.html#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_locate</span>(<span class="at">pattern =</span> <span class="st">&quot;123&quot;</span>)</span></code></pre></div>
<pre><code>##      start end
## [1,]     1   3
## [2,]     5   7
## [3,]    NA  NA</code></pre>
<p>패턴 “123”은 첫째요소 1번째에서 3번째에 위치한다. 둘째 요소에 있는 “123”은 5번째에서 7번째에 위치한다. 둘째 요소의 시작위치가 4번째가 아닌 이유는 그 앞 공백 위치가 4번째이기 때문이다.</p>
<ul>
<li><code>str_locate_all(string, pattern)</code>
문자열에서 모든 패턴이 어느 위치에서 시작해 어느 위치에서 끝나는지 리스트로 산출한다.</li>
</ul>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="cleantool.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;123 567 9123&quot;</span>, <span class="st">&quot;789 123 123&quot;</span>, <span class="st">&quot;456 789 456&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb32-2"><a href="cleantool.html#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_locate_all</span>(<span class="at">pattern =</span> <span class="st">&quot;123&quot;</span>)</span></code></pre></div>
<pre><code>## [[1]]
##      start end
## [1,]     1   3
## [2,]    10  12
## 
## [[2]]
##      start end
## [1,]     5   7
## [2,]     9  11
## 
## [[3]]
##      start end</code></pre>
<p>end의 값에서 start의 값을 빼면 패턴의 길이를 계산할 수 있다. 특정 패턴의 문서상의 위치와 빈도를 계산하는데 사용할 수 있다.</p>
</div>
</div>
<div id="부분선택-추출-일치subset-extract-match-1" class="section level3" number="6.1.3">
<h3><span class="header-section-number">6.1.3</span> 부분선택, 추출, 일치(subset, extract &amp; match)</h3>
<div id="str_substart-1l-end--1l" class="section level4" number="6.1.3.1">
<h4><span class="header-section-number">6.1.3.1</span> <code>str_sub(start = 1L, end = -1L)</code></h4>
<p>문자벡터의 요소에서 시작과 끝나는 지점의 값으로 문자열을 추출한다.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="cleantool.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;123 567 9123&quot;</span>, <span class="st">&quot;789 123 123&quot;</span>, <span class="st">&quot;456 789 456&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb34-2"><a href="cleantool.html#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_sub</span>(<span class="at">start =</span> <span class="dv">1</span>, <span class="at">end =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] &quot;123&quot; &quot;789&quot; &quot;456&quot;</code></pre>
<p>음수를 지정하면 끝나는 지점에서 역순으로 추출한다.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="cleantool.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;123 567 9123&quot;</span>, <span class="st">&quot;789 123 123&quot;</span>, <span class="st">&quot;456 789 456&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb36-2"><a href="cleantool.html#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_sub</span>(<span class="at">start =</span> <span class="dv">1</span>, <span class="at">end =</span> <span class="sc">-</span><span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] &quot;123 567 91&quot; &quot;789 123 1&quot;  &quot;456 789 4&quot;</code></pre>
</div>
<div id="str_subsetstring-pattern-negate-false" class="section level4" number="6.1.3.2">
<h4><span class="header-section-number">6.1.3.2</span> <code>str_subset(string, pattern, negate = FALSE)</code></h4>
<p>문자열에서 패턴을 찾아 해당 패턴이 포함된 요소를 산출한다.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="cleantool.html#cb38-1" aria-hidden="true" tabindex="-1"></a>love_v <span class="sc">%&gt;%</span> <span class="fu">str_subset</span>(<span class="at">pattern =</span> <span class="st">&quot;대&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;그대는 여전히 매혹적이고 나에게 영감을 줍니다. ^^&quot;                       
## [2] &quot;당신은 내 욕망의 대상이요, 내가 이 세상에 존재하는 첫번째 이유입니다!!!~&quot;</code></pre>
<p><code>negate =</code>인자를 <code>TRUE</code>로 설정하면 해당 패턴이 없는 요소를 산출한다.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="cleantool.html#cb40-1" aria-hidden="true" tabindex="-1"></a>love_v <span class="sc">%&gt;%</span> <span class="fu">str_subset</span>(<span class="at">pattern =</span> <span class="st">&quot;대&quot;</span>, <span class="at">negate =</span> <span class="st">&quot;TRUE&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;You still fascinate and inspire me. :)&quot;                                    
## [2] &quot;You influence me for the better ~ .&quot;                                       
## [3] &quot;You’re the object of my desire, the #1 Earthly reason for my existence!!!&quot;
## [4] &quot; ... &quot;                                                                     
## [5] &quot;당신은 나로 하여금 더 나은 사람이 되도록 했습니다 ~.&quot;                      
## [6] &quot; &quot;</code></pre>
</div>
<div id="str_extractstring-pattern" class="section level4" number="6.1.3.3">
<h4><span class="header-section-number">6.1.3.3</span> <code>str_extract(string, pattern)</code></h4>
<p>문자열에서 일치하는 첫번째 패턴을 찾아 벡터로 산출한다. 셰익스피어의 소네트 27에서 “나”와 “너”에 대한 단어를 추출하자. <code>\\bI\\b|m(e|y)|th(y|ee)</code>는 정규표현식에서 “I, my, me, thee, thy”를 찾는 패턴이다. (정규표현식은 다음 장에서 자세하게 다룬다.)</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="cleantool.html#cb42-1" aria-hidden="true" tabindex="-1"></a>sonnet27_v <span class="ot">&lt;-</span> <span class="st">&quot;Weary with toil I haste me to my bed,</span></span>
<span id="cb42-2"><a href="cleantool.html#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="st">The dear repose for limbs with travel tired;</span></span>
<span id="cb42-3"><a href="cleantool.html#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="st">But then begins a journey in my head</span></span>
<span id="cb42-4"><a href="cleantool.html#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="st">To work my mind when body&#39;s work&#39;s expired;</span></span>
<span id="cb42-5"><a href="cleantool.html#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="st">For then my thoughts, from far where I abide,</span></span>
<span id="cb42-6"><a href="cleantool.html#cb42-6" aria-hidden="true" tabindex="-1"></a><span class="st">Intend a zealous pilgrimage to thee,</span></span>
<span id="cb42-7"><a href="cleantool.html#cb42-7" aria-hidden="true" tabindex="-1"></a><span class="st">And keep my drooping eyelids open wide</span></span>
<span id="cb42-8"><a href="cleantool.html#cb42-8" aria-hidden="true" tabindex="-1"></a><span class="st">Looking on darkness which the blind do see:</span></span>
<span id="cb42-9"><a href="cleantool.html#cb42-9" aria-hidden="true" tabindex="-1"></a><span class="st">Save that my soul&#39;s imaginary sight</span></span>
<span id="cb42-10"><a href="cleantool.html#cb42-10" aria-hidden="true" tabindex="-1"></a><span class="st">Presents thy shadow to my sightless view,</span></span>
<span id="cb42-11"><a href="cleantool.html#cb42-11" aria-hidden="true" tabindex="-1"></a><span class="st">Which like a jewel hung in ghastly night</span></span>
<span id="cb42-12"><a href="cleantool.html#cb42-12" aria-hidden="true" tabindex="-1"></a><span class="st">Makes black night beauteous and her old face new.</span></span>
<span id="cb42-13"><a href="cleantool.html#cb42-13" aria-hidden="true" tabindex="-1"></a><span class="st">Lo! thus by day my limbs, by night my mind,</span></span>
<span id="cb42-14"><a href="cleantool.html#cb42-14" aria-hidden="true" tabindex="-1"></a><span class="st">For thee, and for myself, no quietness find.&quot;</span></span>
<span id="cb42-15"><a href="cleantool.html#cb42-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-16"><a href="cleantool.html#cb42-16" aria-hidden="true" tabindex="-1"></a>sonnet27_v <span class="sc">%&gt;%</span> <span class="fu">str_extract</span>(<span class="at">pattern =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">bI</span><span class="sc">\\</span><span class="st">b|m(e|y)|th(y|ee)&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;I&quot;</code></pre>
<ul>
<li><code>str_extract_all(string, pattern, simplify = FALSE)</code>
문자열에서 일치하는 모든 패턴을 찾아 리스트로 산출한다. <code>simplify = TRUE</code>로 설정하면 문자행렬로 산출한다.</li>
</ul>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="cleantool.html#cb44-1" aria-hidden="true" tabindex="-1"></a>sonnet27_v <span class="sc">%&gt;%</span> <span class="fu">str_extract_all</span>(<span class="at">pattern =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">bI</span><span class="sc">\\</span><span class="st">b|m(e|y)|th(y|ee)&quot;</span>)</span></code></pre></div>
<pre><code>## [[1]]
##  [1] &quot;I&quot;    &quot;me&quot;   &quot;my&quot;   &quot;my&quot;   &quot;my&quot;   &quot;my&quot;   &quot;I&quot;    &quot;thee&quot; &quot;my&quot;   &quot;my&quot;  
## [11] &quot;thy&quot;  &quot;my&quot;   &quot;my&quot;   &quot;my&quot;   &quot;thee&quot; &quot;my&quot;</code></pre>
<p><code>table()</code>함수로 추출한 각 단어의 빈도를 계산할 수 있다.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="cleantool.html#cb46-1" aria-hidden="true" tabindex="-1"></a>sonnet27_v <span class="sc">%&gt;%</span> </span>
<span id="cb46-2"><a href="cleantool.html#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_extract_all</span>(<span class="at">pattern =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">bI</span><span class="sc">\\</span><span class="st">b|m(e|y)|th(y|ee)&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb46-3"><a href="cleantool.html#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>()</span></code></pre></div>
<pre><code>## .
##    I   me   my thee  thy 
##    2    1   10    2    1</code></pre>
<p>이 소네트는 침대에 누워 연인을 생각하는 장면을 그렸음에도 불구하고 연인보다는 자기 자신에 대한 내용으로 가득찬 내용 임을 알 수 있다.</p>
</div>
<div id="str_matchstring-pattern" class="section level4" number="6.1.3.4">
<h4><span class="header-section-number">6.1.3.4</span> <code>str_match(string, pattern)</code></h4>
<p>문자열에서 일치하는 패턴을 찾아 행렬로 산출한다. <code>str_extract()</code>함수와 기능이 비슷하지만, 산출양식과 추출방식에서 미세한 차이가 있다. <code>str_match()</code>함수는 패턴의 하부패턴을 소괄호<code>()</code>로 묶어 주면 소괄로별로 문자열을 분리해 추출할 수 있다. <code>.+</code>는 임의의 요소<code>.</code>가 1회이상 반복<code>+</code>된다는 의미의 정규표현식이다.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="cleantool.html#cb48-1" aria-hidden="true" tabindex="-1"></a>email_v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;애플&quot;</span>, <span class="st">&quot;apple@ddd.com&quot;</span>, <span class="st">&quot;테슬라&quot;</span>, <span class="st">&quot;tesla@sss.com&quot;</span>)</span>
<span id="cb48-2"><a href="cleantool.html#cb48-2" aria-hidden="true" tabindex="-1"></a>email_v <span class="sc">%&gt;%</span> <span class="fu">str_match</span>(<span class="at">pattern =</span> <span class="st">&quot;.+@.+&quot;</span>)</span></code></pre></div>
<pre><code>##      [,1]           
## [1,] NA             
## [2,] &quot;apple@ddd.com&quot;
## [3,] NA             
## [4,] &quot;tesla@sss.com&quot;</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="cleantool.html#cb50-1" aria-hidden="true" tabindex="-1"></a>email_v <span class="sc">%&gt;%</span> <span class="fu">str_match</span>(<span class="at">pattern =</span> <span class="st">&quot;(.+)@(.+)&quot;</span>)</span></code></pre></div>
<pre><code>##      [,1]            [,2]    [,3]     
## [1,] NA              NA      NA       
## [2,] &quot;apple@ddd.com&quot; &quot;apple&quot; &quot;ddd.com&quot;
## [3,] NA              NA      NA       
## [4,] &quot;tesla@sss.com&quot; &quot;tesla&quot; &quot;sss.com&quot;</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="cleantool.html#cb52-1" aria-hidden="true" tabindex="-1"></a>email_v <span class="sc">%&gt;%</span> <span class="fu">str_extract</span>(<span class="at">pattern =</span> <span class="st">&quot;(.+)@(.+)&quot;</span>)</span></code></pre></div>
<pre><code>## [1] NA              &quot;apple@ddd.com&quot; NA              &quot;tesla@sss.com&quot;</code></pre>
<ul>
<li><code>str_match_all(string, pattern)</code>
문자열에서 일치하는 모든 패턴을 찾아 리스트로 산출한다.</li>
</ul>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="cleantool.html#cb54-1" aria-hidden="true" tabindex="-1"></a>email_v <span class="sc">%&gt;%</span> <span class="fu">str_match_all</span>(<span class="at">pattern =</span> <span class="st">&quot;(.+)@(.+)&quot;</span>)</span></code></pre></div>
<pre><code>## [[1]]
##      [,1] [,2] [,3]
## 
## [[2]]
##      [,1]            [,2]    [,3]     
## [1,] &quot;apple@ddd.com&quot; &quot;apple&quot; &quot;ddd.com&quot;
## 
## [[3]]
##      [,1] [,2] [,3]
## 
## [[4]]
##      [,1]            [,2]    [,3]     
## [1,] &quot;tesla@sss.com&quot; &quot;tesla&quot; &quot;sss.com&quot;</code></pre>
</div>
</div>
<div id="문자열-변환mutate-strings-1" class="section level3" number="6.1.4">
<h3><span class="header-section-number">6.1.4</span> 문자열 변환(Mutate Strings)</h3>
<div id="str_replacestring-pattern-replacement" class="section level4" number="6.1.4.1">
<h4><span class="header-section-number">6.1.4.1</span> <code>str_replace(string, pattern, replacement)</code></h4>
<p>문자열에서 패턴을 찾아 첫째 요소를 지정된 패턴으로 치환한다.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="cleantool.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;my my my book&quot;</span>, <span class="st">&quot;my my my paper&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb56-2"><a href="cleantool.html#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace</span>(<span class="at">pattern =</span> <span class="st">&quot;my&quot;</span>, <span class="at">replacement =</span> <span class="st">&quot;MY&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;MY my my book&quot;  &quot;MY my my paper&quot;</code></pre>
<ul>
<li><code>str_replace_all(string, pattern, replacement)</code>
문자열에서 패턴을 찾아 모든 요소를 지정된 패턴으로 치환한다.</li>
</ul>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="cleantool.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;my my my book&quot;</span>, <span class="st">&quot;my my my paper&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb58-2"><a href="cleantool.html#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(<span class="at">pattern =</span> <span class="st">&quot;my&quot;</span>, <span class="at">replacement =</span> <span class="st">&quot;MY&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;MY MY MY book&quot;  &quot;MY MY MY paper&quot;</code></pre>
<p>연산자 “또는”<code>|</code>과 함께 사용하면 복수의 패턴을 찾아 치환할 수 있다.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="cleantool.html#cb60-1" aria-hidden="true" tabindex="-1"></a>love_v <span class="sc">%&gt;%</span> <span class="fu">str_replace_all</span>(<span class="at">pattern =</span> <span class="st">&quot;(my|me|내|내가|나로)&quot;</span>, <span class="at">replacement =</span> <span class="st">&quot;ME&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;You still fascinate and inspire ME. :)&quot;                                    
## [2] &quot;You influence ME for the better ~ .&quot;                                       
## [3] &quot;You’re the object of ME desire, the #1 Earthly reason for ME existence!!!&quot;
## [4] &quot; ... &quot;                                                                     
## [5] &quot;그대는 여전히 매혹적이고 나에게 영감을 줍니다. ^^&quot;                         
## [6] &quot;당신은 ME 하여금 더 나은 사람이 되도록 했습니다 ~.&quot;                        
## [7] &quot;당신은 ME 욕망의 대상이요, ME가 이 세상에 존재하는 첫번째 이유입니다!!!~&quot;  
## [8] &quot; &quot;</code></pre>
<p>같은 글자가 포함된 두 요소를 연산자로 결합할 때는 결합 순서에 주의한다.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="cleantool.html#cb62-1" aria-hidden="true" tabindex="-1"></a>love_v <span class="sc">%&gt;%</span> <span class="fu">str_replace_all</span>(<span class="at">pattern =</span> <span class="st">&quot;(You|You’re)&quot;</span>, <span class="at">replacement =</span> <span class="st">&quot;YOU&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;YOU still fascinate and inspire me. :)&quot;                                    
## [2] &quot;YOU influence me for the better ~ .&quot;                                       
## [3] &quot;YOU’re the object of my desire, the #1 Earthly reason for my existence!!!&quot;
## [4] &quot; ... &quot;                                                                     
## [5] &quot;그대는 여전히 매혹적이고 나에게 영감을 줍니다. ^^&quot;                         
## [6] &quot;당신은 나로 하여금 더 나은 사람이 되도록 했습니다 ~.&quot;                      
## [7] &quot;당신은 내 욕망의 대상이요, 내가 이 세상에 존재하는 첫번째 이유입니다!!!~&quot;  
## [8] &quot; &quot;</code></pre>
<p>먼저 “You”를 “YOU”로 치환했기 때문에 “You”는 남아 있지 않게 된다. 따라서 그 다음에 나오는 “You’re”에 대해서는 일치하는 패턴이 없어진다. 연산자 투입 순서를 바꿔준다.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="cleantool.html#cb64-1" aria-hidden="true" tabindex="-1"></a>love_v <span class="sc">%&gt;%</span> <span class="fu">str_replace_all</span>(<span class="at">pattern =</span> <span class="st">&quot;(You’re|You)&quot;</span>, <span class="at">replacement =</span> <span class="st">&quot;YOU&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;YOU still fascinate and inspire me. :)&quot;                                  
## [2] &quot;YOU influence me for the better ~ .&quot;                                     
## [3] &quot;YOU the object of my desire, the #1 Earthly reason for my existence!!!&quot;  
## [4] &quot; ... &quot;                                                                   
## [5] &quot;그대는 여전히 매혹적이고 나에게 영감을 줍니다. ^^&quot;                       
## [6] &quot;당신은 나로 하여금 더 나은 사람이 되도록 했습니다 ~.&quot;                    
## [7] &quot;당신은 내 욕망의 대상이요, 내가 이 세상에 존재하는 첫번째 이유입니다!!!~&quot;
## [8] &quot; &quot;</code></pre>
</div>
<div id="str_removestring-pattern" class="section level4" number="6.1.4.2">
<h4><span class="header-section-number">6.1.4.2</span> <code>str_remove(string, pattern)</code></h4>
<p>문자열에서 패턴을 찾아 첫째 요소 제거한다.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="cleantool.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;my my my book&quot;</span>, <span class="st">&quot;my my my paper&quot;</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb66-2"><a href="cleantool.html#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove</span>(<span class="at">pattern =</span> <span class="st">&quot;my&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot; my my book&quot;  &quot; my my paper&quot;</code></pre>
<ul>
<li><code>str_remove_all(string, pattern)</code>
문자열에서 패턴을 찾아 모든 요소 제거한다.</li>
</ul>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="cleantool.html#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;my my my book&quot;</span>, <span class="st">&quot;my my my paper&quot;</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb68-2"><a href="cleantool.html#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_remove_all</span>(<span class="at">pattern =</span> <span class="st">&quot;my&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;   book&quot;  &quot;   paper&quot;</code></pre>
</div>
</div>
<div id="결합과-분리join-and-split-1" class="section level3" number="6.1.5">
<h3><span class="header-section-number">6.1.5</span> 결합과 분리(Join and Split)</h3>
<div id="str_c...-sep-collapse-null" class="section level4" number="6.1.5.1">
<h4><span class="header-section-number">6.1.5.1</span> <code>str_c(..., sep = "", collapse = NULL)</code></h4>
<p>복수의 문자열을 단일 문자열로 결합. <code>sep =</code>인자의 기본값은 공백없음<code>""</code></p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="cleantool.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="st">&quot;You&quot;</span>, <span class="st">&quot;inspire&quot;</span>, <span class="st">&quot;me&quot;</span>, <span class="at">sep =</span> <span class="st">&quot; &quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;You inspire me&quot;</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="cleantool.html#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="st">&quot;You&quot;</span>, <span class="st">&quot;inspire&quot;</span>, <span class="st">&quot;me&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Youinspireme&quot;</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="cleantool.html#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="st">&quot;You&quot;</span>, <span class="st">&quot;inspire&quot;</span>, <span class="st">&quot;me&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;|&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;You|inspire|me&quot;</code></pre>
<p><code>collapse =</code>인자를 사용해 벡터 안의 여러 문자열을 단일 문자열로 결합할 수있다.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="cleantool.html#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="st">&quot;You&quot;</span>, <span class="st">&quot;inspire&quot;</span>, <span class="st">&quot;me&quot;</span>, <span class="at">collapse =</span> <span class="st">&quot;|&quot;</span> )</span></code></pre></div>
<pre><code>## [1] &quot;Youinspireme&quot;</code></pre>
<p>“You,” “inspire,” “me”가 단일 벡터가 아니기 때문에 단일 문자열로 결합되지 않았다.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="cleantool.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>( <span class="fu">c</span>(<span class="st">&quot;You&quot;</span>, <span class="st">&quot;inspire&quot;</span>, <span class="st">&quot;me&quot;</span>), <span class="at">collapse =</span> <span class="st">&quot;|&quot;</span> )</span></code></pre></div>
<pre><code>## [1] &quot;You|inspire|me&quot;</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="cleantool.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>( <span class="fu">c</span>(<span class="st">&quot;You&quot;</span>, <span class="st">&quot;inspire&quot;</span>, <span class="st">&quot;me&quot;</span>), <span class="at">collapse =</span> <span class="st">&quot;&quot;</span> )</span></code></pre></div>
<pre><code>## [1] &quot;Youinspireme&quot;</code></pre>
<p>문자열이 여러개인 벡터끼리 결합하는 경우.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="cleantool.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>))</span></code></pre></div>
<pre><code>## [1] &quot;aA&quot; &quot;bB&quot;</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="cleantool.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;-&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;a-A&quot; &quot;b-B&quot;</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="cleantool.html#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;-&quot;</span>, <span class="at">collapse =</span> <span class="st">&quot;&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;a-Ab-B&quot;</code></pre>
<p>문자열의 개수가 다른 벡터와 결합하는 경우</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="cleantool.html#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>), <span class="st">&quot;C&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;aC&quot; &quot;bC&quot;</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="cleantool.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>), <span class="st">&quot;C&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;-&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;a-C&quot; &quot;b-C&quot;</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="cleantool.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>), <span class="st">&quot;C&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;-&quot;</span>, <span class="at">collapse =</span> <span class="st">&quot;&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;a-Cb-C&quot;</code></pre>
</div>
<div id="str_splitstring-pattern-n-inf-simplify-false" class="section level4" number="6.1.5.2">
<h4><span class="header-section-number">6.1.5.2</span> <code>str_split(string, pattern, n = Inf, simplify = FALSE)</code></h4>
<p>문자열에서 패턴을 찾아 분리해 리스트 구조로 산출한다.</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="cleantool.html#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_split</span>(<span class="at">string =</span> <span class="st">&quot;You inspire me&quot;</span>, <span class="at">pattern =</span> <span class="st">&quot; &quot;</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;You&quot;     &quot;inspire&quot; &quot;me&quot;</code></pre>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="cleantool.html#cb96-1" aria-hidden="true" tabindex="-1"></a>love_v[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>] <span class="sc">%&gt;%</span> <span class="fu">str_split</span>(<span class="at">pattern =</span> <span class="st">&quot; &quot;</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;You&quot;       &quot;still&quot;     &quot;fascinate&quot; &quot;and&quot;       &quot;inspire&quot;   &quot;me.&quot;      
## [7] &quot;:)&quot;       
## 
## [[2]]
## [1] &quot;You&quot;       &quot;influence&quot; &quot;me&quot;        &quot;for&quot;       &quot;the&quot;       &quot;better&quot;   
## [7] &quot;~&quot;         &quot;.&quot;</code></pre>
<ul>
<li><code>str_split_fixed(string, pattern, n)</code>
문자열에서 패턴을 찾아 분리해 행렬 구조로 산출한다.</li>
</ul>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="cleantool.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_split_fixed</span>(<span class="at">string =</span> <span class="st">&quot;You inspire me&quot;</span>, <span class="at">pattern =</span> <span class="st">&quot; &quot;</span>, <span class="at">n =</span> <span class="dv">4</span>)</span></code></pre></div>
<pre><code>##      [,1]  [,2]      [,3] [,4]
## [1,] &quot;You&quot; &quot;inspire&quot; &quot;me&quot; &quot;&quot;</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="cleantool.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_split_fixed</span>(<span class="at">string =</span> <span class="st">&quot;You inspire me&quot;</span>, <span class="at">pattern =</span> <span class="st">&quot; &quot;</span>, <span class="at">n =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>##      [,1]  [,2]        
## [1,] &quot;You&quot; &quot;inspire me&quot;</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="cleantool.html#cb102-1" aria-hidden="true" tabindex="-1"></a>love_v[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>] <span class="sc">%&gt;%</span> <span class="fu">str_split_fixed</span>(<span class="at">pattern =</span> <span class="st">&quot; &quot;</span>, <span class="at">n =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>##      [,1]  [,2]        [,3]        [,4]  [,5]            
## [1,] &quot;You&quot; &quot;still&quot;     &quot;fascinate&quot; &quot;and&quot; &quot;inspire me. :)&quot;
## [2,] &quot;You&quot; &quot;influence&quot; &quot;me&quot;        &quot;for&quot; &quot;the better ~ .&quot;</code></pre>
</div>
</div>
<div id="공백문자whitespace-1" class="section level3" number="6.1.6">
<h3><span class="header-section-number">6.1.6</span> 공백문자(Whitespace)</h3>
<p>공백문자는 사람 눈에는 보이지 않는 공백으로서 각각의 기능이 있다. POSIX 표준의 아스키(ASCII) 코드에 6종의 공백문자가 할당돼 있다(Table <a href="#tab:ascii"><strong>??</strong></a>).</p>
<table>
<caption>
(#tab:ctl34 , ascii)공백문자와 아스키코드
</caption>
<thead>
<tr>
<th style="text-align:left;">
종류
</th>
<th style="text-align:right;">
아스키코드
</th>
<th style="text-align:left;">
문자
</th>
<th style="text-align:left;">
비고
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Space
</td>
<td style="text-align:right;">
32
</td>
<td style="text-align:left;">
<code></code>
</td>
<td style="text-align:left;">
일반적으로 쓰이는 빈칸. 스페이스
</td>
</tr>
<tr>
<td style="text-align:left;">
Horizontal Tab(HT)
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:left;">
<code>\t</code>
</td>
<td style="text-align:left;">
일반적으로 쓰는 수평 탭
</td>
</tr>
<tr>
<td style="text-align:left;">
New Line or Line Feed(LF)
</td>
<td style="text-align:right;">
10
</td>
<td style="text-align:left;">
<code>\n</code>
</td>
<td style="text-align:left;">
줄바꿈. 다음 줄로 이동
</td>
</tr>
<tr>
<td style="text-align:left;">
Vertical Tab(VT)
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:left;">
<code>\v</code>
</td>
<td style="text-align:left;">
수직 탭
</td>
</tr>
<tr>
<td style="text-align:left;">
Form Feed(FF)
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:left;">
<code>\f</code>
</td>
<td style="text-align:left;">
다음 페이지로 이동
</td>
</tr>
<tr>
<td style="text-align:left;">
Carriage Return(CR)
</td>
<td style="text-align:right;">
13
</td>
<td style="text-align:left;">
<code>\r</code>
</td>
<td style="text-align:left;">
현재 줄의 첫 위치로 이동
</td>
</tr>
</tbody>
</table>
<div id="str_squishx" class="section level4" number="6.1.6.1">
<h4><span class="header-section-number">6.1.6.1</span> <code>str_squish(x)</code></h4>
<p>문자열에서 모든 공백문자를 단일 스페이스로 치환한다.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="cleantool.html#cb104-1" aria-hidden="true" tabindex="-1"></a>whitespace_v <span class="ot">&lt;-</span> <span class="st">&quot;  ch1   </span><span class="sc">\t\n\r\v\f</span><span class="st"> ch2   &quot;</span></span>
<span id="cb104-2"><a href="cleantool.html#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_squish</span>(whitespace_v)</span></code></pre></div>
<pre><code>## [1] &quot;ch1 ch2&quot;</code></pre>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="cleantool.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_squish</span>(<span class="st">&quot;  String with trailing,      middle, and leading white space</span><span class="sc">\t</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;String with trailing, middle, and leading white space&quot;</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="cleantool.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_squish</span>(<span class="st">&quot;</span><span class="sc">\t\n\r\v\f</span><span class="st">String with excess,    trailing and leading white   space</span><span class="sc">\t\n\r\v\f</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;String with excess, trailing and leading white space&quot;</code></pre>
<p><code>\s</code>는 스페이스의 정규표현식인데, <code>str_squish()</code>함수는 스페이스로 인식하지 않고 “<code>\s</code>는 인식할 수 없는 이스케이프”는 오류메시지를 표시한다. <code>\s</code>가 아스키문자로 할당돼 있지 않기 때문이다.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="cleantool.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_squish</span>(<span class="st">&quot;   ch1   </span><span class="sc">\t\n\r\v\f</span><span class="st">    \s    ch2   &quot;</span>)</span></code></pre></div>
</div>
<div id="str_trimstring-side-cboth-left-right" class="section level4" number="6.1.6.2">
<h4><span class="header-section-number">6.1.6.2</span> <code>str_trim(string, side = c("both", "left", "right"))</code></h4>
<p>문자열에서 모든 종류의 공백을 단일 스페이스 공백으로 치환. 중간에 위치한 공백은 제거하지 않는다. <code>both =c("both", "left", "right")</code> 인자를 이용해 공백의 위치(좌, 우, 양쪽) 지정해 치환.</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="cleantool.html#cb111-1" aria-hidden="true" tabindex="-1"></a>whitespace_v <span class="ot">&lt;-</span> <span class="st">&quot;  ch1  </span><span class="sc">\t\n\r\v\f</span><span class="st">   ch2   &quot;</span></span>
<span id="cb111-2"><a href="cleantool.html#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_trim</span>(whitespace_v, <span class="at">side =</span> <span class="st">&quot;right&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;  ch1  \t\n\r\v\f   ch2&quot;</code></pre>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="cleantool.html#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_trim</span>(whitespace_v)</span></code></pre></div>
<pre><code>## [1] &quot;ch1  \t\n\r\v\f   ch2&quot;</code></pre>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="cleantool.html#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_trim</span>(<span class="st">&quot;  String with trailing and    leading white space</span><span class="sc">\t</span><span class="st">&quot;</span>, <span class="at">side =</span> <span class="st">&quot;right&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;  String with trailing and    leading white space&quot;</code></pre>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="cleantool.html#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_trim</span>(<span class="st">&quot;</span><span class="sc">\t\n\r\v\f</span><span class="st">String with trailing and    leading white space</span><span class="sc">\t\n\r\v\f</span><span class="st">&quot;</span>) </span></code></pre></div>
<pre><code>## [1] &quot;String with trailing and    leading white space&quot;</code></pre>
</div>
</div>
<div id="과제-2" class="section level3" number="6.1.7">
<h3><span class="header-section-number">6.1.7</span> 과제</h3>
<ol style="list-style-type: decimal">
<li><p>오감도에서 공백을 제거하시오.</p></li>
<li><p>오감도에서 숫자를 포함한 단어를 추출하시오 (숫자포함하는 정규표현식은 <code>\\w*\\d+\\w*</code>).</p></li>
<li><p>오감도에서 숫자를 포함한 단어를 모두 제거하시오.</p></li>
<li><p>오감도에서 “아해”를 포함한 단어를 모두 찾아, “아해”로 치환하시오. (아해를 포함한 단어에 해당하는 정규표현식은 <code>아해\\w*</code>)</p></li>
</ol>
<p>5 오감도에서 “질주”를 포함한 단어를 추출하시오.</p>
<ol start="6" style="list-style-type: decimal">
<li><p>오감도에서 “질주”를 포함한 단어를 “질주”로 치환하시오.</p></li>
<li><p>오감도에서 “무”를 포함한 단어를 추출하시오.</p></li>
<li><p>오감도에서 “무”를 포함한 단어를 “무섭다”로 치환하시오.</p></li>
<li><p>오감도에서 숫자가 포함된 단어를 제거하고, “아해”를 포함한 단어를 “아해”로 치환하고, “질주”를 포함한 단어를 모두 “질주”로 치환하고, “무”가 포함된 단어를 모두 “무섭다”로 치환한 다음, <code>ogamdo_clean_v</code>에 할당하시오.</p></li>
<li><p><code>ogamdo_clean_v</code>를 토큰화한 다음, 한글자 단어를 제외한 다음, 가장 많이 사용한 단어의 빈도를 계산해 막대도표로 시각화하시오.</p></li>
</ol>
<pre><code>13인의 아해가 도로로 질주하오.
(길은 막다른 골목이 적당하오.)

제1의 아해가 무섭다고 그리오.
제2의 아해도 무섭다고 그리오.
제3의 아해도 무섭다고 그리오.
제4의 아해도 무섭다고 그리오.
제5의 아해도 무섭다고 그리오.
제6의 아해도 무섭다고 그리오.
제7의 아해도 무섭다고 그리오.
제8의 아해도 무섭다고 그리오.
제9의 아해도 무섭다고 그리오.
제10의 아해도 무섭다고 그리오.
제11의 아해가 무섭다고 그리오.
제12의 아해도 무섭다고 그리오.
제13의 아해도 무섭다고 그리오.
13인의 아해는 무서운 아해와 무서워하는 아해와 그렇게뿐이 모였소.
(다른 사정은 없는 것이 차라리 나았소)

그중에 1인의 아해가 무서운 아해라도 좋소.
그중에 2인의 아해가 무서운 아해라도 좋소.
그중에 2인의 아해가 무서워하는 아해라도 좋소.
그중에 1인의 아해가 무서워하는 아해라도 좋소.

(길은 뚫린 골목이라도 적당하오.)
13인의 아해가 도로로 질주하지 아니하여도 좋소.
</code></pre>
</div>
</div>
<div id="dplyr" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> <code>dplyr</code></h2>
<div id="개괄-1" class="section level3" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> 개괄</h3>
<p><code>dplyr</code>패키지는 “d(데이터) 플라이어”라는 이름에서 나타나듯, 데이터를 조작하는 종합패키지다. 데이터조작의 문법(grammar of data maminpulation)이다. 패키지에 포함된 수십여종의 동사(명령을 실행하는 함수)들이 일정한 원칙에 의해 직관적인 이름으로 구성돼 있다. “정돈된 세계” <code>tidyverse</code>의 핵심 패키지로서 <code>tidyverse</code>를 탑재하면 함께 부착된다. 데이터분석에서 가장 많이 사용하는 패키지 중 하나다.</p>
<div id="기본-함수" class="section level4" number="6.2.1.1">
<h4><span class="header-section-number">6.2.1.1</span> 기본 함수</h4>
<ul>
<li><code>mutate()</code> <code>transmute()</code> 데이터프레임 기존 변수(열: column)들을 계산해 열 수정, 생성, 혹은 삭제</li>
<li><code>select()</code> 변수 명을 이용해 열 선택</li>
<li><code>filter()</code> 값을 이용해 행(개별 케이스) 선택</li>
<li><code>summarize()</code> <code>summarise()</code> 복수의 값을 단일 값으로 요약</li>
<li><code>arrange()</code> 열의 값 순서 변경</li>
</ul>
<p>이 5개 함수는 <code>dplyr</code>패키지의 핵심 동사로서 <code>group_by()</code>함수를 이용해 행의 같은 값끼리 묶을 수(group) 있다.</p>
<p><code>dplyr</code>의 기본적인 사용법은 “R for Data Science”의 <a href="https://r4ds.had.co.nz/transform.html">자료변형</a> 참조.</p>
</div>
</div>
<div id="dplyr의-구성" class="section level3" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> <code>dplyr</code>의 구성</h3>
<p><code>dplyr</code>패키지 함수는 크게 묶음 동사, 요약 동사, 행 조작 동사, 열 조작 동사, 벡터 함수, 요약 함수, 테이블 결합 동사 등으로 구분할 수 있다. (함수와 동사는 거의 같은 의미이나 이 장에서만 편의상 데이터프레임을 입력값으로 받는 함수는 “동사”로, 벡터를 입력값으로 받는 함수는 “함수”로 표기했다.)</p>
<p><strong>한 테이블</strong></p>
<ul>
<li>묶음 동사(group cases)</li>
<li>요약 동사(summarise cases)
<ul>
<li>요약 함수(summarize functions)</li>
</ul></li>
<li>행 조작 동사(manipulate cases)</li>
<li>열 조작 동사(manipulate variables)
<ul>
<li>벡터 함수(vector functions)</li>
</ul></li>
</ul>
<p><strong>두 테이블</strong></p>
<ul>
<li>테이블 결합 동사(combine tables)
<ul>
<li>행 결합(combine cases)</li>
<li>열 결합(combine variables)</li>
</ul></li>
</ul>
<div id="묶음-동사group-cases" class="section level4" number="6.2.2.1">
<h4><span class="header-section-number">6.2.2.1</span> 묶음 동사(group cases)</h4>
<p>데이터프레임 열의 행을 같은 값에 따라 하부 그룹으로 묶어 새로운 테이블(데이터프레임) 생성한다.</p>
<ul>
<li><code>group_by()</code> 지정한 열에서 값이 같은 행끼리 서브그룹으로 결합(group)</li>
<li><code>ungroup()</code> <code>group_by()</code>로 묶은 그룹 해제</li>
</ul>
</div>
<div id="요약-동사summrise-cases" class="section level4" number="6.2.2.2">
<h4><span class="header-section-number">6.2.2.2</span> 요약 동사(summrise cases)</h4>
<p>데이터프레임 열의 값을 계산해 새로운 테이블 생성한다.</p>
<ul>
<li><code>count()</code> 데이터프레임을 받아 각 변수(열)에 있는 행의 수 계산</li>
<li><code>summarise()</code> 각 변수(열)의 값에 대한 기술통계 계산
<ul>
<li><code>summarise_all()</code> 모든 열에 대하여 계산</li>
<li><code>summarise_at()</code> 특정 열에 대하여 계산</li>
<li><code>summarise_if()</code> 조건에 부합하는 열에 대하여 계산</li>
</ul></li>
</ul>
<div id="요약-함수summarize-functions" class="section level5" number="6.2.2.2.1">
<h5><span class="header-section-number">6.2.2.2.1</span> 요약 함수(summarize functions)</h5>
<p><code>summarise()</code>함수와 함께 사용하는 함수들이다. 데이터프레임의 열벡터를 입력값으로 받아 단일 행으로 산출한다.</p>
<ul>
<li><code>n()</code> 열의 값 개수 계산</li>
<li><code>n_distinct()</code> 열의 고유한 값 개수 계산</li>
<li><code>first()</code> 열의 첫째 값</li>
<li><code>last()</code> 열의 마지막 값</li>
<li><code>nth()</code> 열의 n번째 값</li>
</ul>
<p>이외에도 요약기능을 하는 다양한 R기본함수와 함께 사용한다.</p>
<ul>
<li><code>head()</code> <code>quantile()</code> <code>min()</code> <code>max()</code> <code>mean()</code> <code>median()</code>, <code>sum()</code> <code>sd()</code> <code>var()</code> 등</li>
</ul>
</div>
</div>
<div id="행-조작-동사manipulate-cases" class="section level4" number="6.2.2.3">
<h4><span class="header-section-number">6.2.2.3</span> 행 조작 동사(manipulate cases)</h4>
<ul>
<li><p><code>filter()</code> 데이터프레임의 행 부분선택</p></li>
<li><p><code>distinct()</code> 데이터프레임의 (동일한 복수의 행이 존재하는 경우) 고유한(unique) 행 부분선택</p></li>
<li><p><code>arrange()</code> 데이터프레임의 열에서 행의 순서 정렬</p></li>
<li><p><code>add_row()</code> 데이터프레임에 하나 이상의 행 추가. (주의: row가 단수)</p></li>
<li><p><code>slice()</code> 데이터프레임 행의 위치를 지정해 부분 선택</p>
<ul>
<li><code>slice_head()</code></li>
<li><code>slice_tail()</code></li>
<li><code>slice_min()</code></li>
<li><code>slice_max()</code></li>
<li><code>slice_sample()</code></li>
</ul></li>
</ul>
</div>
<div id="열-조작-동사manipulate-variables" class="section level4" number="6.2.2.4">
<h4><span class="header-section-number">6.2.2.4</span> 열 조작 동사(manipulate variables)</h4>
<ul>
<li><code>select()</code> 데이터프레임의 열 부분선택</li>
<li><code>add_column()</code> 데이터프레임에 하나 이상의 열 추가. (주의: column이 단수)</li>
<li><code>rename()</code> 열의 이름 변경</li>
<li><code>mutate()</code> 데이터프레임 기존 변수(열: column)들을 계산해 새로운 열 추가</li>
</ul>
<div id="벡터-함수vector-functions" class="section level5" number="6.2.2.4.1">
<h5><span class="header-section-number">6.2.2.4.1</span> 벡터 함수(vector functions)</h5>
<p><code>mutate()</code>함수와 함께 사용하는 함수들이다. 데이터프레임의 열벡터를 입력값으로 같은 길이의 벡터를 산출한다.</p>
<ul>
<li><code>recode()</code> 열의 값 변경</li>
<li><code>if_else()</code> 주어진 조건의 논리벡터를 받아 true 혹은 false에 해당하는 값 산출</li>
<li><code>case_when()</code> <code>if_else()</code>를 복수의 사례(case)에 적용</li>
</ul>
<p>벡터함수는 이외에도 산술 및 논리 연산자등을 포함 매우 다양한 기능을 제공하는 함수가 있다.</p>
</div>
</div>
<div id="테이블-결합동사" class="section level4" number="6.2.2.5">
<h4><span class="header-section-number">6.2.2.5</span> 테이블 결합동사</h4>
<p>자료분석 과정에서 종종 복수의 테이블을 결합해야 한다. 두 테이블을 열 방향(좌우)으로 결합하는 동사와, 행 방향(상하)으로 결합하는 동사 군으로 구분할 수있다.</p>
<div id="행-결합" class="section level5" number="6.2.2.5.1">
<h5><span class="header-section-number">6.2.2.5.1</span> 행 결합</h5>
<ul>
<li><code>bind_rows()</code> 두개의 테이블을 행 방향(상하)로 결합.</li>
<li><code>intersect()</code> 두 테이블에서 일치하는 행만 결합(교집합)</li>
<li><code>setdiff()</code> 두 테이블의 행에서 아래쪽 테이블의 행은 배제하고 결합(차집합)</li>
<li><code>union()</code> 두 테이블에서 공통적인 행 결합(합집합)
테이블과 테이블을 행병합한다. 사전을 수정할때 사용할 수 있다.</li>
</ul>
</div>
<div id="열-결합" class="section level5" number="6.2.2.5.2">
<h5><span class="header-section-number">6.2.2.5.2</span> 열 결합</h5>
<p>열을 결합하는 함수들은 단순결합, 변환병합, 열추출 병합 등으로 구분할 수 있다.</p>
<div id="단순-병합" class="section level6" number="6.2.2.5.2.1">
<h6><span class="header-section-number">6.2.2.5.2.1</span> 단순 병합</h6>
<ul>
<li><code>bind_cols()</code> 두개의 테이블을 열 방향(좌우)로 결합. 두 테이블 행의 수가 같아야 한다.</li>
</ul>
</div>
<div id="변환-병합mutating-join" class="section level6" number="6.2.2.5.2.2">
<h6><span class="header-section-number">6.2.2.5.2.2</span> 변환 병합(Mutating Join)</h6>
<p>병합 후 양쪽 테이블의 값 모두 유지</p>
<ul>
<li><code>inner_join()</code> 양쪽 데이터프레임에서 일치하는 행만 결합</li>
<li><code>left_join()</code> 왼쪽 테이블을 기준으로 결합. 양쪽 데이터프레임에서 일치하는 행 + 왼쪽 데이터프레임 행 유지한다.</li>
<li><code>right_join()</code> 오른쪽 테이블을 기준으로 결합. 양쪽 데이터프레임에서 일치하는 행 + 오른쪽 데이터프레임 행 유지</li>
<li><code>full_join()</code> 양쪽 데이터프레임의 모든 행 유지 유지</li>
</ul>
</div>
<div id="열-추출-병합filtering-join" class="section level6" number="6.2.2.5.2.3">
<h6><span class="header-section-number">6.2.2.5.2.3</span> 열 추출 병합(Filtering Join)</h6>
<p>병합 후 왼쪽 테이블의 값만 유지</p>
<ul>
<li><code>semi_join()</code> 두 테이블에서 일치하는 행만 유지. 왼쪽 데이터프레임에서 오른쪽 데이터프레임에 있는 행 내용만 선택한다. 왼쪽 테이블 값만 유지하는 점에서 <code>inner_join()</code>과 구분된다.</li>
<li><code>anti_join()</code> 두 테이블에서 불일치하는 행만 유지. 왼쪽 데이터프레임에서 오른쪽 데이터프레임에 있는 행 내용을 제거한다.</li>
</ul>
<p>테이블의 열 결합은 불용어를 제거하거나, 필요한 단어만 골라낼 때 사용할 수 있다. <code>_join()</code>계열 함수는 데이터 조작에 중요한 부분이므로 병합 방식을 잘 이해해야 한다.</p>
</div>
</div>
</div>
<div id="동일성-확인" class="section level4" number="6.2.2.6">
<h4><span class="header-section-number">6.2.2.6</span> 동일성 확인</h4>
<ul>
<li><code>setequal()</code> 데이터프레임, 벡터 등 두 데이터셋의 요소가 동일한지 확인할 수 있다. 요소의 순서는 무관.</li>
</ul>
</div>
</div>
<div id="묶음-동사group-cases-1" class="section level3" number="6.2.3">
<h3><span class="header-section-number">6.2.3</span> 묶음 동사(group cases)</h3>
<p>데이터프레임 열의 행을 같은 값에 따라 묶어 새로운 테이블(데이터프레임) 생성한다.</p>
<ul>
<li><code>group_by()</code> 지정한 열에서 값이 같은 행끼리 서브그룹으로 결합(group)</li>
<li><code>ungroup()</code> <code>group_by()</code>로 묶은 그룹 해제</li>
</ul>
<div id="group_by" class="section level4" number="6.2.3.1">
<h4><span class="header-section-number">6.2.3.1</span> <code>group_by()</code></h4>
<p>데이터프레임을 입력값으로 받아 지정한 열에서 값이 같은 행을 하나로 결합(group)</p>
<p>먼저 <code>tidytext</code>패키지에서 제공하는 불용어 사전을 탑재해 구조를 살펴보자.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="cleantool.html#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span>
<span id="cb120-2"><a href="cleantool.html#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb120-3"><a href="cleantool.html#cb120-3" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(stop_words)</span>
<span id="cb120-4"><a href="cleantool.html#cb120-4" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 1,149
## Columns: 2
## $ word    &lt;chr&gt; &quot;a&quot;, &quot;a&#39;s&quot;, &quot;able&quot;, &quot;about&quot;, &quot;above&quot;, &quot;according&quot;, &quot;accordi...
## $ lexicon &lt;chr&gt; &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMAR...</code></pre>
<p>행이 1,149개이고 열이 2개인 데이터프레임이다. <code>word</code> 열에는 불용어가 저장돼 있고, <code>lexicon</code> 열에는 불용어사전명의 값이 저장돼 있다.</p>
<p>불용어 사전의 종류를 살펴보자.</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="cleantool.html#cb122-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(lexicon)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 1
##   lexicon 
##   &lt;chr&gt;   
## 1 SMART   
## 2 snowball
## 3 onix</code></pre>
<p>lexicon 열에 “SMART” “snowball” “onix” 등 3종의 값이 있다. 즉, <code>tidytext</code>패키지에 포함된 불용어사전은 <code>SMART</code> <code>snowball</code> <code>onix</code> 등 3종을 행방향으로 결합해 놓은 사전이다.
<code>group_by()</code>동사로 이 묶음 사전을 3종의 사전 별로 나눠 묶어 보자. 나눠 묶은 데이터프레임과 묶기 전 데이터프레임을 <code>glimpse()</code>함수로 비교해 보자.</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="cleantool.html#cb124-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 1,149
## Columns: 2
## $ word    &lt;chr&gt; &quot;a&quot;, &quot;a&#39;s&quot;, &quot;able&quot;, &quot;about&quot;, &quot;above&quot;, &quot;according&quot;, &quot;accordi...
## $ lexicon &lt;chr&gt; &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMAR...</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="cleantool.html#cb126-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(lexicon) <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 1,149
## Columns: 2
## Groups: lexicon [3]
## $ word    &lt;chr&gt; &quot;a&quot;, &quot;a&#39;s&quot;, &quot;able&quot;, &quot;about&quot;, &quot;above&quot;, &quot;according&quot;, &quot;accordi...
## $ lexicon &lt;chr&gt; &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMAR...</code></pre>
<p>행과 열의 수는 같지만, <code>group_by()</code>로 묶은 객체에는 묶음(<code>Groups: lexicon[3]</code>)이 설정돼 있다.
<code>group_by()</code>로 묶기 전후의 행의 개수를 <code>summarise()</code>와 <code>n()</code>으로 비교해 보자.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="cleantool.html#cb128-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">wordN =</span> <span class="fu">n</span>()) </span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   wordN
##   &lt;int&gt;
## 1  1149</code></pre>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="cleantool.html#cb130-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(lexicon) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">wordN =</span> <span class="fu">n</span>()) </span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 3 x 2
##   lexicon  wordN
##   &lt;chr&gt;    &lt;int&gt;
## 1 onix       404
## 2 SMART      571
## 3 snowball   174</code></pre>
</div>
<div id="ungroup" class="section level4" number="6.2.3.2">
<h4><span class="header-section-number">6.2.3.2</span> <code>ungroup()</code></h4>
<p><code>group_by()</code>로 설정된 그룹 설정을 해제한다.</p>
<p><code>ungroup()</code>으로 묶음을 해제한 결과를 묶기 전 <code>stop_words</code>의 결과와 비교해 보자.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="cleantool.html#cb133-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> </span>
<span id="cb133-2"><a href="cleantool.html#cb133-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(lexicon) <span class="sc">%&gt;%</span> </span>
<span id="cb133-3"><a href="cleantool.html#cb133-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb133-4"><a href="cleantool.html#cb133-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 1,149
## Columns: 2
## $ word    &lt;chr&gt; &quot;a&quot;, &quot;a&#39;s&quot;, &quot;able&quot;, &quot;about&quot;, &quot;above&quot;, &quot;according&quot;, &quot;accordi...
## $ lexicon &lt;chr&gt; &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMAR...</code></pre>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="cleantool.html#cb135-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> </span>
<span id="cb135-2"><a href="cleantool.html#cb135-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 1,149
## Columns: 2
## $ word    &lt;chr&gt; &quot;a&quot;, &quot;a&#39;s&quot;, &quot;able&quot;, &quot;about&quot;, &quot;above&quot;, &quot;according&quot;, &quot;accordi...
## $ lexicon &lt;chr&gt; &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMAR...</code></pre>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="cleantool.html#cb137-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> </span>
<span id="cb137-2"><a href="cleantool.html#cb137-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(lexicon) <span class="sc">%&gt;%</span> </span>
<span id="cb137-3"><a href="cleantool.html#cb137-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb137-4"><a href="cleantool.html#cb137-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">wordN =</span> <span class="fu">n</span>()) </span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   wordN
##   &lt;int&gt;
## 1  1149</code></pre>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="cleantool.html#cb139-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> </span>
<span id="cb139-2"><a href="cleantool.html#cb139-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">wordN =</span> <span class="fu">n</span>()) </span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   wordN
##   &lt;int&gt;
## 1  1149</code></pre>
</div>
</div>
<div id="요약-동사와-요약-함수" class="section level3" number="6.2.4">
<h3><span class="header-section-number">6.2.4</span> 요약 동사와 요약 함수</h3>
<p><strong>요약 동사(summarise cases)</strong></p>
<ul>
<li><p><code>count()</code></p></li>
<li><p><code>summarise()</code> 각 변수(열)의 값에 대한 요약 정보 계산</p></li>
</ul>
<p><strong>요약 함수(summarize functions)</strong></p>
<p><code>summarise()</code>함수와 함께 사용해 데이터프레임의 열벡터를 입력값으로 받아 단일 행으로 산출한다.</p>
<ul>
<li><code>n(x)</code> x열의 값 개수 계산</li>
<li><code>n_distinct(x)</code> x열의 고유한 값 개수 계산</li>
<li><code>first(x)</code> x열의 첫째 값</li>
<li><code>last(x)</code> x열의 마지막 값</li>
<li><code>nth(x, n)</code> x열의 n번째 값</li>
</ul>
<p><code>head()</code>등 다양한 R기본함수와 함께 사용가능하다.</p>
<div id="countdf-...-sort-false와-summarisedf-요약함수" class="section level4" number="6.2.4.1">
<h4><span class="header-section-number">6.2.4.1</span> <code>count(df, ..., sort = FALSE)</code>와 <code>summarise(df, 요약함수)</code></h4>
<p>데이터프레임을 받아 각 변수(열)에 있는 행의 수 계산. <code>summarise(df, n())</code>과 같은 결과를 산출한다.</p>
<p><code>count()</code>와 <code>summarise()</code>를 이용해 <code>stop_words</code>에는 몇개의 행이 있는지 계산해보자. <code>summarise()</code>는 새로운 테이블을 요약해 생성하므로 데이터프레임을 만들 때처럼 열의 이름을 <code>wordN =</code>과 같이 지정할 수 있다.</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="cleantool.html#cb141-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">count</span>()</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##       n
##   &lt;int&gt;
## 1  1149</code></pre>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="cleantool.html#cb143-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">wordN =</span> <span class="fu">n</span>())</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   wordN
##   &lt;int&gt;
## 1  1149</code></pre>
<p><code>stop_word</code> 데이프레임에는 1149개의 행이 있다. 즉, 1149개의 단어가 있다.</p>
<p><code>count()</code>와 <code>summarise(n())</code>의 차이를 비교해보자.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="cleantool.html#cb145-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">count</span>(word, <span class="at">sort =</span> T)</span></code></pre></div>
<pre><code>## # A tibble: 728 x 2
##    word        n
##    &lt;chr&gt;   &lt;int&gt;
##  1 down        4
##  2 would       4
##  3 a           3
##  4 about       3
##  5 above       3
##  6 after       3
##  7 again       3
##  8 against     3
##  9 all         3
## 10 an          3
## # ... with 718 more rows</code></pre>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="cleantool.html#cb147-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> </span>
<span id="cb147-2"><a href="cleantool.html#cb147-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(word) <span class="sc">%&gt;%</span> </span>
<span id="cb147-3"><a href="cleantool.html#cb147-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">wordN =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb147-4"><a href="cleantool.html#cb147-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(wordN))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 728 x 2
##    word    wordN
##    &lt;chr&gt;   &lt;int&gt;
##  1 down        4
##  2 would       4
##  3 a           3
##  4 about       3
##  5 above       3
##  6 after       3
##  7 again       3
##  8 against     3
##  9 all         3
## 10 an          3
## # ... with 718 more rows</code></pre>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="cleantool.html#cb150-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">count</span>(lexicon, <span class="at">sort =</span> T)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   lexicon      n
##   &lt;chr&gt;    &lt;int&gt;
## 1 SMART      571
## 2 onix       404
## 3 snowball   174</code></pre>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="cleantool.html#cb152-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> </span>
<span id="cb152-2"><a href="cleantool.html#cb152-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(lexicon) <span class="sc">%&gt;%</span> </span>
<span id="cb152-3"><a href="cleantool.html#cb152-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">lexN =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb152-4"><a href="cleantool.html#cb152-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(lexN))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 3 x 2
##   lexicon   lexN
##   &lt;chr&gt;    &lt;int&gt;
## 1 SMART      571
## 2 onix       404
## 3 snowball   174</code></pre>
<p><code>count()</code>와 <code>summarise(n())</code>의 결과는 거의 비슷하다.</p>
<p>결과 중에 n열의 값은 word열 값의 개수다. “a,” “about” 등은 3개다. 사전이 3종이므로 모든 사전에 포함돼 있는 것으로 해석할 수 있지만 반드시 그렇지만도 않을 수도 있다. “down”과 “would”를 보자. 4개 있다. 즉, 한종의 사전에 중복된 어휘가 있을 수 있다는 의미다.</p>
<p>구체적인 내용을 확인하기 위해 먼저 <code>stop_words</code>에서 “down,” “would,” “about”이 들어 있는 행)만 추출해서 보자. <code>$</code>은 정규표현식에서 “요소의 마지막”이란 의미다.</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="cleantool.html#cb155-1" aria-hidden="true" tabindex="-1"></a>dwa_df <span class="ot">&lt;-</span> stop_words <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(word, <span class="st">&quot;down$|would$|about&quot;</span>))</span>
<span id="cb155-2"><a href="cleantool.html#cb155-2" aria-hidden="true" tabindex="-1"></a>dwa_df <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(word)</span></code></pre></div>
<pre><code>## # A tibble: 11 x 2
##    word  lexicon 
##    &lt;chr&gt; &lt;chr&gt;   
##  1 about SMART   
##  2 about snowball
##  3 about onix    
##  4 down  SMART   
##  5 down  snowball
##  6 down  onix    
##  7 down  onix    
##  8 would SMART   
##  9 would SMART   
## 10 would snowball
## 11 would onix</code></pre>
<p>“down”은 “onix”에 2건이 들어 있고, “would”는 “SMART”에 2건이 들어있다.</p>
<p>특정 열을 지정해 개수를 계산해보자. <code>count()</code>와 <code>summarise()</code>의 차이를 비교하자.</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="cleantool.html#cb157-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">count</span>(word, <span class="at">sort =</span> T)</span></code></pre></div>
<pre><code>## # A tibble: 728 x 2
##    word        n
##    &lt;chr&gt;   &lt;int&gt;
##  1 down        4
##  2 would       4
##  3 a           3
##  4 about       3
##  5 above       3
##  6 after       3
##  7 again       3
##  8 against     3
##  9 all         3
## 10 an          3
## # ... with 718 more rows</code></pre>
<div class="sourceCode" id="cb159"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb159-1"><a href="cleantool.html#cb159-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> </span>
<span id="cb159-2"><a href="cleantool.html#cb159-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(word) <span class="sc">%&gt;%</span> </span>
<span id="cb159-3"><a href="cleantool.html#cb159-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">wordN =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb159-4"><a href="cleantool.html#cb159-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(wordN))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 728 x 2
##    word    wordN
##    &lt;chr&gt;   &lt;int&gt;
##  1 down        4
##  2 would       4
##  3 a           3
##  4 about       3
##  5 above       3
##  6 after       3
##  7 again       3
##  8 against     3
##  9 all         3
## 10 an          3
## # ... with 718 more rows</code></pre>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="cleantool.html#cb162-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">count</span>(lexicon, <span class="at">sort =</span> T)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   lexicon      n
##   &lt;chr&gt;    &lt;int&gt;
## 1 SMART      571
## 2 onix       404
## 3 snowball   174</code></pre>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="cleantool.html#cb164-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> </span>
<span id="cb164-2"><a href="cleantool.html#cb164-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(lexicon) <span class="sc">%&gt;%</span> </span>
<span id="cb164-3"><a href="cleantool.html#cb164-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">lexN =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb164-4"><a href="cleantool.html#cb164-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(lexN))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 3 x 2
##   lexicon   lexN
##   &lt;chr&gt;    &lt;int&gt;
## 1 SMART      571
## 2 onix       404
## 3 snowball   174</code></pre>
<p><code>count()</code>와 <code>summarise()</code>의 사이에 차이가 거의 없다. <code>summarise()</code>를 쓰는 방식이 보다 번거로운 편이데도 <code>summarise()</code>를 쓰는 이유는 빈도 계산 외에 다양한 계산을 할 수 있기 때문이다.</p>
</div>
<div id="n_distinctx" class="section level4" number="6.2.4.2">
<h4><span class="header-section-number">6.2.4.2</span> <code>n_distinct(x)</code></h4>
<p>열벡터에 있는 고유한 값의 개수를 계산한다.</p>
<p><code>word</code>열과 <code>lexicon</code>열에 고유한 값이 각각 몇개 있는지 계산해보자.</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb167-1"><a href="cleantool.html#cb167-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="fu">n_distinct</span>(word))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   `n_distinct(word)`
##                &lt;int&gt;
## 1                728</code></pre>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="cleantool.html#cb169-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="fu">n_distinct</span>(lexicon))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   `n_distinct(lexicon)`
##                   &lt;int&gt;
## 1                     3</code></pre>
<p><code>word</code>열에는 고유한 값이 728개 있다. 즉, 고유한 단어가 728개 있다. <code>lexicon</code>열에는 고유한 값이 3개 있다. 즉, 사전 3종이 있다.</p>
<p>전체 행이 1149개인데, 고유한 단어가 728개 있으므로 일부 행이 중복됨을 알수 있다.</p>
<p>각 사전별 단어의 개수를 계산해 보자.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="cleantool.html#cb171-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">count</span>(lexicon)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   lexicon      n
##   &lt;chr&gt;    &lt;int&gt;
## 1 onix       404
## 2 SMART      571
## 3 snowball   174</code></pre>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="cleantool.html#cb173-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(lexicon) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">wordN =</span> <span class="fu">n</span>())</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 3 x 2
##   lexicon  wordN
##   &lt;chr&gt;    &lt;int&gt;
## 1 onix       404
## 2 SMART      571
## 3 snowball   174</code></pre>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="cleantool.html#cb176-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(lexicon) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">wdisN =</span> <span class="fu">n_distinct</span>(word))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 3 x 2
##   lexicon  wdisN
##   &lt;chr&gt;    &lt;int&gt;
## 1 onix       398
## 2 SMART      570
## 3 snowball   174</code></pre>
<p>“오닉스”에는 총 404개가 있는데, 고유한 어휘는 398개다. 6개가 중복돼 있음을 알수 있다.</p>
</div>
<div id="요약함수-활용" class="section level4" number="6.2.4.3">
<h4><span class="header-section-number">6.2.4.3</span> 요약함수 활용</h4>
<p><code>summarise()</code>는 요약함수와 함께 다양한 계산을 제공한다. <code>stop_words</code>의 첫번째, 마지막, 10번째 위치한 단어를 찾아보자.</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="cleantool.html#cb179-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="fu">first</span>(word))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   `first(word)`
##   &lt;chr&gt;        
## 1 a</code></pre>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="cleantool.html#cb181-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(lexicon) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="fu">first</span>(word))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 3 x 2
##   lexicon  `first(word)`
##   &lt;chr&gt;    &lt;chr&gt;        
## 1 onix     a            
## 2 SMART    a            
## 3 snowball i</code></pre>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="cleantool.html#cb184-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(lexicon) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="fu">head</span>(word, <span class="dv">3</span>))</span></code></pre></div>
<pre><code>## `summarise()` regrouping output by &#39;lexicon&#39; (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 9 x 2
## # Groups:   lexicon [3]
##   lexicon  `head(word, 3)`
##   &lt;chr&gt;    &lt;chr&gt;          
## 1 onix     a              
## 2 onix     about          
## 3 onix     above          
## 4 SMART    a              
## 5 SMART    a&#39;s            
## 6 SMART    able           
## 7 snowball i              
## 8 snowball me             
## 9 snowball my</code></pre>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="cleantool.html#cb187-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="fu">last</span>(word))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   `last(word)`
##   &lt;chr&gt;       
## 1 yours</code></pre>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="cleantool.html#cb189-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="fu">nth</span>(word, <span class="dv">10</span>))</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   `nth(word, 10)`
##   &lt;chr&gt;          
## 1 after</code></pre>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="cleantool.html#cb191-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(lexicon) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="fu">nth</span>(word, <span class="dv">10</span>))</span></code></pre></div>
<pre><code>## `summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code>## # A tibble: 3 x 2
##   lexicon  `nth(word, 10)`
##   &lt;chr&gt;    &lt;chr&gt;          
## 1 onix     alone          
## 2 SMART    after          
## 3 snowball your</code></pre>
</div>
</div>
<div id="행-조작-동사manipulate-cases-1" class="section level3" number="6.2.5">
<h3><span class="header-section-number">6.2.5</span> 행 조작 동사(manipulate cases)</h3>
<ul>
<li><code>filter()</code> 데이터프레임의 행 부분선택</li>
<li><code>distinct()</code> 데이터프레임의 (동일한 복수의 행이 존재하는 경우) 고유한(unique) 행 부분선택</li>
<li><code>arrange()</code> 데이터프레임의 열에서 행의 순서 정렬</li>
<li><code>add_row()</code> 데이터프레임에 하나 이상의 행 추가. (주의: row가 단수)</li>
<li><code>slice()</code> 데이터프레임 행의 위치를 지정해 부분 선택
<ul>
<li><code>slice_head()</code></li>
<li><code>slice_tail()</code></li>
<li><code>slice_min()</code></li>
<li><code>slice_max()</code></li>
<li><code>slice_sample()</code></li>
</ul></li>
</ul>
<div id="filterdf-..." class="section level4" number="6.2.5.1">
<h4><span class="header-section-number">6.2.5.1</span> <code>filter(df, ...)</code></h4>
<p>데이터프레임을 입력값으로 받아, 논리값(TRUE FALSE)을 이용해 데이터프레임의 행을 부분선택한다.</p>
<p><code>stop_words</code>에서 lexicon열의 “onix” 또는 “snowball”에 해당하는 행의 단어만 부분 선택하자.</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="cleantool.html#cb194-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">filter</span>(lexicon <span class="sc">==</span> <span class="st">&quot;onix&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 404 x 2
##    word    lexicon
##    &lt;chr&gt;   &lt;chr&gt;  
##  1 a       onix   
##  2 about   onix   
##  3 above   onix   
##  4 across  onix   
##  5 after   onix   
##  6 again   onix   
##  7 against onix   
##  8 all     onix   
##  9 almost  onix   
## 10 alone   onix   
## # ... with 394 more rows</code></pre>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="cleantool.html#cb196-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">filter</span>(word <span class="sc">==</span> <span class="st">&quot;y&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##   word  lexicon
##   &lt;chr&gt; &lt;chr&gt;  
## 1 y     SMART</code></pre>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="cleantool.html#cb198-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">filter</span>(word <span class="sc">==</span> <span class="st">&quot;y&quot;</span> <span class="sc">|</span> lexicon <span class="sc">==</span> <span class="st">&quot;onix&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 405 x 2
##    word    lexicon
##    &lt;chr&gt;   &lt;chr&gt;  
##  1 y       SMART  
##  2 a       onix   
##  3 about   onix   
##  4 above   onix   
##  5 across  onix   
##  6 after   onix   
##  7 again   onix   
##  8 against onix   
##  9 all     onix   
## 10 almost  onix   
## # ... with 395 more rows</code></pre>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="cleantool.html#cb200-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">filter</span>(word <span class="sc">==</span> <span class="st">&quot;y&quot;</span> <span class="sc">&amp;</span> lexicon <span class="sc">==</span> <span class="st">&quot;onix&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 0 x 2
## # ... with 2 variables: word &lt;chr&gt;, lexicon &lt;chr&gt;</code></pre>
<p><code>str_detect()</code>함수와 함께 사용하면 정규표현식을 이용할 수 있다. “you”로 시작하는 값이 포함된 행과 반대로 이들 행만 제외한 행을 각각 선택해 보자. <code>^</code>는 정규표현식에서 “요소의 시작”을 의미한다.</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="cleantool.html#cb202-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">str_detect</span>(word, <span class="st">&quot;^you&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 24 x 2
##    word       lexicon 
##    &lt;chr&gt;      &lt;chr&gt;   
##  1 you        SMART   
##  2 you&#39;d      SMART   
##  3 you&#39;ll     SMART   
##  4 you&#39;re     SMART   
##  5 you&#39;ve     SMART   
##  6 your       SMART   
##  7 yours      SMART   
##  8 yourself   SMART   
##  9 yourselves SMART   
## 10 you        snowball
## # ... with 14 more rows</code></pre>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="cleantool.html#cb204-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_detect</span>(word, <span class="st">&quot;^you&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 1,125 x 2
##    word        lexicon
##    &lt;chr&gt;       &lt;chr&gt;  
##  1 a           SMART  
##  2 a&#39;s         SMART  
##  3 able        SMART  
##  4 about       SMART  
##  5 above       SMART  
##  6 according   SMART  
##  7 accordingly SMART  
##  8 across      SMART  
##  9 actually    SMART  
## 10 after       SMART  
## # ... with 1,115 more rows</code></pre>
</div>
<div id="distinctdf" class="section level4" number="6.2.5.2">
<h4><span class="header-section-number">6.2.5.2</span> <code>distinct(df)</code></h4>
<p>데이터프레임을 입력값으로 받아 고유한 행을 부분 선택한다. 중복된 행을 제거하는데 사용한다.</p>
<p><code>stop_words</code>의 word열과 lexicon열에서 중복된 행을 제거하고 고유한 행만 부분선택하자.</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="cleantool.html#cb206-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(word)</span></code></pre></div>
<pre><code>## # A tibble: 728 x 1
##    word       
##    &lt;chr&gt;      
##  1 a          
##  2 a&#39;s        
##  3 able       
##  4 about      
##  5 above      
##  6 according  
##  7 accordingly
##  8 across     
##  9 actually   
## 10 after      
## # ... with 718 more rows</code></pre>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="cleantool.html#cb208-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(lexicon)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 1
##   lexicon 
##   &lt;chr&gt;   
## 1 SMART   
## 2 snowball
## 3 onix</code></pre>
</div>
<div id="arrangedf-...-.by_group-false" class="section level4" number="6.2.5.3">
<h4><span class="header-section-number">6.2.5.3</span> <code>arrange(df, ..., .by_group = FALSE)</code></h4>
<p>데이터프레임을 입력값으로 받아 선택한 열의 행을 순서대로 정렬한다. 기본값은 오름차 순서. 내림차로 정렬하려면 <code>desc()</code>를 인자로 추가한다.</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="cleantool.html#cb210-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(word)</span></code></pre></div>
<pre><code>## # A tibble: 1,149 x 2
##    word  lexicon 
##    &lt;chr&gt; &lt;chr&gt;   
##  1 a     SMART   
##  2 a     snowball
##  3 a     onix    
##  4 a&#39;s   SMART   
##  5 able  SMART   
##  6 about SMART   
##  7 about snowball
##  8 about onix    
##  9 above SMART   
## 10 above snowball
## # ... with 1,139 more rows</code></pre>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="cleantool.html#cb212-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(word))</span></code></pre></div>
<pre><code>## # A tibble: 1,149 x 2
##    word       lexicon 
##    &lt;chr&gt;      &lt;chr&gt;   
##  1 zero       SMART   
##  2 z          SMART   
##  3 yourselves SMART   
##  4 yourselves snowball
##  5 yourself   SMART   
##  6 yourself   snowball
##  7 yours      SMART   
##  8 yours      snowball
##  9 yours      onix    
## 10 your       SMART   
## # ... with 1,139 more rows</code></pre>
<p>결측값 <code>NA</code>는 늘 국지데이터의 마지막으로 정렬된다. <code>desc()</code>로 정렬 순서를 바꿔도 마지막에 위치.</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="cleantool.html#cb214-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">c1 =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="cn">NA</span>), <span class="at">c2 =</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">c3 =</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(c1)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##      c1    c2 c3   
##   &lt;int&gt; &lt;int&gt; &lt;chr&gt;
## 1     1     4 a    
## 2     2     5 b    
## 3    NA     6 c</code></pre>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="cleantool.html#cb216-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">c1 =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="cn">NA</span>), <span class="at">c2 =</span> <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">c3 =</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>)) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(c1), c2)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##      c1    c2 c3   
##   &lt;int&gt; &lt;int&gt; &lt;chr&gt;
## 1     2     5 b    
## 2     1     4 a    
## 3    NA     6 c</code></pre>
<p><code>group_by()</code>로 묶어 정렬하기 위해서는 기본값이 <code>FALSE</code>인 <code>.by_group =</code> 인자를 <code>TRUE</code>로 변경한다. <code>by_group =</code>이 아니라 <code>.by_group =</code>이다. (by 앞 <code>.</code>주의)</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="cleantool.html#cb218-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(word, <span class="at">.by_group =</span> F)</span>
<span id="cb218-2"><a href="cleantool.html#cb218-2" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(word, <span class="at">.by_group =</span> T)</span>
<span id="cb218-3"><a href="cleantool.html#cb218-3" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(lexicon) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(word, <span class="at">.by_group =</span> T)</span></code></pre></div>
</div>
<div id="add_rowdf-...-.before-null-.after-null" class="section level4" number="6.2.5.4">
<h4><span class="header-section-number">6.2.5.4</span> <code>add_row(df, ..., .before = NULL, .after = NULL)</code></h4>
<p><code>tibble</code>패키지의 함수로서 데이터프레임에 한개 이상의 행을 추가할 수 있다.
기본값은 끝부분 추가이다. 추가 위치를 지정하려면 <code>.before =</code> 혹은 <code>.after =</code> 인자에 추가할 위치를 지정한다.</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="cleantool.html#cb219-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">add_row</span>(<span class="at">word =</span> <span class="fu">c</span>(<span class="st">&quot;용어1&quot;</span>, <span class="st">&quot;용어2&quot;</span>), <span class="at">lexicon =</span> <span class="st">&quot;KOR&quot;</span>, <span class="at">.before =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## # A tibble: 1,151 x 2
##    word        lexicon
##    &lt;chr&gt;       &lt;chr&gt;  
##  1 용어1       KOR    
##  2 용어2       KOR    
##  3 a           SMART  
##  4 a&#39;s         SMART  
##  5 able        SMART  
##  6 about       SMART  
##  7 above       SMART  
##  8 according   SMART  
##  9 accordingly SMART  
## 10 across      SMART  
## # ... with 1,141 more rows</code></pre>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="cleantool.html#cb221-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">add_row</span>(<span class="at">word =</span> <span class="fu">c</span>(<span class="st">&quot;용어1&quot;</span>, <span class="st">&quot;용어2&quot;</span>), <span class="at">lexicon =</span> <span class="fu">c</span>(<span class="st">&quot;KOR1&quot;</span>, <span class="st">&quot;KOR2&quot;</span>), <span class="at">.before =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## # A tibble: 1,151 x 2
##    word        lexicon
##    &lt;chr&gt;       &lt;chr&gt;  
##  1 용어1       KOR1   
##  2 용어2       KOR2   
##  3 a           SMART  
##  4 a&#39;s         SMART  
##  5 able        SMART  
##  6 about       SMART  
##  7 above       SMART  
##  8 according   SMART  
##  9 accordingly SMART  
## 10 across      SMART  
## # ... with 1,141 more rows</code></pre>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="cleantool.html#cb223-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;불용어&quot;</span>, <span class="at">lexicon =</span> <span class="st">&quot;KOR&quot;</span>, <span class="at">.before =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 1,150 x 2
##    word        lexicon
##    &lt;chr&gt;       &lt;chr&gt;  
##  1 a           SMART  
##  2 a&#39;s         SMART  
##  3 불용어      KOR    
##  4 able        SMART  
##  5 about       SMART  
##  6 above       SMART  
##  7 according   SMART  
##  8 accordingly SMART  
##  9 across      SMART  
## 10 actually    SMART  
## # ... with 1,140 more rows</code></pre>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="cleantool.html#cb225-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">add_row</span>(<span class="at">word =</span> <span class="st">&quot;불용어&quot;</span>, <span class="at">lexicon =</span> <span class="st">&quot;KOR&quot;</span>, <span class="at">.after =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 1,150 x 2
##    word        lexicon
##    &lt;chr&gt;       &lt;chr&gt;  
##  1 a           SMART  
##  2 a&#39;s         SMART  
##  3 able        SMART  
##  4 불용어      KOR    
##  5 about       SMART  
##  6 above       SMART  
##  7 according   SMART  
##  8 accordingly SMART  
##  9 across      SMART  
## 10 actually    SMART  
## # ... with 1,140 more rows</code></pre>
</div>
<div id="slicedf-...-." class="section level4" number="6.2.5.5">
<h4><span class="header-section-number">6.2.5.5</span> <code>slice(df, ..., .)</code></h4>
<p>데이터프레임 행의 위치를 지정해 부분선택(subsetting)한다. 예를 들어,투입값 <code>n = 2:4</code>은 2번째에서 4번째 요소를 부분선택한다.</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="cleantool.html#cb227-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> <span class="st">&quot;You inspire me, You influence me for the better.&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb227-2"><a href="cleantool.html#cb227-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span></span>
<span id="cb227-3"><a href="cleantool.html#cb227-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="at">n =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 1
##   word   
##   &lt;chr&gt;  
## 1 inspire
## 2 me     
## 3 you</code></pre>
<p>지정한 행을 제거하려면 음기호<code>-</code>사용. <code>n = -(1:3)</code>은 1번재부터 3번째를 제외하고 부분선택.</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="cleantool.html#cb229-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> <span class="st">&quot;You inspire me, You influence me for the better.&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb229-2"><a href="cleantool.html#cb229-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span></span>
<span id="cb229-3"><a href="cleantool.html#cb229-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="at">n =</span> <span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>))</span></code></pre></div>
<pre><code>## # A tibble: 6 x 1
##   word     
##   &lt;chr&gt;    
## 1 you      
## 2 influence
## 3 me       
## 4 for      
## 5 the      
## 6 better</code></pre>
<div id="slice_headdf-...-n-prop" class="section level5" number="6.2.5.5.1">
<h5><span class="header-section-number">6.2.5.5.1</span> <code>slice_head(df, ..., n, prop)</code></h5>
<p>첫행부터 행의 순서대로 선택. 개수(n = ) 혹은 비율(prop = )로 지정.</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="cleantool.html#cb231-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> <span class="st">&quot;You inspire me, You influence me for the better.&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb231-2"><a href="cleantool.html#cb231-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span></span>
<span id="cb231-3"><a href="cleantool.html#cb231-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 1
##   word   
##   &lt;chr&gt;  
## 1 you    
## 2 inspire
## 3 me</code></pre>
<p><code>prop =</code>인자는 비율로 지정. <code>0.3</code>은 첫행부터 3/10에 속하는 행 선택</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="cleantool.html#cb233-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> <span class="st">&quot;You inspire me, You influence me for the better.&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb233-2"><a href="cleantool.html#cb233-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span></span>
<span id="cb233-3"><a href="cleantool.html#cb233-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">prop =</span> <span class="fl">0.3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 2 x 1
##   word   
##   &lt;chr&gt;  
## 1 you    
## 2 inspire</code></pre>
</div>
<div id="slice_taildf-...-n-prop" class="section level5" number="6.2.5.5.2">
<h5><span class="header-section-number">6.2.5.5.2</span> <code>slice_tail(df, ..., n, prop)</code></h5>
<p>마지막 행까지 행의 순서대로 선택</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="cleantool.html#cb235-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> <span class="st">&quot;You inspire me, You influence me for the better.&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb235-2"><a href="cleantool.html#cb235-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span></span>
<span id="cb235-3"><a href="cleantool.html#cb235-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_tail</span>(<span class="at">n =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 1
##   word  
##   &lt;chr&gt; 
## 1 for   
## 2 the   
## 3 better</code></pre>
</div>
<div id="slice_maxdf-order_by-...-n-prop-with_ties-true" class="section level5" number="6.2.5.5.3">
<h5><span class="header-section-number">6.2.5.5.3</span> <code>slice_max(df, order_by, ..., n, prop, with_ties = TRUE)</code></h5>
<p>행의 값이 최대인 행 n개 선택. 기본값은 동률(tie) 모두 표시<code>with_ties = T</code>
(참고: <code>dplyr</code>패키지에서 이제까지 쓰였던 <code>top_n()</code>은 곧 사용을 중지하게 된다.)</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="cleantool.html#cb237-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> <span class="st">&quot;You inspire me, You influence me for the better.&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb237-2"><a href="cleantool.html#cb237-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span></span>
<span id="cb237-3"><a href="cleantool.html#cb237-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word) <span class="sc">%&gt;%</span> </span>
<span id="cb237-4"><a href="cleantool.html#cb237-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(n, <span class="at">n =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 7 x 2
##   word          n
##   &lt;chr&gt;     &lt;int&gt;
## 1 me            2
## 2 you           2
## 3 better        1
## 4 for           1
## 5 influence     1
## 6 inspire       1
## 7 the           1</code></pre>
<p><code>prop =</code>인자로 상위 3/10에 속하는 행 선택</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="cleantool.html#cb239-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> <span class="st">&quot;You inspire me, You influence me for the better.&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb239-2"><a href="cleantool.html#cb239-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span></span>
<span id="cb239-3"><a href="cleantool.html#cb239-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word) <span class="sc">%&gt;%</span> </span>
<span id="cb239-4"><a href="cleantool.html#cb239-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(n, <span class="at">prop =</span> <span class="fl">0.3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 2 x 2
##   word      n
##   &lt;chr&gt; &lt;int&gt;
## 1 me        2
## 2 you       2</code></pre>
<p>만일 동률중 하나만 표시하고 싶으면 <code>with_ties = F</code></p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="cleantool.html#cb241-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> <span class="st">&quot;You inspire me, You influence me for the better.&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb241-2"><a href="cleantool.html#cb241-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span></span>
<span id="cb241-3"><a href="cleantool.html#cb241-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word) <span class="sc">%&gt;%</span> </span>
<span id="cb241-4"><a href="cleantool.html#cb241-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(n, <span class="at">n =</span> <span class="dv">3</span>, <span class="at">with_ties =</span> F)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   word       n
##   &lt;chr&gt;  &lt;int&gt;
## 1 me         2
## 2 you        2
## 3 better     1</code></pre>
</div>
<div id="slice_mindf-order_by-...-n-prop-with_ties-true" class="section level5" number="6.2.5.5.4">
<h5><span class="header-section-number">6.2.5.5.4</span> <code>slice_min(df, order_by, ..., n, prop, with_ties = TRUE)</code></h5>
<p>행의 값이 최소인 행 n개 선택. 기본값은 동률(tie) 모두 표시<code>with_ties = T</code>. (선택할 때 지정하는 열에 주의하자. 값이 들어 있는 열.)</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="cleantool.html#cb243-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> <span class="st">&quot;You inspire me, You influence me for the better. You, you, you ~&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb243-2"><a href="cleantool.html#cb243-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span></span>
<span id="cb243-3"><a href="cleantool.html#cb243-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word) <span class="sc">%&gt;%</span> </span>
<span id="cb243-4"><a href="cleantool.html#cb243-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_min</span>(n, <span class="at">n =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 2
##   word          n
##   &lt;chr&gt;     &lt;int&gt;
## 1 better        1
## 2 for           1
## 3 influence     1
## 4 inspire       1
## 5 the           1</code></pre>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="cleantool.html#cb245-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> <span class="st">&quot;You inspire me, You influence me for the better.&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb245-2"><a href="cleantool.html#cb245-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span></span>
<span id="cb245-3"><a href="cleantool.html#cb245-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word) <span class="sc">%&gt;%</span> </span>
<span id="cb245-4"><a href="cleantool.html#cb245-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_min</span>(n, <span class="at">n =</span> <span class="dv">2</span>, <span class="at">with_ties =</span> F)</span></code></pre></div>
<pre><code>## # A tibble: 2 x 2
##   word       n
##   &lt;chr&gt;  &lt;int&gt;
## 1 better     1
## 2 for        1</code></pre>
</div>
<div id="slice_sampledf-...-n.-prop.-weited_by-null-replace-f" class="section level5" number="6.2.5.5.5">
<h5><span class="header-section-number">6.2.5.5.5</span> <code>slice_sample(df, ..., n. prop., weited_by = NULL, replace = F)</code></h5>
<p>단순 확률로 임의의 n개 행을 추출한다. 기본값은 비복원추출(뽑은 표본을 모집단에 다시 넣지 않는 표집). 복원추출)뽑은 표본을 모집단에 다시 넣는 표집) 하려면 <code>replace =</code>인자를 <code>TRUE</code>로 설정한다.</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="cleantool.html#cb247-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">37</span>)</span>
<span id="cb247-2"><a href="cleantool.html#cb247-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> <span class="st">&quot;You inspire me, You influence me for the better.&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb247-3"><a href="cleantool.html#cb247-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span></span>
<span id="cb247-4"><a href="cleantool.html#cb247-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 1
##   word   
##   &lt;chr&gt;  
## 1 me     
## 2 for    
## 3 inspire</code></pre>
</div>
</div>
</div>
<div id="열-조작-동사manipulate-variables-1" class="section level3" number="6.2.6">
<h3><span class="header-section-number">6.2.6</span> 열 조작 동사(manipulate variables)</h3>
<ul>
<li><code>select()</code> 데이터프레임의 열 부분선택</li>
<li><code>add_column()</code> 데이터프레임에 하나 이상의 열 추가. (주의: column이 단수)</li>
<li><code>rename()</code> 열의 이름 변경</li>
<li><code>mutate()</code> 데이터프레임 기존 변수(열: column)들을 계산해 새로운 열 추가</li>
</ul>
<div id="selectdf-..." class="section level4" number="6.2.6.1">
<h4><span class="header-section-number">6.2.6.1</span> <code>select(df, ...)</code></h4>
<p>데이터프레임을 받아 선택한 열을 부분선택한다.</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="cleantool.html#cb249-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">select</span>(word)</span></code></pre></div>
<pre><code>## # A tibble: 1,149 x 1
##    word       
##    &lt;chr&gt;      
##  1 a          
##  2 a&#39;s        
##  3 able       
##  4 about      
##  5 above      
##  6 according  
##  7 accordingly
##  8 across     
##  9 actually   
## 10 after      
## # ... with 1,139 more rows</code></pre>
<p><code>select()</code>는 연산자와 다양한 도우미 함수를 이용해 복수의 열을 효과적으로 부분선택할 수있다. 구체적인 내용은 <a href="https://dplyr.tidyverse.org/reference/select.html">설명서(Subset columns using their names and types)</a>참조</p>
</div>
<div id="add_columndf-...-.before-null-.after-null" class="section level4" number="6.2.6.2">
<h4><span class="header-section-number">6.2.6.2</span> <code>add_column(df, ..., .before = NULL, .after = NULL)</code></h4>
<p><code>tibble</code>패키지의 함수로서 데이터프레임에 한개 이상의 열을 추가할 수 있다. 기본값은 끝부분 추가이다. 추가 위치를 지정하려면 .before = 혹은 .after = 인자에 추가할 위치를 지정한다.</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="cleantool.html#cb251-1" aria-hidden="true" tabindex="-1"></a>stop_words_5 <span class="ot">&lt;-</span> stop_words[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,]</span>
<span id="cb251-2"><a href="cleantool.html#cb251-2" aria-hidden="true" tabindex="-1"></a>stop_words_5 <span class="sc">%&gt;%</span> <span class="fu">add_column</span>(<span class="at">number =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 3
##   word  lexicon number
##   &lt;chr&gt; &lt;chr&gt;    &lt;int&gt;
## 1 a     SMART        1
## 2 a&#39;s   SMART        2
## 3 able  SMART        3
## 4 about SMART        4
## 5 above SMART        5</code></pre>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="cleantool.html#cb253-1" aria-hidden="true" tabindex="-1"></a>stop_words_5 <span class="sc">%&gt;%</span> <span class="fu">add_column</span>(<span class="at">number =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">.before =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 3
##   number word  lexicon
##    &lt;int&gt; &lt;chr&gt; &lt;chr&gt;  
## 1      1 a     SMART  
## 2      2 a&#39;s   SMART  
## 3      3 able  SMART  
## 4      4 about SMART  
## 5      5 above SMART</code></pre>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="cleantool.html#cb255-1" aria-hidden="true" tabindex="-1"></a>stop_words_5 <span class="sc">%&gt;%</span> <span class="fu">add_column</span>(<span class="at">number =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">.after =</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 3
##   word  number lexicon
##   &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;  
## 1 a          1 SMART  
## 2 a&#39;s        2 SMART  
## 3 able       3 SMART  
## 4 about      4 SMART  
## 5 above      5 SMART</code></pre>
<p>추가하는 열은 행의 수가 일치해야 한다. 아래 예처럼 행의 수가 일치하지 않으면 오류가 발생한다.</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="cleantool.html#cb257-1" aria-hidden="true" tabindex="-1"></a>stop_words_5 <span class="sc">%&gt;%</span> <span class="fu">add_column</span>(<span class="at">number =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb257-2"><a href="cleantool.html#cb257-2" aria-hidden="true" tabindex="-1"></a>stop_words_5 <span class="sc">%&gt;%</span> <span class="fu">add_column</span>(<span class="at">number =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>)</span></code></pre></div>
</div>
<div id="renamedf-..." class="section level4" number="6.2.6.3">
<h4><span class="header-section-number">6.2.6.3</span> <code>rename(df, ... )</code></h4>
<p>데이터프레임 열의 이름를 변경한다. 새로운 열의 이름을 먼저 지정한다 (예: new_name = old_name) 데이터프레임을 만드는 것에 준하는 과정을 거치기 때문이다.</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="cleantool.html#cb258-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">ID =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">numbers =</span> ID)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 1
##   numbers
##     &lt;int&gt;
## 1       1
## 2       2
## 3       3</code></pre>
</div>
<div id="mutatedf-..." class="section level4" number="6.2.6.4">
<h4><span class="header-section-number">6.2.6.4</span> <code>mutate(df, ... )</code></h4>
<p>데이터프레임 기존 변수(열: column)들을 계산해 새로운 열 추가한다. 기존 열을 제거하려면 <code>transmute()</code> 이용.</p>
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="cleantool.html#cb260-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">plus =</span> <span class="fu">str_c</span>(word, <span class="st">&quot;-&quot;</span>, lexicon))</span></code></pre></div>
<pre><code>## # A tibble: 1,149 x 3
##    word        lexicon plus             
##    &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt;            
##  1 a           SMART   a-SMART          
##  2 a&#39;s         SMART   a&#39;s-SMART        
##  3 able        SMART   able-SMART       
##  4 about       SMART   about-SMART      
##  5 above       SMART   above-SMART      
##  6 according   SMART   according-SMART  
##  7 accordingly SMART   accordingly-SMART
##  8 across      SMART   across-SMART     
##  9 actually    SMART   actually-SMART   
## 10 after       SMART   after-SMART      
## # ... with 1,139 more rows</code></pre>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="cleantool.html#cb262-1" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">transmute</span>(<span class="at">plus =</span> <span class="fu">str_c</span>(word, <span class="st">&quot;-&quot;</span>, lexicon))</span></code></pre></div>
<pre><code>## # A tibble: 1,149 x 1
##    plus             
##    &lt;chr&gt;            
##  1 a-SMART          
##  2 a&#39;s-SMART        
##  3 able-SMART       
##  4 about-SMART      
##  5 above-SMART      
##  6 according-SMART  
##  7 accordingly-SMART
##  8 across-SMART     
##  9 actually-SMART   
## 10 after-SMART      
## # ... with 1,139 more rows</code></pre>
</div>
</div>
<div id="벡터-함수vector-functions-1" class="section level3" number="6.2.7">
<h3><span class="header-section-number">6.2.7</span> 벡터 함수(vector functions)</h3>
<p><code>mutate()</code>함수와 함께 사용하는 함수들이다. 데이터프레임의 열벡터를 입력값으로 같은 길이의 벡터를 산출한다.</p>
<ul>
<li><code>recode()</code> 열의 값 변경</li>
<li><code>if_else()</code> 주어진 조건의 논리벡터를 받아 <code>TRUE</code> 혹은 <code>FALSE</code>에 해당하는 값 산출</li>
<li><code>case_when()</code> <code>if_else()</code>를 복수의 사례(case)에 적용</li>
</ul>
<p>벡터함수는 이외에도 산술 및 논리 연산자등을 포함 매우 다양한 기능을 제공하는 함수가 있다. <a href="https://dplyr.tidyverse.org/reference/mutate.html">참고자료</a>.</p>
<div id="recodex-old1-new1-old2-new2" class="section level4" number="6.2.7.1">
<h4><span class="header-section-number">6.2.7.1</span> <code>recode(x, old1 = "new1", old2 = "new2")</code></h4>
<p>벡터를 받아 투입한 벡터의 값을 지정한 값으로 치환한다. 투입순서에 주의한다. old를 new로 교체한다. 문자열을 입력값으로 받아 pattern, replacement 순서로 지정하는 <code>str_replace()</code>와 투입순서가 유사하다. 반면, 데이터프레임을 입력값으로 받는 동사들(예: <code>rename()</code>, <code>mutate()</code> 등)은 new = old다. 데이터프레임은 열의 이름을 지정해 생성하므로 바뀔 이름을 먼저 배치한다.</p>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="cleantool.html#cb264-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;You&quot;</span>, <span class="st">&quot;inspire&quot;</span>, <span class="st">&quot;me&quot;</span>) <span class="sc">%&gt;%</span>  <span class="fu">recode</span>(<span class="at">inspire =</span> <span class="st">&quot;INSPIRE&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;You&quot;     &quot;INSPIRE&quot; &quot;me&quot;</code></pre>
<p>숫자형 값을 바꿀때는 숫자에 백틱으로 인용한다. 치환하는 값의 유형이 일치해야 한다. 정수에는 정수로, 실수에는 실수로, 문자에는 문자로. 불일치하는 경우 <code>NA</code> 산출.</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="cleantool.html#cb266-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">4</span> <span class="sc">%&gt;%</span> <span class="fu">recode</span>(<span class="st">`</span><span class="at">4</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## Warning: Unreplaced values treated as NA as .x is not compatible. Please specify
## replacements exhaustively or supply .default</code></pre>
<pre><code>## [1] NA NA NA 10</code></pre>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="cleantool.html#cb269-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">4</span> <span class="sc">%&gt;%</span> <span class="fu">recode</span>(<span class="st">`</span><span class="at">4</span><span class="st">`</span> <span class="ot">=</span> 10L)</span></code></pre></div>
<pre><code>## [1]  1  2  3 10</code></pre>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="cleantool.html#cb271-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="fl">1.3</span>, <span class="fl">2.5</span>) <span class="sc">%&gt;%</span> <span class="fu">recode</span>(<span class="st">`</span><span class="at">1.3</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 10.0  2.5</code></pre>
<p>백틱대신 따옴표를 해도 작동한다.</p>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="cleantool.html#cb273-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;You&quot;</span>, <span class="st">&quot;inspire&quot;</span>, <span class="st">&quot;me&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">recode</span>(<span class="st">&quot;inspire&quot;</span> <span class="ot">=</span> <span class="st">&quot;INSPIRE&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;You&quot;     &quot;INSPIRE&quot; &quot;me&quot;</code></pre>
<div class="sourceCode" id="cb275"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb275-1"><a href="cleantool.html#cb275-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">4</span> <span class="sc">%&gt;%</span> <span class="fu">recode</span>(<span class="st">&quot;4&quot;</span> <span class="ot">=</span> 10L)</span></code></pre></div>
<pre><code>## [1]  1  2  3 10</code></pre>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb277-1"><a href="cleantool.html#cb277-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="fl">1.3</span>, <span class="fl">2.5</span>) <span class="sc">%&gt;%</span> <span class="fu">recode</span>(<span class="st">&quot;1.3&quot;</span> <span class="ot">=</span> <span class="fl">5.5</span>)</span></code></pre></div>
<pre><code>## [1] 5.5 2.5</code></pre>
<ul>
<li><code>mutate(df, columnName = recode(column, old = "new))</code>
데이터프레임의 값을 바꾸기 위해서는 <code>mutate()</code> 동사와 함께 사용한다.</li>
</ul>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb279-1"><a href="cleantool.html#cb279-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> <span class="st">&quot;You inspire me, You influence me for the better.&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb279-2"><a href="cleantool.html#cb279-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span></span>
<span id="cb279-3"><a href="cleantool.html#cb279-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">recoded =</span> <span class="fu">recode</span>(word,</span>
<span id="cb279-4"><a href="cleantool.html#cb279-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">inspire =</span> <span class="st">&quot;INSPIRE&quot;</span>,</span>
<span id="cb279-5"><a href="cleantool.html#cb279-5" aria-hidden="true" tabindex="-1"></a>                          <span class="at">better =</span> <span class="st">&quot;BETTER&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 9 x 2
##   word      recoded  
##   &lt;chr&gt;     &lt;chr&gt;    
## 1 you       you      
## 2 inspire   INSPIRE  
## 3 me        me       
## 4 you       you      
## 5 influence influence
## 6 me        me       
## 7 for       for      
## 8 the       the      
## 9 better    BETTER</code></pre>
<p>바꾼 값의 열만 남기려면 생성된 열의 이름을 투입한 열의 이름과 같도록 지정.</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb281-1"><a href="cleantool.html#cb281-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> <span class="st">&quot;You inspire me, You influence me for the better.&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb281-2"><a href="cleantool.html#cb281-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span></span>
<span id="cb281-3"><a href="cleantool.html#cb281-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">recode</span>(word,</span>
<span id="cb281-4"><a href="cleantool.html#cb281-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">inspire =</span> <span class="st">&quot;INSPIRE&quot;</span>,</span>
<span id="cb281-5"><a href="cleantool.html#cb281-5" aria-hidden="true" tabindex="-1"></a>                          <span class="at">better =</span> <span class="st">&quot;BETTER&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 9 x 1
##   word     
##   &lt;chr&gt;    
## 1 you      
## 2 INSPIRE  
## 3 me       
## 4 you      
## 5 influence
## 6 me       
## 7 for      
## 8 the      
## 9 BETTER</code></pre>
<p><code>str_replace()</code> 대비 <code>recode()</code>의 장점은 여러 문자열을 개별적으로 변환한다는데 있다. <code>str_replace()</code>는 한번에 하나만 변환한다.</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb283-1"><a href="cleantool.html#cb283-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> <span class="st">&quot;You inspire me, You influence me for the better.&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb283-2"><a href="cleantool.html#cb283-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span></span>
<span id="cb283-3"><a href="cleantool.html#cb283-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">str_replace_all</span>(word, <span class="st">&quot;inspire&quot;</span>, <span class="st">&quot;INSPIRE&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb283-4"><a href="cleantool.html#cb283-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">str_replace_all</span>(word, <span class="st">&quot;better&quot;</span>, <span class="st">&quot;BETTER&quot;</span>))</span></code></pre></div>
<p><code>recode()</code> 대비 <code>str_replace()</code>의 장점은 투입문자열에 정규표현식 가능.</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb284-1"><a href="cleantool.html#cb284-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> <span class="st">&quot;You inspire me, You influence me for the better.&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb284-2"><a href="cleantool.html#cb284-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span></span>
<span id="cb284-3"><a href="cleantool.html#cb284-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">recoded =</span> <span class="fu">str_replace</span>(word, <span class="st">&quot;.*&quot;</span>, <span class="st">&quot;IN&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 9 x 2
##   word      recoded
##   &lt;chr&gt;     &lt;chr&gt;  
## 1 you       IN     
## 2 inspire   IN     
## 3 me        IN     
## 4 you       IN     
## 5 influence IN     
## 6 me        IN     
## 7 for       IN     
## 8 the       IN     
## 9 better    IN</code></pre>
<p>반면, <code>recode()</code>는 투입문자열에 정규표현식을 받지 못한다.</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb286-1"><a href="cleantool.html#cb286-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> <span class="st">&quot;You inspire me, You influence me for the better.&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb286-2"><a href="cleantool.html#cb286-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span></span>
<span id="cb286-3"><a href="cleantool.html#cb286-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">recoded =</span> <span class="fu">recode</span>(word, <span class="st">&quot;.* &quot;</span> <span class="ot">=</span> <span class="st">&quot;IN&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 9 x 2
##   word      recoded  
##   &lt;chr&gt;     &lt;chr&gt;    
## 1 you       you      
## 2 inspire   inspire  
## 3 me        me       
## 4 you       you      
## 5 influence influence
## 6 me        me       
## 7 for       for      
## 8 the       the      
## 9 better    better</code></pre>
</div>
<div id="if_elsecondition-true-false-missing-null" class="section level4" number="6.2.7.2">
<h4><span class="header-section-number">6.2.7.2</span> <code>if_else(condition, true, false, missing = NULL)</code></h4>
<p>주어진 조건의 논리벡터를 받아 true 혹은 false에 해당하는 값 산출</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb288-1"><a href="cleantool.html#cb288-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;희&quot;</span>, <span class="st">&quot;노&quot;</span>, <span class="st">&quot;애&quot;</span>, <span class="st">&quot;락&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb288-2"><a href="cleantool.html#cb288-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_detect</span>(<span class="st">&quot;희|애|락&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb288-3"><a href="cleantool.html#cb288-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">if_else</span>(<span class="st">&quot;긍정&quot;</span>,<span class="st">&quot;부정&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;긍정&quot; &quot;부정&quot; &quot;긍정&quot; &quot;긍정&quot;</code></pre>
</div>
<div id="case_when..." class="section level4" number="6.2.7.3">
<h4><span class="header-section-number">6.2.7.3</span> <code>case_when(...)</code></h4>
<p><code>if_else()</code>를 복수의 사례(case)에 적용. <code>\\byou.*</code>는 정규표현식에서 “you로 시작하는,” <code>.*sel.*</code>은 “sel이 포함돼 있는,” <code>\\byoung.*</code>은 “young으로 시작하는”을 나타낸다.</p>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb290-1"><a href="cleantool.html#cb290-1" aria-hidden="true" tabindex="-1"></a>you_v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;you&quot;</span>, <span class="st">&quot;you&#39;d&quot;</span>, <span class="st">&quot;you&#39;ll&quot;</span>, <span class="st">&quot;you&#39;re&quot;</span>, <span class="st">&quot;you&#39;ve&quot;</span>, <span class="st">&quot;your&quot;</span>, <span class="st">&quot;yours&quot;</span>, <span class="st">&quot;yourself&quot;</span>, <span class="st">&quot;yourselves&quot;</span>, <span class="st">&quot;young&quot;</span>, <span class="st">&quot;younger&quot;</span>, <span class="st">&quot;youngest&quot;</span>)</span>
<span id="cb290-2"><a href="cleantool.html#cb290-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb290-3"><a href="cleantool.html#cb290-3" aria-hidden="true" tabindex="-1"></a><span class="fu">case_when</span>(</span>
<span id="cb290-4"><a href="cleantool.html#cb290-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_detect</span>(you_v, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">byou.*&quot;</span>) <span class="sc">~</span> <span class="st">&quot;you&quot;</span>,</span>
<span id="cb290-5"><a href="cleantool.html#cb290-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_detect</span>(you_v, <span class="st">&quot;.*sel.*&quot;</span>) <span class="sc">~</span> <span class="st">&quot;self&quot;</span>,</span>
<span id="cb290-6"><a href="cleantool.html#cb290-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_detect</span>(you_v, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">byoung.*&quot;</span>) <span class="sc">~</span> <span class="st">&quot;young&quot;</span></span>
<span id="cb290-7"><a href="cleantool.html#cb290-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##  [1] &quot;you&quot; &quot;you&quot; &quot;you&quot; &quot;you&quot; &quot;you&quot; &quot;you&quot; &quot;you&quot; &quot;you&quot; &quot;you&quot; &quot;you&quot; &quot;you&quot; &quot;you&quot;</code></pre>
<p>의도와 달리 모든 값이 “you”로 바뀌었다. 치환 순서 때문이다. <code>str_detect(you_v, "\\byou.*") ~ "you"</code>가 가장 먼저 배치돼 모두 “you”로 바꾸었다. 일반적인 설정은 가장 뒤에 배치한다.</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb292-1"><a href="cleantool.html#cb292-1" aria-hidden="true" tabindex="-1"></a>you_v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;you&quot;</span>, <span class="st">&quot;you&#39;d&quot;</span>, <span class="st">&quot;you&#39;ll&quot;</span>, <span class="st">&quot;you&#39;re&quot;</span>, <span class="st">&quot;you&#39;ve&quot;</span>, <span class="st">&quot;your&quot;</span>, <span class="st">&quot;yours&quot;</span>, <span class="st">&quot;yourself&quot;</span>, <span class="st">&quot;yourselves&quot;</span>, <span class="st">&quot;young&quot;</span>, <span class="st">&quot;younger&quot;</span>, <span class="st">&quot;youngest&quot;</span>)</span>
<span id="cb292-2"><a href="cleantool.html#cb292-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb292-3"><a href="cleantool.html#cb292-3" aria-hidden="true" tabindex="-1"></a><span class="fu">case_when</span>(</span>
<span id="cb292-4"><a href="cleantool.html#cb292-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_detect</span>(you_v, <span class="st">&quot;.*sel.*&quot;</span>) <span class="sc">~</span> <span class="st">&quot;self&quot;</span>,</span>
<span id="cb292-5"><a href="cleantool.html#cb292-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_detect</span>(you_v, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">byoung.*&quot;</span>) <span class="sc">~</span> <span class="st">&quot;young&quot;</span>,</span>
<span id="cb292-6"><a href="cleantool.html#cb292-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_detect</span>(you_v, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">byou.*&quot;</span>) <span class="sc">~</span> <span class="st">&quot;you&quot;</span>,</span>
<span id="cb292-7"><a href="cleantool.html#cb292-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>##  [1] &quot;you&quot;   &quot;you&quot;   &quot;you&quot;   &quot;you&quot;   &quot;you&quot;   &quot;you&quot;   &quot;you&quot;   &quot;self&quot;  &quot;self&quot; 
## [10] &quot;young&quot; &quot;young&quot; &quot;young&quot;</code></pre>
</div>
</div>
<div id="테이블-결합동사행방향" class="section level3" number="6.2.8">
<h3><span class="header-section-number">6.2.8</span> 테이블 결합동사(행방향)</h3>
<p>자료분석 과정에서 종종 복수의 테이블을 결합해야 한다. 두 테이블을 열 방향(좌우)으로 결합하는 동사와, 행 방향(상하)으로 결합하는 동사 군으로 구분할 수 있다. 먼저 행방향 결합부터 다룬다.</p>
<ul>
<li><p><code>bind_rows()</code> 두개의 테이블을 행 방향(상하)로 결합. 두 테이블 열의 수가 같아야 한다.</p></li>
<li><p><code>intersect()</code> 두 테이블에서 일치하는 행만 결합(교집합)</p></li>
<li><p><code>setdiff()</code> 두 테이블의 행에서 아래쪽 테이블의 행은 배제하고 결합(차집합)</p></li>
<li><p><code>union()</code> 두 테이블에서 공통적인 행 결합(합집합)</p></li>
</ul>
<div id="bind_rowsx-y-.id-null" class="section level4" number="6.2.8.1">
<h4><span class="header-section-number">6.2.8.1</span> <code>bind_rows(x, y, .id = NULL)</code></h4>
<p>두개의 테이블을 행 방향(상하)로 결합한다.</p>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb294-1"><a href="cleantool.html#cb294-1" aria-hidden="true" tabindex="-1"></a>a_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb294-2"><a href="cleantool.html#cb294-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>C,</span>
<span id="cb294-3"><a href="cleantool.html#cb294-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb294-4"><a href="cleantool.html#cb294-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb294-5"><a href="cleantool.html#cb294-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CC&quot;</span>, <span class="st">&quot;V&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb294-6"><a href="cleantool.html#cb294-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb294-7"><a href="cleantool.html#cb294-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb294-8"><a href="cleantool.html#cb294-8" aria-hidden="true" tabindex="-1"></a>b_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb294-9"><a href="cleantool.html#cb294-9" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>D,</span>
<span id="cb294-10"><a href="cleantool.html#cb294-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb294-11"><a href="cleantool.html#cb294-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb294-12"><a href="cleantool.html#cb294-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;DD&quot;</span>, <span class="st">&quot;W&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb294-13"><a href="cleantool.html#cb294-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb294-14"><a href="cleantool.html#cb294-14" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(<span class="at">x =</span> a_df, <span class="at">y =</span> b_df)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 4
##   A     B         C     D
##   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 a     t         1    NA
## 2 b     u         2    NA
## 3 CC    V         3    NA
## 4 a     t        NA     3
## 5 b     u        NA     2
## 6 DD    W        NA     1</code></pre>
<p><code>.id =</code>인자를 이용해 결합된 데이터프레임에 열을 생성해 결합하기 전 데이터프레임 이름을 지정할 수 있다. <code>id</code> 앞에 <code>.</code>이 있다.</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb296-1"><a href="cleantool.html#cb296-1" aria-hidden="true" tabindex="-1"></a>a_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb296-2"><a href="cleantool.html#cb296-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>C,</span>
<span id="cb296-3"><a href="cleantool.html#cb296-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb296-4"><a href="cleantool.html#cb296-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb296-5"><a href="cleantool.html#cb296-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CC&quot;</span>, <span class="st">&quot;V&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb296-6"><a href="cleantool.html#cb296-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb296-7"><a href="cleantool.html#cb296-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb296-8"><a href="cleantool.html#cb296-8" aria-hidden="true" tabindex="-1"></a>b_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb296-9"><a href="cleantool.html#cb296-9" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>D,</span>
<span id="cb296-10"><a href="cleantool.html#cb296-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb296-11"><a href="cleantool.html#cb296-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb296-12"><a href="cleantool.html#cb296-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;DD&quot;</span>, <span class="st">&quot;W&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb296-13"><a href="cleantool.html#cb296-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb296-14"><a href="cleantool.html#cb296-14" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(<span class="at">dfA =</span> a_df, <span class="at">dfB =</span> b_df, <span class="at">.id =</span> <span class="st">&quot;dfID&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 5
##   dfID  A     B         C     D
##   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 dfA   a     t         1    NA
## 2 dfA   b     u         2    NA
## 3 dfA   CC    V         3    NA
## 4 dfB   a     t        NA     3
## 5 dfB   b     u        NA     2
## 6 dfB   DD    W        NA     1</code></pre>
</div>
<div id="intersectx-y" class="section level4" number="6.2.8.2">
<h4><span class="header-section-number">6.2.8.2</span> <code>intersect(x, y)</code></h4>
<p>두 테이블에서 일치하는 행만 결합(교집합). 열의 이름과 수가 일치해야 한다.</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb298-1"><a href="cleantool.html#cb298-1" aria-hidden="true" tabindex="-1"></a>a_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb298-2"><a href="cleantool.html#cb298-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>C,</span>
<span id="cb298-3"><a href="cleantool.html#cb298-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb298-4"><a href="cleantool.html#cb298-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb298-5"><a href="cleantool.html#cb298-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CC&quot;</span>, <span class="st">&quot;V&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb298-6"><a href="cleantool.html#cb298-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb298-7"><a href="cleantool.html#cb298-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb298-8"><a href="cleantool.html#cb298-8" aria-hidden="true" tabindex="-1"></a>b_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb298-9"><a href="cleantool.html#cb298-9" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>C,</span>
<span id="cb298-10"><a href="cleantool.html#cb298-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb298-11"><a href="cleantool.html#cb298-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb298-12"><a href="cleantool.html#cb298-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;DD&quot;</span>, <span class="st">&quot;W&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb298-13"><a href="cleantool.html#cb298-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb298-14"><a href="cleantool.html#cb298-14" aria-hidden="true" tabindex="-1"></a><span class="fu">intersect</span>(<span class="at">x =</span> a_df, <span class="at">y =</span> b_df)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 3
##   A     B         C
##   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;
## 1 b     u         2</code></pre>
</div>
<div id="setdiffx-y" class="section level4" number="6.2.8.3">
<h4><span class="header-section-number">6.2.8.3</span> <code>setdiff(x, y)</code></h4>
<p>두 테이블의 행에서 아래쪽 테이블의 행은 배제하고 결합(차집합)</p>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb300-1"><a href="cleantool.html#cb300-1" aria-hidden="true" tabindex="-1"></a>a_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb300-2"><a href="cleantool.html#cb300-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>C,</span>
<span id="cb300-3"><a href="cleantool.html#cb300-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb300-4"><a href="cleantool.html#cb300-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb300-5"><a href="cleantool.html#cb300-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CC&quot;</span>, <span class="st">&quot;V&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb300-6"><a href="cleantool.html#cb300-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb300-7"><a href="cleantool.html#cb300-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb300-8"><a href="cleantool.html#cb300-8" aria-hidden="true" tabindex="-1"></a>b_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb300-9"><a href="cleantool.html#cb300-9" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>C,</span>
<span id="cb300-10"><a href="cleantool.html#cb300-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb300-11"><a href="cleantool.html#cb300-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb300-12"><a href="cleantool.html#cb300-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;DD&quot;</span>, <span class="st">&quot;W&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb300-13"><a href="cleantool.html#cb300-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb300-14"><a href="cleantool.html#cb300-14" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(<span class="at">x =</span> a_df, <span class="at">y =</span> b_df)</span></code></pre></div>
<pre><code>## # A tibble: 2 x 3
##   A     B         C
##   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;
## 1 a     t         1
## 2 CC    V         3</code></pre>
</div>
<div id="union" class="section level4" number="6.2.8.4">
<h4><span class="header-section-number">6.2.8.4</span> <code>union()</code></h4>
<p>두 테이블에서 공통적인 행 결합(합집합)</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb302-1"><a href="cleantool.html#cb302-1" aria-hidden="true" tabindex="-1"></a>a_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb302-2"><a href="cleantool.html#cb302-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>C,</span>
<span id="cb302-3"><a href="cleantool.html#cb302-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb302-4"><a href="cleantool.html#cb302-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb302-5"><a href="cleantool.html#cb302-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CC&quot;</span>, <span class="st">&quot;V&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb302-6"><a href="cleantool.html#cb302-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb302-7"><a href="cleantool.html#cb302-7" aria-hidden="true" tabindex="-1"></a>b_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb302-8"><a href="cleantool.html#cb302-8" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>C,</span>
<span id="cb302-9"><a href="cleantool.html#cb302-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb302-10"><a href="cleantool.html#cb302-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb302-11"><a href="cleantool.html#cb302-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;DD&quot;</span>, <span class="st">&quot;W&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb302-12"><a href="cleantool.html#cb302-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb302-13"><a href="cleantool.html#cb302-13" aria-hidden="true" tabindex="-1"></a><span class="fu">union</span>(<span class="at">x =</span> a_df, <span class="at">y =</span> b_df)</span></code></pre></div>
<pre><code>## # A tibble: 5 x 3
##   A     B         C
##   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;
## 1 a     t         1
## 2 b     u         2
## 3 CC    V         3
## 4 a     t         3
## 5 DD    W         1</code></pre>
</div>
</div>
<div id="테이블-결합동사열방향" class="section level3" number="6.2.9">
<h3><span class="header-section-number">6.2.9</span> 테이블 결합동사(열방향)</h3>
<p>두 테이블을 열 방향(좌우)으로 결합하는 동사들이다. 두 테이블을 단순하게 결합하는 열 결합 외에 “열추출 병합”과 “변환 병합”이 있다.</p>
<p><strong>열 결합</strong></p>
<ul>
<li><code>bind_cols()</code> 두개의 테이블을 열 방향(좌우)로 결합. 두 테이블 행의 수가 같아야 한다.</li>
</ul>
<p><strong>열 추출 병합(Filtering Join)</strong>
병합 후 왼쪽 테이블의 값만 유지</p>
<ul>
<li><p><code>anti_join()</code> 두 테이블에서 불일치하는 행만 유지. 왼쪽 데이터프레임에서 오른쪽 데이터프레임에 있는 행 내용을 제거한다.</p></li>
<li><p><code>semi_join()</code> 두 테이블에서 일치하는 행만 유지. 왼쪽 데이터프레임에서 오른쪽 데이터프레임에 있는 행 내용만 선택한다. 왼쪽 테이블 값만 유지하는 점에서 <code>inner_join()</code>과 구분된다.</p></li>
</ul>
<p><strong>변환 병합(Mutating Join)</strong>
병합 후 양쪽 테이블의 값 모두 유지</p>
<ul>
<li><p><code>inner_join()</code> 양쪽 데이터프레임에서 일치하는 행만 결합</p></li>
<li><p><code>left_join()</code> 양쪽 데이터프레임에서 일치하는 행 + 왼쪽 데이터프레임 행 유지</p></li>
<li><p><code>right_join()</code> 양쪽 데이터프레임에서 일치하는 행 + 오른쪽 데이터프레임 행 유지</p></li>
<li><p><code>full_join()</code> 양쪽 데이터프레임의 모든 행 유지 유지</p></li>
</ul>
<div id="bind_cols..." class="section level4" number="6.2.9.1">
<h4><span class="header-section-number">6.2.9.1</span> <code>bind_cols(...)</code></h4>
<p>두 데이터프레임을 단순하게 열 방향으로 결합한다.</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb304-1"><a href="cleantool.html#cb304-1" aria-hidden="true" tabindex="-1"></a>a_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb304-2"><a href="cleantool.html#cb304-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>C,</span>
<span id="cb304-3"><a href="cleantool.html#cb304-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb304-4"><a href="cleantool.html#cb304-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb304-5"><a href="cleantool.html#cb304-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CC&quot;</span>, <span class="st">&quot;V&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb304-6"><a href="cleantool.html#cb304-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb304-7"><a href="cleantool.html#cb304-7" aria-hidden="true" tabindex="-1"></a>b_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb304-8"><a href="cleantool.html#cb304-8" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>C,</span>
<span id="cb304-9"><a href="cleantool.html#cb304-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb304-10"><a href="cleantool.html#cb304-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb304-11"><a href="cleantool.html#cb304-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;DD&quot;</span>, <span class="st">&quot;W&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb304-12"><a href="cleantool.html#cb304-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb304-13"><a href="cleantool.html#cb304-13" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_cols</span>(a_df, b_df)</span></code></pre></div>
<pre><code>## New names:
## * A -&gt; A...1
## * B -&gt; B...2
## * C -&gt; C...3
## * A -&gt; A...4
## * B -&gt; B...5
## * ...</code></pre>
<pre><code>## # A tibble: 3 x 6
##   A...1 B...2 C...3 A...4 B...5 C...6
##   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;
## 1 a     t         1 a     t         3
## 2 b     u         2 b     u         2
## 3 CC    V         3 DD    W         1</code></pre>
</div>
<div id="열-추출-병합filtering-join-1" class="section level4" number="6.2.9.2">
<h4><span class="header-section-number">6.2.9.2</span> 열 추출 병합(Filtering Join)</h4>
<p>병합 후 왼쪽 테이블의 값만 유지</p>
<div id="anti_joinx-y-by-null" class="section level5" number="6.2.9.2.1">
<h5><span class="header-section-number">6.2.9.2.1</span> <code>anti_join(x, y, by = NULL)</code></h5>
<p>양쪽 데이터프레임에서 열의 이름이 값은 열의 값을 비교해 값이 다른 행만 결합한다. 왼쪽 데이터프레임에서 오른쪽 데이터프레임에 있는 행 내용을 제거할 때 사용한다.</p>
<p>불용어사전으로 불용어제거할 때 사용. 투입데이터프레임에서 불용어사전데이터프레임의 행을 배제해 결합한다.</p>
<p>결합하는 기준은 열의 이름이 같은 열이다. 아래 예시에서는 “A”열과 “B”열의 이름이 같다.</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb307-1"><a href="cleantool.html#cb307-1" aria-hidden="true" tabindex="-1"></a>a_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb307-2"><a href="cleantool.html#cb307-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>C,</span>
<span id="cb307-3"><a href="cleantool.html#cb307-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb307-4"><a href="cleantool.html#cb307-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb307-5"><a href="cleantool.html#cb307-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CC&quot;</span>, <span class="st">&quot;v&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb307-6"><a href="cleantool.html#cb307-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb307-7"><a href="cleantool.html#cb307-7" aria-hidden="true" tabindex="-1"></a>b_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb307-8"><a href="cleantool.html#cb307-8" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>D,</span>
<span id="cb307-9"><a href="cleantool.html#cb307-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb307-10"><a href="cleantool.html#cb307-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb307-11"><a href="cleantool.html#cb307-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;DD&quot;</span>, <span class="st">&quot;w&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb307-12"><a href="cleantool.html#cb307-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb307-13"><a href="cleantool.html#cb307-13" aria-hidden="true" tabindex="-1"></a><span class="fu">anti_join</span>(<span class="at">x =</span> a_df, <span class="at">y =</span> b_df)</span></code></pre></div>
<pre><code>## Joining, by = c(&quot;A&quot;, &quot;B&quot;)</code></pre>
<pre><code>## # A tibble: 1 x 3
##   A     B         C
##   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;
## 1 CC    v         3</code></pre>
<p>열의 이름이 같아도 값이 다르면 다른 행으로 취급한다.</p>
<div class="sourceCode" id="cb310"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb310-1"><a href="cleantool.html#cb310-1" aria-hidden="true" tabindex="-1"></a>a_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb310-2"><a href="cleantool.html#cb310-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>C,</span>
<span id="cb310-3"><a href="cleantool.html#cb310-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb310-4"><a href="cleantool.html#cb310-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb310-5"><a href="cleantool.html#cb310-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CC&quot;</span>, <span class="st">&quot;v&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb310-6"><a href="cleantool.html#cb310-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb310-7"><a href="cleantool.html#cb310-7" aria-hidden="true" tabindex="-1"></a>b_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb310-8"><a href="cleantool.html#cb310-8" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>D,</span>
<span id="cb310-9"><a href="cleantool.html#cb310-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb310-10"><a href="cleantool.html#cb310-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;UU&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb310-11"><a href="cleantool.html#cb310-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;DD&quot;</span>, <span class="st">&quot;w&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb310-12"><a href="cleantool.html#cb310-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb310-13"><a href="cleantool.html#cb310-13" aria-hidden="true" tabindex="-1"></a><span class="fu">anti_join</span>(<span class="at">x =</span> a_df, <span class="at">y =</span> b_df)</span></code></pre></div>
<pre><code>## Joining, by = c(&quot;A&quot;, &quot;B&quot;)</code></pre>
<pre><code>## # A tibble: 2 x 3
##   A     B         C
##   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;
## 1 b     u         2
## 2 CC    v         3</code></pre>
<p>결합하는 기준 열을 지정하려면 <code>by =</code>인자를 이용한다.</p>
<div class="sourceCode" id="cb313"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb313-1"><a href="cleantool.html#cb313-1" aria-hidden="true" tabindex="-1"></a>a_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb313-2"><a href="cleantool.html#cb313-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>C,</span>
<span id="cb313-3"><a href="cleantool.html#cb313-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb313-4"><a href="cleantool.html#cb313-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb313-5"><a href="cleantool.html#cb313-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CC&quot;</span>, <span class="st">&quot;v&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb313-6"><a href="cleantool.html#cb313-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb313-7"><a href="cleantool.html#cb313-7" aria-hidden="true" tabindex="-1"></a>b_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb313-8"><a href="cleantool.html#cb313-8" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>D,</span>
<span id="cb313-9"><a href="cleantool.html#cb313-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb313-10"><a href="cleantool.html#cb313-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;UU&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb313-11"><a href="cleantool.html#cb313-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;DD&quot;</span>, <span class="st">&quot;w&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb313-12"><a href="cleantool.html#cb313-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb313-13"><a href="cleantool.html#cb313-13" aria-hidden="true" tabindex="-1"></a><span class="fu">anti_join</span>(<span class="at">x =</span> a_df, <span class="at">y =</span> b_df, <span class="at">by =</span> <span class="st">&quot;A&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 3
##   A     B         C
##   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;
## 1 CC    v         3</code></pre>
</div>
<div id="semi_joinx-y-by-null" class="section level5" number="6.2.9.2.2">
<h5><span class="header-section-number">6.2.9.2.2</span> <code>semi_join(x, y, by = NULL)</code></h5>
<p>왼쪽 데이터프레임에서 오른쪽 데이터프레임에 있는 행 내용만 선택.</p>
<div class="sourceCode" id="cb315"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb315-1"><a href="cleantool.html#cb315-1" aria-hidden="true" tabindex="-1"></a>a_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb315-2"><a href="cleantool.html#cb315-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>C,</span>
<span id="cb315-3"><a href="cleantool.html#cb315-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb315-4"><a href="cleantool.html#cb315-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb315-5"><a href="cleantool.html#cb315-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CC&quot;</span>, <span class="st">&quot;v&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb315-6"><a href="cleantool.html#cb315-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb315-7"><a href="cleantool.html#cb315-7" aria-hidden="true" tabindex="-1"></a>b_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb315-8"><a href="cleantool.html#cb315-8" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>D,</span>
<span id="cb315-9"><a href="cleantool.html#cb315-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb315-10"><a href="cleantool.html#cb315-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb315-11"><a href="cleantool.html#cb315-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;DD&quot;</span>, <span class="st">&quot;w&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb315-12"><a href="cleantool.html#cb315-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb315-13"><a href="cleantool.html#cb315-13" aria-hidden="true" tabindex="-1"></a><span class="fu">semi_join</span>(a_df, b_df)</span></code></pre></div>
<pre><code>## Joining, by = c(&quot;A&quot;, &quot;B&quot;)</code></pre>
<pre><code>## # A tibble: 2 x 3
##   A     B         C
##   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;
## 1 a     t         1
## 2 b     u         2</code></pre>
</div>
</div>
<div id="변환-결합mutating-join" class="section level4" number="6.2.9.3">
<h4><span class="header-section-number">6.2.9.3</span> 변환 결합(Mutating Join)</h4>
<p>양쪽 테이블의 값이 병합 후 유지</p>
<div id="inner_joinx-y-by-null-suffix-c.x-.y" class="section level5" number="6.2.9.3.1">
<h5><span class="header-section-number">6.2.9.3.1</span> <code>inner_join(x, y, by = NULL, suffix = c(."x, ".y"))</code></h5>
<p>양쪽 데이터프레임에서 일치하는 행만 결합한다.</p>
<div class="sourceCode" id="cb318"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb318-1"><a href="cleantool.html#cb318-1" aria-hidden="true" tabindex="-1"></a>a_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb318-2"><a href="cleantool.html#cb318-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>C,</span>
<span id="cb318-3"><a href="cleantool.html#cb318-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb318-4"><a href="cleantool.html#cb318-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb318-5"><a href="cleantool.html#cb318-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CC&quot;</span>, <span class="st">&quot;v&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb318-6"><a href="cleantool.html#cb318-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb318-7"><a href="cleantool.html#cb318-7" aria-hidden="true" tabindex="-1"></a>b_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb318-8"><a href="cleantool.html#cb318-8" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>D,</span>
<span id="cb318-9"><a href="cleantool.html#cb318-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb318-10"><a href="cleantool.html#cb318-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb318-11"><a href="cleantool.html#cb318-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;DD&quot;</span>, <span class="st">&quot;w&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb318-12"><a href="cleantool.html#cb318-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb318-13"><a href="cleantool.html#cb318-13" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(<span class="at">x =</span> a_df, <span class="at">y =</span> b_df)</span></code></pre></div>
<pre><code>## Joining, by = c(&quot;A&quot;, &quot;B&quot;)</code></pre>
<pre><code>## # A tibble: 2 x 4
##   A     B         C     D
##   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 a     t         1     3
## 2 b     u         2     2</code></pre>
<p><code>by =</code>인자로 결합할 기준 열을 지졍하면, 지정한 열만을 기준 열로 이용한다. 중복되는 열의 이름의 접미사 기본값은 <code>.x</code>와 <code>.y</code>다.</p>
<div class="sourceCode" id="cb321"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb321-1"><a href="cleantool.html#cb321-1" aria-hidden="true" tabindex="-1"></a>a_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb321-2"><a href="cleantool.html#cb321-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>C,</span>
<span id="cb321-3"><a href="cleantool.html#cb321-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb321-4"><a href="cleantool.html#cb321-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb321-5"><a href="cleantool.html#cb321-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CC&quot;</span>, <span class="st">&quot;v&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb321-6"><a href="cleantool.html#cb321-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb321-7"><a href="cleantool.html#cb321-7" aria-hidden="true" tabindex="-1"></a>b_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb321-8"><a href="cleantool.html#cb321-8" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>D,</span>
<span id="cb321-9"><a href="cleantool.html#cb321-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb321-10"><a href="cleantool.html#cb321-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb321-11"><a href="cleantool.html#cb321-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;DD&quot;</span>, <span class="st">&quot;w&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb321-12"><a href="cleantool.html#cb321-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb321-13"><a href="cleantool.html#cb321-13" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(<span class="at">x =</span> a_df, <span class="at">y =</span> b_df, <span class="at">by =</span> <span class="st">&quot;A&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 2 x 5
##   A     B.x       C B.y       D
##   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
## 1 a     t         1 t         3
## 2 b     u         2 u         2</code></pre>
<p>중복되는 열의 이름의 접미사 기본값을 바꾸려면 <code>suffix =</code>인자를 이용한다.</p>
<div class="sourceCode" id="cb323"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb323-1"><a href="cleantool.html#cb323-1" aria-hidden="true" tabindex="-1"></a>a_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb323-2"><a href="cleantool.html#cb323-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>C,</span>
<span id="cb323-3"><a href="cleantool.html#cb323-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb323-4"><a href="cleantool.html#cb323-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb323-5"><a href="cleantool.html#cb323-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CC&quot;</span>, <span class="st">&quot;v&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb323-6"><a href="cleantool.html#cb323-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb323-7"><a href="cleantool.html#cb323-7" aria-hidden="true" tabindex="-1"></a>b_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb323-8"><a href="cleantool.html#cb323-8" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>D,</span>
<span id="cb323-9"><a href="cleantool.html#cb323-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb323-10"><a href="cleantool.html#cb323-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb323-11"><a href="cleantool.html#cb323-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;DD&quot;</span>, <span class="st">&quot;w&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb323-12"><a href="cleantool.html#cb323-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb323-13"><a href="cleantool.html#cb323-13" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(<span class="at">x =</span> a_df, <span class="at">y =</span> b_df, <span class="at">by =</span> <span class="st">&quot;A&quot;</span>, <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">&quot;_1&quot;</span>, <span class="st">&quot;_2&quot;</span> ))</span></code></pre></div>
<pre><code>## # A tibble: 2 x 5
##   A     B_1       C B_2       D
##   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
## 1 a     t         1 t         3
## 2 b     u         2 u         2</code></pre>
</div>
<div id="left_joinx-y-by-null-suffix-c.x-.y" class="section level5" number="6.2.9.3.2">
<h5><span class="header-section-number">6.2.9.3.2</span> <code>left_join(x, y, by = NULL, suffix = c(."x, ".y"))</code></h5>
<p>양쪽 데이터프레임에서 일치하는 행 + 왼쪽 데이터프레임 행 유지</p>
<div class="sourceCode" id="cb325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb325-1"><a href="cleantool.html#cb325-1" aria-hidden="true" tabindex="-1"></a>a_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb325-2"><a href="cleantool.html#cb325-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>C,</span>
<span id="cb325-3"><a href="cleantool.html#cb325-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb325-4"><a href="cleantool.html#cb325-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb325-5"><a href="cleantool.html#cb325-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CC&quot;</span>, <span class="st">&quot;v&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb325-6"><a href="cleantool.html#cb325-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb325-7"><a href="cleantool.html#cb325-7" aria-hidden="true" tabindex="-1"></a>b_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb325-8"><a href="cleantool.html#cb325-8" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>D,</span>
<span id="cb325-9"><a href="cleantool.html#cb325-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb325-10"><a href="cleantool.html#cb325-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb325-11"><a href="cleantool.html#cb325-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;DD&quot;</span>, <span class="st">&quot;w&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb325-12"><a href="cleantool.html#cb325-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb325-13"><a href="cleantool.html#cb325-13" aria-hidden="true" tabindex="-1"></a><span class="fu">left_join</span>(<span class="at">x =</span> a_df, <span class="at">y =</span> b_df)</span></code></pre></div>
<pre><code>## Joining, by = c(&quot;A&quot;, &quot;B&quot;)</code></pre>
<pre><code>## # A tibble: 3 x 4
##   A     B         C     D
##   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 a     t         1     3
## 2 b     u         2     2
## 3 CC    v         3    NA</code></pre>
</div>
<div id="right_joinx-y-by-null-suffix-c.x-.y" class="section level5" number="6.2.9.3.3">
<h5><span class="header-section-number">6.2.9.3.3</span> <code>right_join(x, y, by = NULL, suffix = c(."x, ".y"))</code></h5>
<p>양쪽 데이터프레임에서 일치하는 행 + 오른쪽 데이터프레임 행 유지</p>
<div class="sourceCode" id="cb328"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb328-1"><a href="cleantool.html#cb328-1" aria-hidden="true" tabindex="-1"></a>a_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb328-2"><a href="cleantool.html#cb328-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>C,</span>
<span id="cb328-3"><a href="cleantool.html#cb328-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb328-4"><a href="cleantool.html#cb328-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb328-5"><a href="cleantool.html#cb328-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CC&quot;</span>, <span class="st">&quot;v&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb328-6"><a href="cleantool.html#cb328-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb328-7"><a href="cleantool.html#cb328-7" aria-hidden="true" tabindex="-1"></a>b_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb328-8"><a href="cleantool.html#cb328-8" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>D,</span>
<span id="cb328-9"><a href="cleantool.html#cb328-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb328-10"><a href="cleantool.html#cb328-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb328-11"><a href="cleantool.html#cb328-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;DD&quot;</span>, <span class="st">&quot;w&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb328-12"><a href="cleantool.html#cb328-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb328-13"><a href="cleantool.html#cb328-13" aria-hidden="true" tabindex="-1"></a><span class="fu">right_join</span>(<span class="at">x =</span> a_df, <span class="at">y =</span> b_df)</span></code></pre></div>
<pre><code>## Joining, by = c(&quot;A&quot;, &quot;B&quot;)</code></pre>
<pre><code>## # A tibble: 3 x 4
##   A     B         C     D
##   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 a     t         1     3
## 2 b     u         2     2
## 3 DD    w        NA     1</code></pre>
</div>
<div id="full_joinx-y-by-null-suffix-c.x-.y" class="section level5" number="6.2.9.3.4">
<h5><span class="header-section-number">6.2.9.3.4</span> <code>full_join(x, y, by = NULL, suffix = c(."x, ".y"))</code></h5>
<p>양쪽 데이터프레임의 모든 행 유지 유지</p>
<div class="sourceCode" id="cb331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb331-1"><a href="cleantool.html#cb331-1" aria-hidden="true" tabindex="-1"></a>a_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb331-2"><a href="cleantool.html#cb331-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>C,</span>
<span id="cb331-3"><a href="cleantool.html#cb331-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb331-4"><a href="cleantool.html#cb331-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb331-5"><a href="cleantool.html#cb331-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;CC&quot;</span>, <span class="st">&quot;v&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb331-6"><a href="cleantool.html#cb331-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb331-7"><a href="cleantool.html#cb331-7" aria-hidden="true" tabindex="-1"></a>b_df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb331-8"><a href="cleantool.html#cb331-8" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>A, <span class="sc">~</span>B, <span class="sc">~</span>D,</span>
<span id="cb331-9"><a href="cleantool.html#cb331-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span>, <span class="st">&quot;t&quot;</span>, <span class="dv">3</span>,</span>
<span id="cb331-10"><a href="cleantool.html#cb331-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span>, <span class="st">&quot;u&quot;</span>, <span class="dv">2</span>,</span>
<span id="cb331-11"><a href="cleantool.html#cb331-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;DD&quot;</span>, <span class="st">&quot;w&quot;</span>, <span class="dv">1</span>,</span>
<span id="cb331-12"><a href="cleantool.html#cb331-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb331-13"><a href="cleantool.html#cb331-13" aria-hidden="true" tabindex="-1"></a><span class="fu">full_join</span>(<span class="at">x =</span> a_df, <span class="at">y =</span> b_df)</span></code></pre></div>
<pre><code>## Joining, by = c(&quot;A&quot;, &quot;B&quot;)</code></pre>
<pre><code>## # A tibble: 4 x 4
##   A     B         C     D
##   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 a     t         1     3
## 2 b     u         2     2
## 3 CC    v         3    NA
## 4 DD    w        NA     1</code></pre>
</div>
</div>
</div>
<div id="연습1" class="section level3" number="6.2.10">
<h3><span class="header-section-number">6.2.10</span> 연습1</h3>
<ol style="list-style-type: decimal">
<li><code>stop_words</code>는 불용어가 포함돼 있는 데이터프레임이다. 셰익스피어의 <소네트27>과 <code>stop_words</code>을 <code>_join()</code>해 불용어를 제거하려고 한다. 어느 <code>_join()</code>을 이용해야 하는가?</li>
</ol>
<ul>
<li>semi_join</li>
<li>anti_join</li>
<li>inner_join</li>
<li>left_join</li>
<li>right_join</li>
<li>full_join</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li><소네트27>에서 불용어를 제거한 다음 단어 빈도를 계산해 막대도표로 시각화 하시오.</li>
</ol>
<div class="sourceCode" id="cb334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb334-1"><a href="cleantool.html#cb334-1" aria-hidden="true" tabindex="-1"></a>sonnet27_v <span class="ot">&lt;-</span> <span class="st">&quot;Weary with toil I haste me to my bed,</span></span>
<span id="cb334-2"><a href="cleantool.html#cb334-2" aria-hidden="true" tabindex="-1"></a><span class="st">The dear repose for limbs with travel tired;</span></span>
<span id="cb334-3"><a href="cleantool.html#cb334-3" aria-hidden="true" tabindex="-1"></a><span class="st">But then begins a journey in my head</span></span>
<span id="cb334-4"><a href="cleantool.html#cb334-4" aria-hidden="true" tabindex="-1"></a><span class="st">To work my mind when body&#39;s work&#39;s expired;</span></span>
<span id="cb334-5"><a href="cleantool.html#cb334-5" aria-hidden="true" tabindex="-1"></a><span class="st">For then my thoughts, from far where I abide,</span></span>
<span id="cb334-6"><a href="cleantool.html#cb334-6" aria-hidden="true" tabindex="-1"></a><span class="st">Intend a zealous pilgrimage to thee,</span></span>
<span id="cb334-7"><a href="cleantool.html#cb334-7" aria-hidden="true" tabindex="-1"></a><span class="st">And keep my drooping eyelids open wide</span></span>
<span id="cb334-8"><a href="cleantool.html#cb334-8" aria-hidden="true" tabindex="-1"></a><span class="st">Looking on darkness which the blind do see:</span></span>
<span id="cb334-9"><a href="cleantool.html#cb334-9" aria-hidden="true" tabindex="-1"></a><span class="st">Save that my soul&#39;s imaginary sight</span></span>
<span id="cb334-10"><a href="cleantool.html#cb334-10" aria-hidden="true" tabindex="-1"></a><span class="st">Presents thy shadow to my sightless view,</span></span>
<span id="cb334-11"><a href="cleantool.html#cb334-11" aria-hidden="true" tabindex="-1"></a><span class="st">Which like a jewel hung in ghastly night</span></span>
<span id="cb334-12"><a href="cleantool.html#cb334-12" aria-hidden="true" tabindex="-1"></a><span class="st">Makes black night beauteous and her old face new.</span></span>
<span id="cb334-13"><a href="cleantool.html#cb334-13" aria-hidden="true" tabindex="-1"></a><span class="st">Lo! thus by day my limbs, by night my mind,</span></span>
<span id="cb334-14"><a href="cleantool.html#cb334-14" aria-hidden="true" tabindex="-1"></a><span class="st">For thee, and for myself, no quietness find.&quot;</span></span>
<span id="cb334-15"><a href="cleantool.html#cb334-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb334-16"><a href="cleantool.html#cb334-16" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> sonnet27_v) <span class="sc">%&gt;%</span> </span>
<span id="cb334-17"><a href="cleantool.html#cb334-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span> </span>
<span id="cb334-18"><a href="cleantool.html#cb334-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(stop_words) <span class="sc">%&gt;%</span> </span>
<span id="cb334-19"><a href="cleantool.html#cb334-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb334-20"><a href="cleantool.html#cb334-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb334-21"><a href="cleantool.html#cb334-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">reorder</span>(word, n)) <span class="sc">%&gt;%</span> </span>
<span id="cb334-22"><a href="cleantool.html#cb334-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_col</span>(<span class="fu">aes</span>(word, n)) <span class="sc">+</span> </span>
<span id="cb334-23"><a href="cleantool.html#cb334-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb334-24"><a href="cleantool.html#cb334-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Sonnet27 Word Frequency&quot;</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<p><img src="bookdown-demo_files/figure-html/ctl98-1.png" width="672" /></p>
<ol start="3" style="list-style-type: decimal">
<li><code>textdata</code>패키지를 설치한다. `get_sentments()함수를 이용해 3종(“afinn,” “bing,” “nrc”)의 영문 감정어의 구조를 파악하자. 처음 설치하고 실행한다면, 사전 다운로드를 할것인지 묻는다. “1: Yes”를 선택해 다운로드 받는다.</li>
</ol>
<div class="sourceCode" id="cb336"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb336-1"><a href="cleantool.html#cb336-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;textdata&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb337"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb337-1"><a href="cleantool.html#cb337-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span>
<span id="cb337-2"><a href="cleantool.html#cb337-2" aria-hidden="true" tabindex="-1"></a><span class="fu">get_sentiments</span>(<span class="st">&quot;afinn&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 2,477 x 2
##    word       value
##    &lt;chr&gt;      &lt;dbl&gt;
##  1 abandon       -2
##  2 abandoned     -2
##  3 abandons      -2
##  4 abducted      -2
##  5 abduction     -2
##  6 abductions    -2
##  7 abhor         -3
##  8 abhorred      -3
##  9 abhorrent     -3
## 10 abhors        -3
## # ... with 2,467 more rows</code></pre>
<div class="sourceCode" id="cb339"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb339-1"><a href="cleantool.html#cb339-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_sentiments</span>(<span class="st">&quot;bing&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 6,786 x 2
##    word        sentiment
##    &lt;chr&gt;       &lt;chr&gt;    
##  1 2-faces     negative 
##  2 abnormal    negative 
##  3 abolish     negative 
##  4 abominable  negative 
##  5 abominably  negative 
##  6 abominate   negative 
##  7 abomination negative 
##  8 abort       negative 
##  9 aborted     negative 
## 10 aborts      negative 
## # ... with 6,776 more rows</code></pre>
<div class="sourceCode" id="cb341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb341-1"><a href="cleantool.html#cb341-1" aria-hidden="true" tabindex="-1"></a><span class="fu">get_sentiments</span>(<span class="st">&quot;nrc&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 13,901 x 2
##    word        sentiment
##    &lt;chr&gt;       &lt;chr&gt;    
##  1 abacus      trust    
##  2 abandon     fear     
##  3 abandon     negative 
##  4 abandon     sadness  
##  5 abandoned   anger    
##  6 abandoned   fear     
##  7 abandoned   negative 
##  8 abandoned   sadness  
##  9 abandonment anger    
## 10 abandonment fear     
## # ... with 13,891 more rows</code></pre>
<p>세 감정사전 모두 word열에 감정어가 들어 있다. afinn에는 감정 값이 숫자형으로 value열에 저장돼 있다. bing과 nrc에는 감정 값이 문자형으로 sentiment열에 저장돼 있다.</p>
<ol start="4" style="list-style-type: decimal">
<li>셰익스피어 afinn감정사전과 소네트27을 결합해 소네트27의 감정단어를 추출해 감정단어 빈도를 계산하려고한다. 다음 중 어느 <code>_join()</code>을 이용해야 할까? 왜?</li>
</ol>
<ul>
<li>semi_join</li>
<li>anti_join</li>
<li>inner_join</li>
<li>left_join</li>
<li>right_join</li>
<li>full_join</li>
</ul>
<p>만일, <code>semi_join()</code>을 선택했다면 왜 적절한선택이 아닐까 잘 생각해 보자. 감정사전에 있는 감정 값을 유지하려면 <code>inner_join()</code>을 해야 한다.</p>
<ol start="5" style="list-style-type: decimal">
<li>afinn bing nrc감정사전을 이용해 <소네트27>에 어떤 감정단어가 사용됐는지 살펴보자.</li>
</ol>
<div class="sourceCode" id="cb343"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb343-1"><a href="cleantool.html#cb343-1" aria-hidden="true" tabindex="-1"></a>sonnet27_tk <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">text =</span> sonnet27_v) <span class="sc">%&gt;%</span> </span>
<span id="cb343-2"><a href="cleantool.html#cb343-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text)</span>
<span id="cb343-3"><a href="cleantool.html#cb343-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb343-4"><a href="cleantool.html#cb343-4" aria-hidden="true" tabindex="-1"></a>sonnet27_tk <span class="sc">%&gt;%</span> <span class="fu">inner_join</span>(<span class="fu">get_sentiments</span>(<span class="st">&quot;afinn&quot;</span>)) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(value))</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<pre><code>## # A tibble: 10 x 2
##    word     value
##    &lt;chr&gt;    &lt;dbl&gt;
##  1 dear         2
##  2 zealous      2
##  3 save         2
##  4 like         2
##  5 jewel        1
##  6 darkness    -1
##  7 blind       -1
##  8 no          -1
##  9 weary       -2
## 10 tired       -2</code></pre>
<div class="sourceCode" id="cb346"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb346-1"><a href="cleantool.html#cb346-1" aria-hidden="true" tabindex="-1"></a>sonnet27_tk <span class="sc">%&gt;%</span> <span class="fu">inner_join</span>(<span class="fu">get_sentiments</span>(<span class="st">&quot;bing&quot;</span>)) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(sentiment))</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<pre><code>## # A tibble: 14 x 2
##    word      sentiment
##    &lt;chr&gt;     &lt;chr&gt;    
##  1 work      positive 
##  2 like      positive 
##  3 beauteous positive 
##  4 weary     negative 
##  5 toil      negative 
##  6 haste     negative 
##  7 tired     negative 
##  8 expired   negative 
##  9 zealous   negative 
## 10 darkness  negative 
## 11 blind     negative 
## 12 imaginary negative 
## 13 hung      negative 
## 14 ghastly   negative</code></pre>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="cleantool.html#cb349-1" aria-hidden="true" tabindex="-1"></a>sonnet27_tk <span class="sc">%&gt;%</span> <span class="fu">inner_join</span>(<span class="fu">get_sentiments</span>(<span class="st">&quot;nrc&quot;</span>)) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(sentiment))</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<pre><code>## # A tibble: 29 x 2
##    word     sentiment
##    &lt;chr&gt;    &lt;chr&gt;    
##  1 intend   trust    
##  2 zealous  trust    
##  3 save     trust    
##  4 weary    sadness  
##  5 darkness sadness  
##  6 black    sadness  
##  7 dear     positive 
##  8 repose   positive 
##  9 journey  positive 
## 10 zealous  positive 
## # ... with 19 more rows</code></pre>
<ol start="6" style="list-style-type: decimal">
<li><소네트27>에서 각 감정별로 등장한 빈도도 살펴보자.</li>
</ol>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="cleantool.html#cb352-1" aria-hidden="true" tabindex="-1"></a>sonnet27_tk <span class="sc">%&gt;%</span> <span class="fu">inner_join</span>(<span class="fu">get_sentiments</span>(<span class="st">&quot;afinn&quot;</span>)) <span class="sc">%&gt;%</span> <span class="fu">count</span>(value)</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<pre><code>## # A tibble: 4 x 2
##   value     n
##   &lt;dbl&gt; &lt;int&gt;
## 1    -2     2
## 2    -1     3
## 3     1     1
## 4     2     4</code></pre>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="cleantool.html#cb355-1" aria-hidden="true" tabindex="-1"></a>sonnet27_tk <span class="sc">%&gt;%</span> <span class="fu">inner_join</span>(<span class="fu">get_sentiments</span>(<span class="st">&quot;bing&quot;</span>)) <span class="sc">%&gt;%</span> <span class="fu">count</span>(sentiment)</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<pre><code>## # A tibble: 2 x 2
##   sentiment     n
##   &lt;chr&gt;     &lt;int&gt;
## 1 negative     11
## 2 positive      3</code></pre>
<div class="sourceCode" id="cb358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb358-1"><a href="cleantool.html#cb358-1" aria-hidden="true" tabindex="-1"></a>sonnet27_tk <span class="sc">%&gt;%</span> <span class="fu">inner_join</span>(<span class="fu">get_sentiments</span>(<span class="st">&quot;nrc&quot;</span>)) <span class="sc">%&gt;%</span> <span class="fu">count</span>(sentiment)</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<pre><code>## # A tibble: 9 x 2
##   sentiment        n
##   &lt;chr&gt;        &lt;int&gt;
## 1 anger            1
## 2 anticipation     2
## 3 disgust          1
## 4 fear             3
## 5 joy              3
## 6 negative         8
## 7 positive         5
## 8 sadness          3
## 9 trust            3</code></pre>
<ol start="7" style="list-style-type: decimal">
<li>3종의 감정사전로 추출한 <소네트27>의 감정단어를 각각 sonnet27_afinn, sonnet27_bing, sonnet27_nrc에 할당하자.</li>
</ol>
<div class="sourceCode" id="cb361"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb361-1"><a href="cleantool.html#cb361-1" aria-hidden="true" tabindex="-1"></a>sonnet27_afinn <span class="ot">&lt;-</span> sonnet27_tk <span class="sc">%&gt;%</span> <span class="fu">inner_join</span>(<span class="fu">get_sentiments</span>(<span class="st">&quot;afinn&quot;</span>))</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<div class="sourceCode" id="cb363"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb363-1"><a href="cleantool.html#cb363-1" aria-hidden="true" tabindex="-1"></a>sonnet27_bing <span class="ot">&lt;-</span> sonnet27_tk <span class="sc">%&gt;%</span> <span class="fu">inner_join</span>(<span class="fu">get_sentiments</span>(<span class="st">&quot;bing&quot;</span>)) </span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<div class="sourceCode" id="cb365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb365-1"><a href="cleantool.html#cb365-1" aria-hidden="true" tabindex="-1"></a>sonnet27_nrc <span class="ot">&lt;-</span> sonnet27_tk <span class="sc">%&gt;%</span> <span class="fu">inner_join</span>(<span class="fu">get_sentiments</span>(<span class="st">&quot;nrc&quot;</span>)) </span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<ol start="8" style="list-style-type: decimal">
<li>3종의 사전에 공통적으로 등장하는 감정단어를 찾고 싶다. 어느 <code>_join()</code>을 이용해야 할까?</li>
</ol>
<ul>
<li>semi_join</li>
<li>anti_join</li>
<li>inner_join</li>
<li>left_join</li>
<li>right_join</li>
<li>full_join</li>
</ul>
<ol start="9" style="list-style-type: decimal">
<li>3종의 사전을 각각 결합해 공통적으로 등장하는 감정단어를 살펴보자. 먼저 각각 2종씩결합해보자.</li>
</ol>
<div class="sourceCode" id="cb367"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb367-1"><a href="cleantool.html#cb367-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(sonnet27_afinn, sonnet27_bing)</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<pre><code>## # A tibble: 6 x 3
##   word     value sentiment
##   &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;    
## 1 weary       -2 negative 
## 2 tired       -2 negative 
## 3 zealous      2 negative 
## 4 darkness    -1 negative 
## 5 blind       -1 negative 
## 6 like         2 positive</code></pre>
<div class="sourceCode" id="cb370"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb370-1"><a href="cleantool.html#cb370-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(sonnet27_afinn, sonnet27_nrc)</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<pre><code>## # A tibble: 15 x 3
##    word     value sentiment
##    &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;    
##  1 weary       -2 negative 
##  2 weary       -2 sadness  
##  3 dear         2 positive 
##  4 tired       -2 negative 
##  5 zealous      2 joy      
##  6 zealous      2 positive 
##  7 zealous      2 trust    
##  8 darkness    -1 anger    
##  9 darkness    -1 fear     
## 10 darkness    -1 negative 
## 11 darkness    -1 sadness  
## 12 blind       -1 negative 
## 13 save         2 joy      
## 14 save         2 positive 
## 15 save         2 trust</code></pre>
<div class="sourceCode" id="cb373"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb373-1"><a href="cleantool.html#cb373-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(sonnet27_bing, sonnet27_nrc)</span></code></pre></div>
<pre><code>## Joining, by = c(&quot;word&quot;, &quot;sentiment&quot;)</code></pre>
<pre><code>## # A tibble: 6 x 2
##   word     sentiment
##   &lt;chr&gt;    &lt;chr&gt;    
## 1 weary    negative 
## 2 tired    negative 
## 3 expired  negative 
## 4 darkness negative 
## 5 blind    negative 
## 6 ghastly  negative</code></pre>
<p>bing과 nrc는 열의 이름이 sentiment로 동일해 bing의 값만 남고, nrc의 값은 사라졌다. <code>by =</code>인자로 공통된 열을 지정하면, 공통되지 않은 열이 유지된다.</p>
<div class="sourceCode" id="cb376"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb376-1"><a href="cleantool.html#cb376-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(sonnet27_bing, sonnet27_nrc, </span>
<span id="cb376-2"><a href="cleantool.html#cb376-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">by =</span> <span class="st">&quot;word&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 16 x 3
##    word     sentiment.x sentiment.y 
##    &lt;chr&gt;    &lt;chr&gt;       &lt;chr&gt;       
##  1 weary    negative    negative    
##  2 weary    negative    sadness     
##  3 haste    negative    anticipation
##  4 tired    negative    negative    
##  5 expired  negative    negative    
##  6 zealous  negative    joy         
##  7 zealous  negative    positive    
##  8 zealous  negative    trust       
##  9 darkness negative    anger       
## 10 darkness negative    fear        
## 11 darkness negative    negative    
## 12 darkness negative    sadness     
## 13 blind    negative    negative    
## 14 ghastly  negative    disgust     
## 15 ghastly  negative    fear        
## 16 ghastly  negative    negative</code></pre>
<ol start="10" style="list-style-type: decimal">
<li>새로 생긴 열의 이름에 어느 사전에 있었던 것이지 표시하고 싶다. <code>suffix =</code>인자를 이용해보자.</li>
</ol>
<div class="sourceCode" id="cb378"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb378-1"><a href="cleantool.html#cb378-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(sonnet27_bing, sonnet27_nrc, </span>
<span id="cb378-2"><a href="cleantool.html#cb378-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">by =</span> <span class="st">&quot;word&quot;</span>, </span>
<span id="cb378-3"><a href="cleantool.html#cb378-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">&quot;_bing&quot;</span>, <span class="st">&quot;_nrc&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 16 x 3
##    word     sentiment_bing sentiment_nrc
##    &lt;chr&gt;    &lt;chr&gt;          &lt;chr&gt;        
##  1 weary    negative       negative     
##  2 weary    negative       sadness      
##  3 haste    negative       anticipation 
##  4 tired    negative       negative     
##  5 expired  negative       negative     
##  6 zealous  negative       joy          
##  7 zealous  negative       positive     
##  8 zealous  negative       trust        
##  9 darkness negative       anger        
## 10 darkness negative       fear         
## 11 darkness negative       negative     
## 12 darkness negative       sadness      
## 13 blind    negative       negative     
## 14 ghastly  negative       disgust      
## 15 ghastly  negative       fear         
## 16 ghastly  negative       negative</code></pre>
<ol start="11" style="list-style-type: decimal">
<li>사전3종의 결과를 모두 결합해보자.</li>
</ol>
<div class="sourceCode" id="cb380"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb380-1"><a href="cleantool.html#cb380-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(sonnet27_afinn, sonnet27_bing) <span class="sc">%&gt;%</span> </span>
<span id="cb380-2"><a href="cleantool.html#cb380-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(sonnet27_nrc, <span class="at">by =</span> <span class="st">&quot;word&quot;</span>, <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">&quot;_bing&quot;</span>, <span class="st">&quot;_nrc&quot;</span>))</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<pre><code>## # A tibble: 11 x 4
##    word     value sentiment_bing sentiment_nrc
##    &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;          &lt;chr&gt;        
##  1 weary       -2 negative       negative     
##  2 weary       -2 negative       sadness      
##  3 tired       -2 negative       negative     
##  4 zealous      2 negative       joy          
##  5 zealous      2 negative       positive     
##  6 zealous      2 negative       trust        
##  7 darkness    -1 negative       anger        
##  8 darkness    -1 negative       fear         
##  9 darkness    -1 negative       negative     
## 10 darkness    -1 negative       sadness      
## 11 blind       -1 negative       negative</code></pre>
<p>사전마다 감정단어의 극성에 대한 값이 조금씩 다르다. 특히, zealous는 afin과 nrc는 긍정감정으로 분류했는데, bing은 부정감정으로 취급했다.</p>
<ol start="12" style="list-style-type: decimal">
<li>3종의 감정사전에 모두 들어 있는 감정단어를 보고 싶다. 어느 결합을 이용해야 할까?</li>
</ol>
<ul>
<li>semi_join</li>
<li>anti_join</li>
<li>inner_join</li>
<li>left_join</li>
<li>right_join</li>
<li>full_join</li>
</ul>
<ol start="12" style="list-style-type: decimal">
<li>3종의 사전에 모두 포함된 감정단어를 추출해보자.</li>
</ol>
<div class="sourceCode" id="cb383"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb383-1"><a href="cleantool.html#cb383-1" aria-hidden="true" tabindex="-1"></a>full_dic <span class="ot">&lt;-</span> <span class="fu">full_join</span>(sonnet27_afinn, sonnet27_bing) <span class="sc">%&gt;%</span> </span>
<span id="cb383-2"><a href="cleantool.html#cb383-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">full_join</span>(sonnet27_nrc, <span class="at">by =</span> <span class="st">&quot;word&quot;</span>, <span class="at">suffix =</span> <span class="fu">c</span>(<span class="st">&quot;_bing&quot;</span>, <span class="st">&quot;_nrc&quot;</span>))</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<div class="sourceCode" id="cb385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb385-1"><a href="cleantool.html#cb385-1" aria-hidden="true" tabindex="-1"></a>full_dic</span></code></pre></div>
<pre><code>## # A tibble: 37 x 4
##    word     value sentiment_bing sentiment_nrc
##    &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;          &lt;chr&gt;        
##  1 weary       -2 negative       negative     
##  2 weary       -2 negative       sadness      
##  3 dear         2 &lt;NA&gt;           positive     
##  4 tired       -2 negative       negative     
##  5 zealous      2 negative       joy          
##  6 zealous      2 negative       positive     
##  7 zealous      2 negative       trust        
##  8 darkness    -1 negative       anger        
##  9 darkness    -1 negative       fear         
## 10 darkness    -1 negative       negative     
## # ... with 27 more rows</code></pre>
<ol start="13" style="list-style-type: decimal">
<li>3종 사전을 결합한 사전을 이용해 <소네트27>에 등장한 감정단어의 빈도를 계산하시오.</li>
</ol>
<div class="sourceCode" id="cb387"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb387-1"><a href="cleantool.html#cb387-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> sonnet27_v) <span class="sc">%&gt;%</span> </span>
<span id="cb387-2"><a href="cleantool.html#cb387-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span> </span>
<span id="cb387-3"><a href="cleantool.html#cb387-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(full_dic) <span class="sc">%&gt;%</span> </span>
<span id="cb387-4"><a href="cleantool.html#cb387-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span> </span>
<span id="cb387-5"><a href="cleantool.html#cb387-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb387-6"><a href="cleantool.html#cb387-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">reorder</span>(word, n)) <span class="sc">%&gt;%</span> </span>
<span id="cb387-7"><a href="cleantool.html#cb387-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_col</span>(<span class="fu">aes</span>(word, n)) <span class="sc">+</span> </span>
<span id="cb387-8"><a href="cleantool.html#cb387-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span> </span>
<span id="cb387-9"><a href="cleantool.html#cb387-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Sonnet27 Emotion Words&quot;</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<p><img src="bookdown-demo_files/figure-html/ctl109-1.png" width="672" /></p>
<ol start="14" style="list-style-type: decimal">
<li>bing과 nrc사전을 행방향으로 결합한 결과와 열방향으로 결합한 결과를 비교해보자.</li>
</ol>
<div class="sourceCode" id="cb389"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb389-1"><a href="cleantool.html#cb389-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb389-2"><a href="cleantool.html#cb389-2" aria-hidden="true" tabindex="-1"></a><span class="fu">bind_rows</span>(<span class="at">BING =</span> sonnet27_bing, <span class="at">NRC =</span> sonnet27_nrc, <span class="at">.id =</span> <span class="st">&quot;DIC&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 43 x 3
##    DIC   word      sentiment
##    &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;    
##  1 BING  weary     negative 
##  2 BING  toil      negative 
##  3 BING  haste     negative 
##  4 BING  tired     negative 
##  5 BING  work      positive 
##  6 BING  expired   negative 
##  7 BING  zealous   negative 
##  8 BING  darkness  negative 
##  9 BING  blind     negative 
## 10 BING  imaginary negative 
## # ... with 33 more rows</code></pre>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb391-1"><a href="cleantool.html#cb391-1" aria-hidden="true" tabindex="-1"></a><span class="fu">full_join</span>(sonnet27_bing, sonnet27_nrc, <span class="at">by =</span> <span class="st">&quot;word&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 35 x 3
##    word    sentiment.x sentiment.y 
##    &lt;chr&gt;   &lt;chr&gt;       &lt;chr&gt;       
##  1 weary   negative    negative    
##  2 weary   negative    sadness     
##  3 toil    negative    &lt;NA&gt;        
##  4 haste   negative    anticipation
##  5 tired   negative    negative    
##  6 work    positive    &lt;NA&gt;        
##  7 expired negative    negative    
##  8 zealous negative    joy         
##  9 zealous negative    positive    
## 10 zealous negative    trust       
## # ... with 25 more rows</code></pre>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb393-1"><a href="cleantool.html#cb393-1" aria-hidden="true" tabindex="-1"></a><span class="fu">intersect</span>(sonnet27_bing, sonnet27_nrc)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 2
##   word     sentiment
##   &lt;chr&gt;    &lt;chr&gt;    
## 1 weary    negative 
## 2 tired    negative 
## 3 expired  negative 
## 4 darkness negative 
## 5 blind    negative 
## 6 ghastly  negative</code></pre>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb395-1"><a href="cleantool.html#cb395-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(sonnet27_bing, sonnet27_nrc, <span class="at">by =</span> <span class="st">&quot;word&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 16 x 3
##    word     sentiment.x sentiment.y 
##    &lt;chr&gt;    &lt;chr&gt;       &lt;chr&gt;       
##  1 weary    negative    negative    
##  2 weary    negative    sadness     
##  3 haste    negative    anticipation
##  4 tired    negative    negative    
##  5 expired  negative    negative    
##  6 zealous  negative    joy         
##  7 zealous  negative    positive    
##  8 zealous  negative    trust       
##  9 darkness negative    anger       
## 10 darkness negative    fear        
## 11 darkness negative    negative    
## 12 darkness negative    sadness     
## 13 blind    negative    negative    
## 14 ghastly  negative    disgust     
## 15 ghastly  negative    fear        
## 16 ghastly  negative    negative</code></pre>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb397-1"><a href="cleantool.html#cb397-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(sonnet27_bing, sonnet27_nrc, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;word&quot;</span>, <span class="st">&quot;sentiment&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 6 x 2
##   word     sentiment
##   &lt;chr&gt;    &lt;chr&gt;    
## 1 weary    negative 
## 2 tired    negative 
## 3 expired  negative 
## 4 darkness negative 
## 5 blind    negative 
## 6 ghastly  negative</code></pre>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb399-1"><a href="cleantool.html#cb399-1" aria-hidden="true" tabindex="-1"></a><span class="fu">semi_join</span>(sonnet27_bing, sonnet27_nrc)</span></code></pre></div>
<pre><code>## Joining, by = c(&quot;word&quot;, &quot;sentiment&quot;)</code></pre>
<pre><code>## # A tibble: 6 x 2
##   word     sentiment
##   &lt;chr&gt;    &lt;chr&gt;    
## 1 weary    negative 
## 2 tired    negative 
## 3 expired  negative 
## 4 darkness negative 
## 5 blind    negative 
## 6 ghastly  negative</code></pre>
<div class="sourceCode" id="cb402"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb402-1"><a href="cleantool.html#cb402-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setdiff</span>(sonnet27_bing, sonnet27_nrc)</span></code></pre></div>
<pre><code>## # A tibble: 8 x 2
##   word      sentiment
##   &lt;chr&gt;     &lt;chr&gt;    
## 1 toil      negative 
## 2 haste     negative 
## 3 work      positive 
## 4 zealous   negative 
## 5 imaginary negative 
## 6 like      positive 
## 7 hung      negative 
## 8 beauteous positive</code></pre>
<div class="sourceCode" id="cb404"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb404-1"><a href="cleantool.html#cb404-1" aria-hidden="true" tabindex="-1"></a><span class="fu">union</span>(sonnet27_bing, sonnet27_nrc)</span></code></pre></div>
<pre><code>## # A tibble: 37 x 2
##    word      sentiment
##    &lt;chr&gt;     &lt;chr&gt;    
##  1 weary     negative 
##  2 toil      negative 
##  3 haste     negative 
##  4 tired     negative 
##  5 work      positive 
##  6 expired   negative 
##  7 zealous   negative 
##  8 darkness  negative 
##  9 blind     negative 
## 10 imaginary negative 
## # ... with 27 more rows</code></pre>
</div>
<div id="연습2" class="section level3" number="6.2.11">
<h3><span class="header-section-number">6.2.11</span> 연습2</h3>
<p>소설 <a href="https://www.gutenberg.org/ebooks/1342">&lt;오만과 편견(Pride and Prejudice)&gt;</a>에서 감정사전bing을 이용해 긍정감정과 부정감정 단어의 빈도를 막대도표로 시각화해보자.</p>
<p>먼저 텍스트를 확보해 문자벡터로 저장한 다음 구조를 살펴보자.</p>
<div class="sourceCode" id="cb406"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb406-1"><a href="cleantool.html#cb406-1" aria-hidden="true" tabindex="-1"></a>pp_v <span class="ot">&lt;-</span> <span class="fu">read_lines</span>(<span class="st">&quot;https://www.gutenberg.org/files/1342/1342-0.txt&quot;</span>)</span>
<span id="cb406-2"><a href="cleantool.html#cb406-2" aria-hidden="true" tabindex="-1"></a>pp_v <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>##  chr [1:14580] &quot;The Project Gutenberg eBook of Pride and Prejudice, by Jane Austen&quot; ...</code></pre>
<div class="sourceCode" id="cb408"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb408-1"><a href="cleantool.html#cb408-1" aria-hidden="true" tabindex="-1"></a>pp_v[<span class="dv">500</span><span class="sc">:</span><span class="dv">510</span>]</span></code></pre></div>
<pre><code>##  [1] &quot;      “for a kingdom! Upon my honour, I never met with so many pleasant&quot; 
##  [2] &quot;      girls in my life as I have this evening; and there are several of&quot;  
##  [3] &quot;      them you see uncommonly pretty.”&quot;                                  
##  [4] &quot;&quot;                                                                         
##  [5] &quot;      “_You_ are dancing with the only handsome girl in the room,” said&quot;
##  [6] &quot;      Mr. Darcy, looking at the eldest Miss Bennet.&quot;                      
##  [7] &quot;&quot;                                                                         
##  [8] &quot;      “Oh! She is the most beautiful creature I ever beheld! But there&quot;  
##  [9] &quot;      is one of her sisters sitting down just behind you, who is very&quot;    
## [10] &quot;      pretty, and I dare say very agreeable. Do let me ask my partner&quot;    
## [11] &quot;      to introduce you.”&quot;</code></pre>
<p>문자벡터를 토큰화하고 감정사전 bing을 이용해 감정어를 추출한다.</p>
<div class="sourceCode" id="cb410"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb410-1"><a href="cleantool.html#cb410-1" aria-hidden="true" tabindex="-1"></a>pp_bing <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">text =</span> pp_v) <span class="sc">%&gt;%</span> </span>
<span id="cb410-2"><a href="cleantool.html#cb410-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span></span>
<span id="cb410-3"><a href="cleantool.html#cb410-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(<span class="fu">get_sentiments</span>(<span class="st">&quot;bing&quot;</span>))</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<div class="sourceCode" id="cb412"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb412-1"><a href="cleantool.html#cb412-1" aria-hidden="true" tabindex="-1"></a>pp_bing[<span class="dv">100</span><span class="sc">:</span><span class="dv">110</span>,]</span></code></pre></div>
<pre><code>## # A tibble: 11 x 2
##    word         sentiment
##    &lt;chr&gt;        &lt;chr&gt;    
##  1 fatigued     negative 
##  2 excellent    positive 
##  3 kindness     positive 
##  4 pleasant     positive 
##  5 love         positive 
##  6 afraid       negative 
##  7 sufficient   positive 
##  8 satisfactory positive 
##  9 ingenious    positive 
## 10 skill        positive 
## 11 intelligence positive</code></pre>
<p>감정어의 빈도를 막대도표로 시각화한다.</p>
<div class="sourceCode" id="cb414"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb414-1"><a href="cleantool.html#cb414-1" aria-hidden="true" tabindex="-1"></a>pp_bing <span class="sc">%&gt;%</span></span>
<span id="cb414-2"><a href="cleantool.html#cb414-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, sentiment, <span class="at">sort =</span> <span class="cn">TRUE</span> ) <span class="sc">%&gt;%</span> </span>
<span id="cb414-3"><a href="cleantool.html#cb414-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sentiment) <span class="sc">%&gt;%</span> </span>
<span id="cb414-4"><a href="cleantool.html#cb414-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(n, <span class="at">n =</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb414-5"><a href="cleantool.html#cb414-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">reorder</span>(word, n)) <span class="sc">%&gt;%</span> </span>
<span id="cb414-6"><a href="cleantool.html#cb414-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_col</span>(<span class="fu">aes</span>(word, n, <span class="at">fill =</span> sentiment)) <span class="sc">+</span></span>
<span id="cb414-7"><a href="cleantool.html#cb414-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/ctl113-1.png" width="672" /></p>
<p>긍정어와 부정어를 구분해서 시각화 해보자. <code>ggplot2</code>패키지의 <code>facet_wrap()</code>함수를 이용한다.</p>
<div class="sourceCode" id="cb415"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb415-1"><a href="cleantool.html#cb415-1" aria-hidden="true" tabindex="-1"></a>pp_bing <span class="sc">%&gt;%</span></span>
<span id="cb415-2"><a href="cleantool.html#cb415-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, sentiment, <span class="at">sort =</span> <span class="cn">TRUE</span> ) <span class="sc">%&gt;%</span> </span>
<span id="cb415-3"><a href="cleantool.html#cb415-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sentiment) <span class="sc">%&gt;%</span> </span>
<span id="cb415-4"><a href="cleantool.html#cb415-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(n, <span class="at">n =</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb415-5"><a href="cleantool.html#cb415-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">reorder</span>(word, n)) <span class="sc">%&gt;%</span> </span>
<span id="cb415-6"><a href="cleantool.html#cb415-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_col</span>(<span class="fu">aes</span>(word, n, <span class="at">fill =</span> sentiment), <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb415-7"><a href="cleantool.html#cb415-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb415-8"><a href="cleantool.html#cb415-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>sentiment)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/ctl114-1.png" width="672" /></p>
<p>X축의 부정단어와 긍정단어 라벨을 두개의 도표로 분리해 표시하자. <code>scales =</code>인자를 “free”로 지정한다. 기본값은 “fixed”다.</p>
<div class="sourceCode" id="cb416"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb416-1"><a href="cleantool.html#cb416-1" aria-hidden="true" tabindex="-1"></a>pp_bing <span class="sc">%&gt;%</span></span>
<span id="cb416-2"><a href="cleantool.html#cb416-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, sentiment, <span class="at">sort =</span> <span class="cn">TRUE</span> ) <span class="sc">%&gt;%</span> </span>
<span id="cb416-3"><a href="cleantool.html#cb416-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sentiment) <span class="sc">%&gt;%</span> </span>
<span id="cb416-4"><a href="cleantool.html#cb416-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(n, <span class="at">n =</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb416-5"><a href="cleantool.html#cb416-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">reorder</span>(word, n)) <span class="sc">%&gt;%</span> </span>
<span id="cb416-6"><a href="cleantool.html#cb416-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_col</span>(<span class="fu">aes</span>(word, n, <span class="at">fill =</span> sentiment), <span class="at">show.legend =</span> F) <span class="sc">+</span></span>
<span id="cb416-7"><a href="cleantool.html#cb416-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb416-8"><a href="cleantool.html#cb416-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>sentiment, <span class="at">scales =</span> <span class="st">&quot;free&quot;</span>)<span class="sc">+</span></span>
<span id="cb416-9"><a href="cleantool.html#cb416-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;&lt;오만과 편견&gt;의 긍정과 부정감정 단어 빈도&quot;</span>) <span class="sc">+</span></span>
<span id="cb416-10"><a href="cleantool.html#cb416-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;감정단어&quot;</span>) <span class="sc">+</span> <span class="fu">ylab</span>(<span class="st">&quot;단어빈도&quot;</span>) <span class="sc">+</span></span>
<span id="cb416-11"><a href="cleantool.html#cb416-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">17</span>))</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/ctl115-1.png" width="672" /></p>
<div id="과제-3" class="section level4" number="6.2.11.1">
<h4><span class="header-section-number">6.2.11.1</span> 과제</h4>
<p>영문문서를 자유롭게 선택해 감정사전으로 감정단어를 추출해 긍정단어와 부정단어의 빈도를 시각화하시오. 감정사전을 bing, afinn, nrc를 각각 적용해 결과를 비교하시오.</p>
</div>
</div>
</div>
<div id="purrr" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> <code>purrr</code></h2>
<div id="개괄-2" class="section level3" number="6.3.1">
<h3><span class="header-section-number">6.3.1</span> 개괄</h3>
<p>R의 함수형 프로그래밍(functional programming) 도구다. 즉, 함수를 인자로 받는 함수들의 패키지다. 함수를 반복해서 실행해야 할때 유용하다. 대표 함수가 <code>map()</code>이다. R기본함수의 <code>apply()</code>에 해당한다(정확하게는 <code>lapply()</code>).</p>
<div id="반복계산" class="section level4" number="6.3.1.1">
<h4><span class="header-section-number">6.3.1.1</span> 반복계산</h4>
<ul>
<li><code>map()</code></li>
<li><code>map2()</code></li>
<li><code>pmap()</code></li>
</ul>
</div>
<div id="산출유형별" class="section level4" number="6.3.1.2">
<h4><span class="header-section-number">6.3.1.2</span> 산출유형별</h4>
<ul>
<li><code>map_chr()</code> 문자벡터</li>
<li><code>map_dbl()</code> 더블(숫자)벡터</li>
<li><code>map_int()</code> 정수벡터</li>
<li><code>map_lgl()</code> 논리벡터</li>
<li><code>map_dfc()</code> 데이터프레임(열방향)</li>
<li><code>map_dfr()</code> 데이터프레임(행방향)</li>
</ul>
</div>
<div id="리스트-재구성" class="section level4" number="6.3.1.3">
<h4><span class="header-section-number">6.3.1.3</span> 리스트 재구성</h4>
<ul>
<li><code>flatten()</code> 리스트의 위계 단계를 줄여준다.</li>
<li><code>flatten_chr()</code> 리스트를 문자벡터로</li>
<li><code>flatten_dbl()</code> 리스트를 더블(숫자)벡터로</li>
<li><code>flatten_int()</code> 리스트를 정수벡터로</li>
<li><code>flatten_lgl()</code> 리스트를 논리벡터로</li>
<li><code>flatten_dfc()</code> 리스트를 데이터프레임(열방향)으로</li>
<li><code>flatten_dfr()</code> 리스트를 데이터프레임(행방향)으로</li>
</ul>
</div>
</div>
<div id="반복계산-1" class="section level3" number="6.3.2">
<h3><span class="header-section-number">6.3.2</span> 반복계산</h3>
<div id="map.x-.f" class="section level4" number="6.3.2.1">
<h4><span class="header-section-number">6.3.2.1</span> <code>map(.x, .f)</code></h4>
<p>벡터나 리스트의 각 요소<code>.x</code>에 대해 순차적으로 함수나 공식(formula)<code>.f</code>를 적용해 리스트로 산출한다.</p>
<ul>
<li><code>rnorm(n, mean, sd)</code>은 정규분포를 이루는 숫자벡터 n개를 무작위로 생성. 평균과 표준편차 기본값은 각각 0과 1. (비록 평균과 표준편차를 각각 0과 1로 설정했지만, 무작위로 생성된 숫자이므로 평균과 표준편차를 계산하면 0과 1의 근사치가 나온다.)</li>
</ul>
<div class="sourceCode" id="cb417"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb417-1"><a href="cleantool.html#cb417-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb417-2"><a href="cleantool.html#cb417-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">a =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>),</span>
<span id="cb417-3"><a href="cleantool.html#cb417-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">b =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>),</span>
<span id="cb417-4"><a href="cleantool.html#cb417-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">c =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>),</span>
<span id="cb417-5"><a href="cleantool.html#cb417-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">d =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>)</span>
<span id="cb417-6"><a href="cleantool.html#cb417-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb417-7"><a href="cleantool.html#cb417-7" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="cb417-8"><a href="cleantool.html#cb417-8" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>a <span class="sc">%&gt;%</span> <span class="fu">mean</span>()</span>
<span id="cb417-9"><a href="cleantool.html#cb417-9" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>b <span class="sc">%&gt;%</span> <span class="fu">mean</span>()</span>
<span id="cb417-10"><a href="cleantool.html#cb417-10" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>c <span class="sc">%&gt;%</span> <span class="fu">mean</span>()</span>
<span id="cb417-11"><a href="cleantool.html#cb417-11" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>d <span class="sc">%&gt;%</span> <span class="fu">mean</span>()</span></code></pre></div>
<p><code>map()</code>은 함수를 인자로 받아 함수의 반복적인 실행을 하도록 한다.</p>
<div class="sourceCode" id="cb418"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb418-1"><a href="cleantool.html#cb418-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">map</span>(mean)</span></code></pre></div>
<p>리스트로 산출되므로 리스트를 풀려면 <code>flatten_</code>함수를 이용한다. 여기서는 숫자벡터이므로 <code>flatten_dbl()</code>을 이용한다.</p>
<div class="sourceCode" id="cb419"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb419-1"><a href="cleantool.html#cb419-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">map</span>(mean) <span class="sc">%&gt;%</span> <span class="fu">flatten_dbl</span>()</span></code></pre></div>
<p>산출하는 데이터의 유형별로 선택할 수 있는 다양한 종류의 <code>map_</code>계열 함수가 있다.</p>
<div class="sourceCode" id="cb420"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb420-1"><a href="cleantool.html#cb420-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> <span class="fu">map_dbl</span>(mean)</span></code></pre></div>
<p>투입하는 <code>.f</code>인자를 함수가 아닌 공식(formula)를 투입할 때는 <code>~</code>사용.</p>
<div class="sourceCode" id="cb421"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb421-1"><a href="cleantool.html#cb421-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="sc">~</span><span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">3</span>, <span class="at">mean =</span> .))</span>
<span id="cb421-2"><a href="cleantool.html#cb421-2" aria-hidden="true" tabindex="-1"></a><span class="fu">map</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="sc">~</span><span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">3</span>, <span class="at">mean =</span> ., <span class="at">sd =</span> <span class="dv">10</span>))</span></code></pre></div>
</div>
<div id="map2.x-.y-.f.-..." class="section level4" number="6.3.2.2">
<h4><span class="header-section-number">6.3.2.2</span> <code>map2(.x, .y, .f., ...)</code></h4>
<p>복수의 인자를 투입할 수 있다.</p>
<div class="sourceCode" id="cb422"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb422-1"><a href="cleantool.html#cb422-1" aria-hidden="true" tabindex="-1"></a><span class="fu">map2</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">11</span><span class="sc">:</span><span class="dv">12</span>, rnorm, <span class="at">n =</span> <span class="dv">3</span>)</span>
<span id="cb422-2"><a href="cleantool.html#cb422-2" aria-hidden="true" tabindex="-1"></a><span class="fu">map2</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">11</span><span class="sc">:</span><span class="dv">12</span>, <span class="sc">~</span><span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">3</span>, <span class="at">mean =</span> ., <span class="at">sd =</span> .))</span></code></pre></div>
</div>
<div id="pmap.l-.f-..." class="section level4" number="6.3.2.3">
<h4><span class="header-section-number">6.3.2.3</span> <code>pmap(.l, .f, ...)</code></h4>
<p>3개 이상의 인자를 투입할 수 있다. 리스트를 생성할 때 인자의 이름을 지정하지 않으면, 지정된 순서대로 투입한다.</p>
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb423-1"><a href="cleantool.html#cb423-1" aria-hidden="true" tabindex="-1"></a>arg_l <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="dv">11</span><span class="sc">:</span><span class="dv">12</span>,  <span class="dv">21</span><span class="sc">:</span><span class="dv">22</span>)</span>
<span id="cb423-2"><a href="cleantool.html#cb423-2" aria-hidden="true" tabindex="-1"></a>arg_l <span class="sc">%&gt;%</span> <span class="fu">pmap</span>(rnorm)</span>
<span id="cb423-3"><a href="cleantool.html#cb423-3" aria-hidden="true" tabindex="-1"></a>arg_l <span class="sc">%&gt;%</span> <span class="fu">pmap</span>(<span class="sc">~</span><span class="fu">rnorm</span>(<span class="at">n =</span> ., <span class="at">mean =</span> ., <span class="at">sd =</span> .))</span></code></pre></div>
<p>리스트의 요소 명을 인자의 이름으로 지정하면, 해당 인자로 투입된다.</p>
<div class="sourceCode" id="cb424"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb424-1"><a href="cleantool.html#cb424-1" aria-hidden="true" tabindex="-1"></a>arg_l <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">mean =</span> <span class="dv">11</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">n =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">sd =</span> <span class="dv">21</span><span class="sc">:</span><span class="dv">22</span>)</span>
<span id="cb424-2"><a href="cleantool.html#cb424-2" aria-hidden="true" tabindex="-1"></a>arg_l <span class="sc">%&gt;%</span> <span class="fu">pmap</span>(rnorm)</span>
<span id="cb424-3"><a href="cleantool.html#cb424-3" aria-hidden="true" tabindex="-1"></a>arg_l <span class="sc">%&gt;%</span> <span class="fu">pmap</span>(<span class="sc">~</span><span class="fu">rnorm</span>(<span class="at">n =</span> ., <span class="at">mean =</span> ., <span class="at">sd =</span> .))</span></code></pre></div>
</div>
</div>
</div>
<div id="tidyr" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> <code>tidyr</code></h2>
<div id="개괄-3" class="section level3" number="6.4.1">
<h3><span class="header-section-number">6.4.1</span> 개괄</h3>
<p><code>tidyr</code>패키지의 목표는 자료를 정돈된 방식으로 만들 수 있도록 하는 것이다. 정돈된 자료(tidy data)는:</p>
<ul>
<li>모든 열이 변수(variable)</li>
<li>모든 행은 관측값(observation)</li>
<li>각 셀에는 하나의 값(value)</li>
</ul>
<p>정돈된 자료에 대비하여 뒤섞인(messy) 데이터셋은:</p>
<ul>
<li>데이터프레임 중에는 열의 헤더가 변수가 아니라 값인 경우</li>
<li>복수의 변수가 하나의 열에 저장돼 있는 경우</li>
<li>변수가 행과 열에 저장돼 있는 경우</li>
<li>여러 유형의 관측값이 단일 테이블에 저장돼 있는 경우</li>
<li>단일 관측값이 복수의 테이블에 저장돼 있는 경우</li>
</ul>
<p><code>tidyr</code>패키지는 데이터셋을 정돈된 방식과 뒤섞인 방식 사이를 상호 변환하는 함수들의 모음이다.</p>
<p>축전환(Pivoting), 분리와 결합, 결측값처리, 테이블화(rectangling), 네스팅(nesting) 등 다양한 영역의 기능을 수행하는 함수가 있다. 여기서는 축전환과 분리와 결합을 다룬다.</p>
<p>자세한 내용은 <a href="https://tidyr.tidyverse.org/articles/tidy-data.html">Tidy data문서</a> 참조</p>
<div id="축전환pivoting" class="section level4" number="6.4.1.1">
<h4><span class="header-section-number">6.4.1.1</span> 축전환(pivoting)</h4>
<ul>
<li><code>pivot_longer()</code> 데이터프레임에서 열의 일련의 헤더를 한 열의 값으로 전환</li>
<li><code>pivot_wider()</code> 데이터프레임에서 한 열의 값을 열의 헤더로 전환</li>
</ul>
</div>
<div id="분리와-결합" class="section level4" number="6.4.1.2">
<h4><span class="header-section-number">6.4.1.2</span> 분리와 결합</h4>
<ul>
<li><code>separate()</code> 정규표현식을 이용해 하나의 열을 복수의 열로 분리</li>
<li><code>separate_rows()</code> 하나의 행에 있는 값을 복수의 행으로 분리</li>
<li><code>extract()</code> 열에 포함돼 있는 문자벡터에서 특정 값을 추출해 열로 분리</li>
<li><code>unite()</code> 복수의 열을 하나의 열로 결합</li>
</ul>
</div>
<div id="결측값na-처리" class="section level4" number="6.4.1.3">
<h4><span class="header-section-number">6.4.1.3</span> 결측값<code>NA</code> 처리</h4>
<ul>
<li><code>drop_na()</code> 데이터프레임에서 결측값이 포함된 행 제거</li>
<li><code>fill()</code> 데이터프레임에서 결측값을 인접한 행의 값으로 대체</li>
<li><code>replace_na()</code> 데이터프레임에서 결측값을 지정한 값으로 대체</li>
</ul>
</div>
</div>
<div id="축전환pivoting-1" class="section level3" number="6.4.2">
<h3><span class="header-section-number">6.4.2</span> 축전환(pivoting)</h3>
<p>축이란 의미의 pivot은 회전하는 물체의 중심을 잡아주는 축이란 의미다. 테이블에서 축전환(pivoting)이라고 하면, 테이블을 상하로 긴 축의 구조로 전환하는<code>pivot_longer()</code>와, 테이블을 좌우로 넒은 축의 구조로 전환하는 <code>pivot_wider()</code>가 있다.</p>
<p>기존에는 <code>gather()</code>나 <code>spread()</code>가 축전환 함수로 사용됐으나,<code>tidyrverse</code>패키지에서 <code>pivot_longer()</code>와 <code>pivot_wider()</code>를 도입해 사용성을 개선했다. <code>gather()</code>와 <code>spread()</code> 함수는 <code>tidyr</code>패키지에 남아 있어 계속 쓸수는 있지만 업데이트가 되지는 않는다.</p>
<div id="pivot_longerdf-cols-names_to-values_to" class="section level4" number="6.4.2.1">
<h4><span class="header-section-number">6.4.2.1</span> <code>pivot_longer(df, cols, names_to, values_to)</code></h4>
<p>열의 헤더가 변수가 아니라 값으로 설정된 데이터프레임을 열의 헤더를 열 안의 값으로 전환한다.</p>
<p>열의 헤더에 값이 저장돼 있는 데이터프레임을 이 값들을 한 변수의 값으로 저정된 데이터프레임을 만들어보자. 자동차 모델 3종(A, B, C)이 2000년, 2001년, 2002년에 각각 화재가 발생한 빈도다.</p>
<div class="sourceCode" id="cb425"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb425-1"><a href="cleantool.html#cb425-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb425-2"><a href="cleantool.html#cb425-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>model, <span class="sc">~</span><span class="st">`</span><span class="at">2000</span><span class="st">`</span>, <span class="sc">~</span><span class="st">`</span><span class="at">2001</span><span class="st">`</span>, <span class="sc">~</span><span class="st">`</span><span class="at">2002</span><span class="st">`</span>,</span>
<span id="cb425-3"><a href="cleantool.html#cb425-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;A&quot;</span>, <span class="dv">100</span>, <span class="dv">300</span>, <span class="dv">400</span>,</span>
<span id="cb425-4"><a href="cleantool.html#cb425-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;B&quot;</span>, <span class="dv">400</span>, <span class="dv">500</span>, <span class="dv">600</span>,</span>
<span id="cb425-5"><a href="cleantool.html#cb425-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;C&quot;</span>, <span class="dv">900</span>, <span class="dv">1000</span>, <span class="dv">1200</span></span>
<span id="cb425-6"><a href="cleantool.html#cb425-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb425-7"><a href="cleantool.html#cb425-7" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>## # A tibble: 3 x 4
##   model `2000` `2001` `2002`
##   &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1 A        100    300    400
## 2 B        400    500    600
## 3 C        900   1000   1200</code></pre>
<p>연도를 별도의 열로 잡지 않고, 각 연도를 별개의 열로 구성돼 있다. 즉, 이 데이터프레임은 축이 좌우로 넓게 퍼져 있다. 이 축을 상하로 길게(_longer) 전환해보자.</p>
<p>데이터프레임의 헤더가 값이므로, <code>names_to =</code>인자를 이용해 헤더의 값을 단일 열(“year”)의 값으로 전환하고, <code>values_to =</code>인자를 이용해 각 헤더별로 분산돼 있는 값을 단일 열(“case”)의 값으로 전환한다.</p>
<div class="sourceCode" id="cb427"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb427-1"><a href="cleantool.html#cb427-1" aria-hidden="true" tabindex="-1"></a>long_df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb427-2"><a href="cleantool.html#cb427-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">names_to =</span> <span class="st">&quot;year&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;case&quot;</span>)</span>
<span id="cb427-3"><a href="cleantool.html#cb427-3" aria-hidden="true" tabindex="-1"></a>long_df</span></code></pre></div>
<pre><code>## # A tibble: 9 x 3
##   model year   case
##   &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;
## 1 A     2000    100
## 2 A     2001    300
## 3 A     2002    400
## 4 B     2000    400
## 5 B     2001    500
## 6 B     2002    600
## 7 C     2000    900
## 8 C     2001   1000
## 9 C     2002   1200</code></pre>
</div>
<div id="pivot_widerdf-names_from-values_from" class="section level4" number="6.4.2.2">
<h4><span class="header-section-number">6.4.2.2</span> <code>pivot_wider(df, names_from, values_from)</code></h4>
<p>이번에는 다시 열의 값을 데이터프레임의 헤더로 전환하자. 단일 열에 길게 분포돼 있는 값을 헤더로 넓게 전환하므로 <code>pivot_wider()</code>함수를 이용한다. 헤더의 이름이 특정 열(<code>year</code>)에서 유래했으므로 <code>names_frome =</code>인자를 이용하고, 각 헤더의 값이 특정 열(<code>case</code>)에서 유래했으므로 <code>values_from =</code>인자를 이용한다.</p>
<div class="sourceCode" id="cb429"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb429-1"><a href="cleantool.html#cb429-1" aria-hidden="true" tabindex="-1"></a>long_df <span class="sc">%&gt;%</span> </span>
<span id="cb429-2"><a href="cleantool.html#cb429-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year, <span class="at">values_from =</span> case)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 4
##   model `2000` `2001` `2002`
##   &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1 A        100    300    400
## 2 B        400    500    600
## 3 C        900   1000   1200</code></pre>
<p><strong>주의</strong> : <code>pivot_longer()</code>의 <code>names_to =</code>에서는 값이 되는 것이므로 문자형(“year”)으로 투입한다. 반면, <code>pivot_wider()</code>의 <code>names_from =</code>에서는 열의 헤더이므로 변수형(<code>year</code>)으로 투입한다.</p>
</div>
</div>
<div id="분리와-결합-1" class="section level3" number="6.4.3">
<h3><span class="header-section-number">6.4.3</span> 분리와 결합</h3>
<p>복수의 변수가 하나의 열에 저장돼 있거나, 단일 변수가 여러 열에 거져 저장돼 있는 경우가 있다. 복수의 변수가 열 하나에 저장돼 있으면 복수의 열로 분리하고, 단일 변수가 열 여러 곳에 걸져 저장돼 있으면 하나의 열로 결합한다.</p>
<div id="separatedf-col-into-sep-alnum" class="section level4" number="6.4.3.1">
<h4><span class="header-section-number">6.4.3.1</span> <code>separate(df, col, into, sep = [^[:alnum:]]+)</code></h4>
<p>데이터프레임을 입력값으로 받아 분리할 열(<code>col</code>)을 어떻게 나눌지 지정해(<code>into</code>) 분리한다. 문자벡터를 분리하는 기본값은 <code>sep = "[^[:alnum:]]+"</code>이다. <code>[^[:alnum:]]+</code>은 문자와 숫자가 아닌 연속하는 값을 의미하는 정규표현식이다.</p>
<div class="sourceCode" id="cb431"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb431-1"><a href="cleantool.html#cb431-1" aria-hidden="true" tabindex="-1"></a>tb <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">email =</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="st">&quot;apple@ddd.com&quot;</span>, <span class="st">&quot;tesla@ttt.com&quot;</span>, <span class="st">&quot;amazon@rrr.com&quot;</span>), </span>
<span id="cb431-2"><a href="cleantool.html#cb431-2" aria-hidden="true" tabindex="-1"></a>             <span class="at">status =</span> <span class="fu">str_c</span>(<span class="st">&quot;g&quot;</span>, <span class="st">&quot;xxx&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>))</span>
<span id="cb431-3"><a href="cleantool.html#cb431-3" aria-hidden="true" tabindex="-1"></a>tb</span></code></pre></div>
<pre><code>## # A tibble: 4 x 2
##   email          status
##   &lt;chr&gt;          &lt;chr&gt; 
## 1 &lt;NA&gt;           gxxx1 
## 2 apple@ddd.com  gxxx2 
## 3 tesla@ttt.com  gxxx3 
## 4 amazon@rrr.com gxxx4</code></pre>
<div class="sourceCode" id="cb433"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb433-1"><a href="cleantool.html#cb433-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span> <span class="fu">separate</span>(<span class="at">col =</span> email, </span>
<span id="cb433-2"><a href="cleantool.html#cb433-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span>, <span class="st">&quot;comp&quot;</span>, <span class="st">&quot;type&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 4 x 4
##   id     comp  type  status
##   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 
## 1 &lt;NA&gt;   &lt;NA&gt;  &lt;NA&gt;  gxxx1 
## 2 apple  ddd   com   gxxx2 
## 3 tesla  ttt   com   gxxx3 
## 4 amazon rrr   com   gxxx4</code></pre>
<p>분리자가 문자나 숫자면 별도로 지정한다.</p>
<div class="sourceCode" id="cb435"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb435-1"><a href="cleantool.html#cb435-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span> <span class="fu">separate</span>(<span class="at">col =</span> status, </span>
<span id="cb435-2"><a href="cleantool.html#cb435-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;s1&quot;</span>, <span class="st">&quot;s2&quot;</span>), </span>
<span id="cb435-3"><a href="cleantool.html#cb435-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">sep =</span> <span class="st">&quot;xxx&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 4 x 3
##   email          s1    s2   
##   &lt;chr&gt;          &lt;chr&gt; &lt;chr&gt;
## 1 &lt;NA&gt;           g     1    
## 2 apple@ddd.com  g     2    
## 3 tesla@ttt.com  g     3    
## 4 amazon@rrr.com g     4</code></pre>
</div>
<div id="separate_rowsdf-...-sep-alnum.-convert-false" class="section level4" number="6.4.3.2">
<h4><span class="header-section-number">6.4.3.2</span> <code>separate_rows(df, ..., sep = "[^[:alnum:].]+", convert = FALSE)</code></h4>
<p>하나의 행에 복수의 관측값이 포함돼 있는 경우 각 관측값을 복수의 행으로 분리한다.</p>
<div class="sourceCode" id="cb437"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb437-1"><a href="cleantool.html#cb437-1" aria-hidden="true" tabindex="-1"></a>tbr <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">year =</span> <span class="fu">c</span>(<span class="dv">1999</span>, <span class="dv">2000</span>),</span>
<span id="cb437-2"><a href="cleantool.html#cb437-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">email =</span> <span class="fu">c</span>(<span class="st">&quot;apple@ddd.com&quot;</span>, <span class="st">&quot;tesla@ttt.com, amazon@rrr.com&quot;</span>),</span>
<span id="cb437-3"><a href="cleantool.html#cb437-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">stat =</span> <span class="fu">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;2,3&quot;</span>))</span>
<span id="cb437-4"><a href="cleantool.html#cb437-4" aria-hidden="true" tabindex="-1"></a>tbr</span></code></pre></div>
<pre><code>## # A tibble: 2 x 3
##    year email                         stat 
##   &lt;dbl&gt; &lt;chr&gt;                         &lt;chr&gt;
## 1  1999 apple@ddd.com                 1    
## 2  2000 tesla@ttt.com, amazon@rrr.com 2,3</code></pre>
<div class="sourceCode" id="cb439"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb439-1"><a href="cleantool.html#cb439-1" aria-hidden="true" tabindex="-1"></a>tbr <span class="sc">%&gt;%</span> <span class="fu">separate_rows</span>(email)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 3
##    year email   stat 
##   &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;
## 1  1999 apple   1    
## 2  1999 ddd.com 1    
## 3  2000 tesla   2,3  
## 4  2000 ttt.com 2,3  
## 5  2000 amazon  2,3  
## 6  2000 rrr.com 2,3</code></pre>
<div class="sourceCode" id="cb441"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb441-1"><a href="cleantool.html#cb441-1" aria-hidden="true" tabindex="-1"></a>tbr <span class="sc">%&gt;%</span> <span class="fu">separate_rows</span>(stat)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##    year email                         stat 
##   &lt;dbl&gt; &lt;chr&gt;                         &lt;chr&gt;
## 1  1999 apple@ddd.com                 1    
## 2  2000 tesla@ttt.com, amazon@rrr.com 2    
## 3  2000 tesla@ttt.com, amazon@rrr.com 3</code></pre>
<p><code>pivot_longer()</code>와 유사하나, <code>pivot_longer()</code>는 여러 열을 하나의 나눠 저장하고, <code>separate_rows()</code>는 하나의 열에 있는 값을 여러 열로 분리.</p>
</div>
<div id="extractdf-col-into-regex-alnum-remove-true-convert-false-..." class="section level4" number="6.4.3.3">
<h4><span class="header-section-number">6.4.3.3</span> <code>extract(df, col, into, regex = "([[:alnum:]]+)", remove = TRUE, convert = FALSE, ...)</code></h4>
<p>열에 포함돼 있는 문자벡터에서 특정 값만을 추출해 열로 분리한다.</p>
<div class="sourceCode" id="cb443"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb443-1"><a href="cleantool.html#cb443-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span> <span class="fu">extract</span>(<span class="at">col =</span> email,</span>
<span id="cb443-2"><a href="cleantool.html#cb443-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">into =</span> <span class="st">&quot;id&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 4 x 2
##   id     status
##   &lt;chr&gt;  &lt;chr&gt; 
## 1 &lt;NA&gt;   gxxx1 
## 2 apple  gxxx2 
## 3 tesla  gxxx3 
## 4 amazon gxxx4</code></pre>
<p><code>separate()</code>도 비슷한 결과를 산출하나 작동방식이 다르다.</p>
<div class="sourceCode" id="cb445"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb445-1"><a href="cleantool.html#cb445-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span> <span class="fu">separate</span>(<span class="at">col =</span> email,</span>
<span id="cb445-2"><a href="cleantool.html#cb445-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">into =</span> <span class="st">&quot;id&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Expected 1 pieces. Additional pieces discarded in 3 rows [2, 3, 4].</code></pre>
<pre><code>## # A tibble: 4 x 2
##   id     status
##   &lt;chr&gt;  &lt;chr&gt; 
## 1 &lt;NA&gt;   gxxx1 
## 2 apple  gxxx2 
## 3 tesla  gxxx3 
## 4 amazon gxxx4</code></pre>
<p><code>extract()</code>는 분리자(<code>sep =</code>)로 구분하지 않고 정규표현식(<code>regext =</code>)과 일치하는 값들을 추출한다. <code>extract()</code>의 정규표현식 기본값도 <code>([[:alnum:]]+)</code>로서 연속하는 숫자와 문자 그룹 중 한 요소다. 다른 정규표현식을 투입할 때도 소괄호로 묶어 <code>()</code> 그룹설정을 해야 한다. <code>(^\\w{2})</code>은 연속하는 2개의 문자를 그룹으로 묶은 정규표현식이다.</p>
<div class="sourceCode" id="cb448"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb448-1"><a href="cleantool.html#cb448-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">%&gt;%</span> <span class="fu">extract</span>(<span class="at">col =</span> email,</span>
<span id="cb448-2"><a href="cleantool.html#cb448-2" aria-hidden="true" tabindex="-1"></a>               <span class="at">into =</span> <span class="st">&quot;id&quot;</span>, </span>
<span id="cb448-3"><a href="cleantool.html#cb448-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">regex =</span> <span class="st">&quot;(^</span><span class="sc">\\</span><span class="st">w{2})&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 4 x 2
##   id    status
##   &lt;chr&gt; &lt;chr&gt; 
## 1 &lt;NA&gt;  gxxx1 
## 2 ap    gxxx2 
## 3 te    gxxx3 
## 4 am    gxxx4</code></pre>
</div>
<div id="unitedf-col-...-sep-_-remove-true-na.rm-false" class="section level4" number="6.4.3.4">
<h4><span class="header-section-number">6.4.3.4</span> <code>unite(df, col, ..., sep = "_", remove = TRUE, na.rm = FALSE)</code></h4>
<p><code>separate()</code>의 역에 해당한다. 여러 열(<code>...</code>)에 걸쳐 저장된 값을 하나의 열(<code>col</code>)로 결합한다. 결합 기본값은 <code>sep = "_"</code>다. 결합할 열(<code>...</code>)의 선택은 <code>selection()</code>동사에서 활용하는 함수를 이용한다 (<a href="https://dplyr.tidyverse.org/reference/select.html">설명서</a>).</p>
<div class="sourceCode" id="cb450"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb450-1"><a href="cleantool.html#cb450-1" aria-hidden="true" tabindex="-1"></a>tb2 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">id =</span> <span class="fu">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;tesla&quot;</span>, <span class="st">&quot;amazon&quot;</span>), </span>
<span id="cb450-2"><a href="cleantool.html#cb450-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">comp =</span> <span class="fu">c</span>(<span class="st">&quot;ddd&quot;</span>, <span class="st">&quot;ttt&quot;</span>, <span class="st">&quot;rrr&quot;</span>), </span>
<span id="cb450-3"><a href="cleantool.html#cb450-3" aria-hidden="true" tabindex="-1"></a>       <span class="at">type =</span> <span class="st">&quot;com&quot;</span>)</span>
<span id="cb450-4"><a href="cleantool.html#cb450-4" aria-hidden="true" tabindex="-1"></a>tb2</span></code></pre></div>
<pre><code>## # A tibble: 3 x 3
##   id     comp  type 
##   &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt;
## 1 apple  ddd   com  
## 2 tesla  ttt   com  
## 3 amazon rrr   com</code></pre>
<div class="sourceCode" id="cb452"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb452-1"><a href="cleantool.html#cb452-1" aria-hidden="true" tabindex="-1"></a>tb2 <span class="sc">%&gt;%</span> <span class="fu">unite</span>(<span class="at">col =</span> <span class="st">&quot;newID&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 1
##   newID         
##   &lt;chr&gt;         
## 1 apple_ddd_com 
## 2 tesla_ttt_com 
## 3 amazon_rrr_com</code></pre>
<div class="sourceCode" id="cb454"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb454-1"><a href="cleantool.html#cb454-1" aria-hidden="true" tabindex="-1"></a>tb2 <span class="sc">%&gt;%</span> <span class="fu">unite</span>(<span class="at">col =</span> <span class="st">&quot;newID&quot;</span>, id<span class="sc">:</span>type)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 1
##   newID         
##   &lt;chr&gt;         
## 1 apple_ddd_com 
## 2 tesla_ttt_com 
## 3 amazon_rrr_com</code></pre>
<div class="sourceCode" id="cb456"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb456-1"><a href="cleantool.html#cb456-1" aria-hidden="true" tabindex="-1"></a>tb2 <span class="sc">%&gt;%</span> <span class="fu">unite</span>(<span class="at">col =</span> <span class="st">&quot;newID&quot;</span>, <span class="fu">c</span>(id, type))</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##   newID      comp 
##   &lt;chr&gt;      &lt;chr&gt;
## 1 apple_com  ddd  
## 2 tesla_com  ttt  
## 3 amazon_com rrr</code></pre>
</div>
</div>
<div id="연습1-1" class="section level3" number="6.4.4">
<h3><span class="header-section-number">6.4.4</span> 연습1</h3>
<ol style="list-style-type: decimal">
<li>셰익스피어의 <소네트27>의 긍정감정과 부정감정의 정도를 분석해보자. 먼저 감정어를 추출(토큰화, 감정사전결합)하고, 감정어의 빈도를 계산한다. 감정어의 빈도계산은 <code>count()</code>를 이용하는 방법도 있지만, 여기서는 축전환을 이용해 계산해보자.
먼저, bing사전을 이용해 <소네트27>에서 감정어를 추출해 s27_bing에 할당하자.</li>
</ol>
<div class="sourceCode" id="cb458"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb458-1"><a href="cleantool.html#cb458-1" aria-hidden="true" tabindex="-1"></a>sonnet27_v <span class="ot">&lt;-</span> <span class="st">&quot;Weary with toil I haste me to my bed,</span></span>
<span id="cb458-2"><a href="cleantool.html#cb458-2" aria-hidden="true" tabindex="-1"></a><span class="st">The dear repose for limbs with travel tired;</span></span>
<span id="cb458-3"><a href="cleantool.html#cb458-3" aria-hidden="true" tabindex="-1"></a><span class="st">But then begins a journey in my head</span></span>
<span id="cb458-4"><a href="cleantool.html#cb458-4" aria-hidden="true" tabindex="-1"></a><span class="st">To work my mind when body&#39;s work&#39;s expired;</span></span>
<span id="cb458-5"><a href="cleantool.html#cb458-5" aria-hidden="true" tabindex="-1"></a><span class="st">For then my thoughts, from far where I abide,</span></span>
<span id="cb458-6"><a href="cleantool.html#cb458-6" aria-hidden="true" tabindex="-1"></a><span class="st">Intend a zealous pilgrimage to thee,</span></span>
<span id="cb458-7"><a href="cleantool.html#cb458-7" aria-hidden="true" tabindex="-1"></a><span class="st">And keep my drooping eyelids open wide</span></span>
<span id="cb458-8"><a href="cleantool.html#cb458-8" aria-hidden="true" tabindex="-1"></a><span class="st">Looking on darkness which the blind do see:</span></span>
<span id="cb458-9"><a href="cleantool.html#cb458-9" aria-hidden="true" tabindex="-1"></a><span class="st">Save that my soul&#39;s imaginary sight</span></span>
<span id="cb458-10"><a href="cleantool.html#cb458-10" aria-hidden="true" tabindex="-1"></a><span class="st">Presents thy shadow to my sightless view,</span></span>
<span id="cb458-11"><a href="cleantool.html#cb458-11" aria-hidden="true" tabindex="-1"></a><span class="st">Which like a jewel hung in ghastly night</span></span>
<span id="cb458-12"><a href="cleantool.html#cb458-12" aria-hidden="true" tabindex="-1"></a><span class="st">Makes black night beauteous and her old face new.</span></span>
<span id="cb458-13"><a href="cleantool.html#cb458-13" aria-hidden="true" tabindex="-1"></a><span class="st">Lo! thus by day my limbs, by night my mind,</span></span>
<span id="cb458-14"><a href="cleantool.html#cb458-14" aria-hidden="true" tabindex="-1"></a><span class="st">For thee, and for myself, no quietness find.&quot;</span></span>
<span id="cb458-15"><a href="cleantool.html#cb458-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb458-16"><a href="cleantool.html#cb458-16" aria-hidden="true" tabindex="-1"></a>s27_bing <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">text =</span> sonnet27_v) <span class="sc">%&gt;%</span> </span>
<span id="cb458-17"><a href="cleantool.html#cb458-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text) <span class="sc">%&gt;%</span> </span>
<span id="cb458-18"><a href="cleantool.html#cb458-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(<span class="fu">get_sentiments</span>(<span class="st">&quot;bing&quot;</span>))</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<div class="sourceCode" id="cb460"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb460-1"><a href="cleantool.html#cb460-1" aria-hidden="true" tabindex="-1"></a>s27_bing</span></code></pre></div>
<pre><code>## # A tibble: 14 x 2
##    word      sentiment
##    &lt;chr&gt;     &lt;chr&gt;    
##  1 weary     negative 
##  2 toil      negative 
##  3 haste     negative 
##  4 tired     negative 
##  5 work      positive 
##  6 expired   negative 
##  7 zealous   negative 
##  8 darkness  negative 
##  9 blind     negative 
## 10 imaginary negative 
## 11 like      positive 
## 12 hung      negative 
## 13 ghastly   negative 
## 14 beauteous positive</code></pre>
<p>생성된 s27_bing은 word열에 감정어가 저장돼 있고, sentiment열에 negative와 positive 값이 저장돼 있다. sentiment열을 축전환해 word열의 값을 negative와 positive열에 저장하자.</p>
<div class="sourceCode" id="cb462"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb462-1"><a href="cleantool.html#cb462-1" aria-hidden="true" tabindex="-1"></a>s27_bing <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(</span>
<span id="cb462-2"><a href="cleantool.html#cb462-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">names_from =</span> sentiment, </span>
<span id="cb462-3"><a href="cleantool.html#cb462-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">values_from =</span> word</span>
<span id="cb462-4"><a href="cleantool.html#cb462-4" aria-hidden="true" tabindex="-1"></a>  ) </span></code></pre></div>
<pre><code>## Warning: Values are not uniquely identified; output will contain list-cols.
## * Use `values_fn = list` to suppress this warning.
## * Use `values_fn = length` to identify where the duplicates arise
## * Use `values_fn = {summary_fun}` to summarise duplicates</code></pre>
<pre><code>## # A tibble: 1 x 2
##   negative   positive 
##   &lt;list&gt;     &lt;list&gt;   
## 1 &lt;chr [11]&gt; &lt;chr [3]&gt;</code></pre>
<p>데이터프레임의 각 열에 리스트로 저장돼 있다. <code>purrr</code>패키지의 <code>flatten()</code>함수를 이용하면 리스트의 위계구조를 한단계를 줄일 수 있다.</p>
<div class="sourceCode" id="cb465"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb465-1"><a href="cleantool.html#cb465-1" aria-hidden="true" tabindex="-1"></a>s27_bing <span class="sc">%&gt;%</span> </span>
<span id="cb465-2"><a href="cleantool.html#cb465-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> sentiment,</span>
<span id="cb465-3"><a href="cleantool.html#cb465-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> word) <span class="sc">%&gt;%</span> </span>
<span id="cb465-4"><a href="cleantool.html#cb465-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">flatten</span>()</span></code></pre></div>
<pre><code>## Warning: Values are not uniquely identified; output will contain list-cols.
## * Use `values_fn = list` to suppress this warning.
## * Use `values_fn = length` to identify where the duplicates arise
## * Use `values_fn = {summary_fun}` to summarise duplicates</code></pre>
<pre><code>## $negative
##  [1] &quot;weary&quot;     &quot;toil&quot;      &quot;haste&quot;     &quot;tired&quot;     &quot;expired&quot;   &quot;zealous&quot;  
##  [7] &quot;darkness&quot;  &quot;blind&quot;     &quot;imaginary&quot; &quot;hung&quot;      &quot;ghastly&quot;  
## 
## $positive
## [1] &quot;work&quot;      &quot;like&quot;      &quot;beauteous&quot;</code></pre>
<p>s27_bing에서 부정감정어와 긍정감정서의 수를 계산해보자. <code>purrr</code>패키지의 <code>map()</code>함수를 이용하면 함수를 인자로 받아 연산을 반복적으로 수행할 수 있다. <code>map_dfc()</code> 혹은 <code>map_dfr()</code>함수를 이용하면 데이터프레임으로 산출할 수 있다.</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb468-1"><a href="cleantool.html#cb468-1" aria-hidden="true" tabindex="-1"></a>s27_bing <span class="sc">%&gt;%</span></span>
<span id="cb468-2"><a href="cleantool.html#cb468-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> sentiment,</span>
<span id="cb468-3"><a href="cleantool.html#cb468-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> word) <span class="sc">%&gt;%</span> </span>
<span id="cb468-4"><a href="cleantool.html#cb468-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">flatten</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb468-5"><a href="cleantool.html#cb468-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map_dfc</span>(length)</span></code></pre></div>
<pre><code>## Warning: Values are not uniquely identified; output will contain list-cols.
## * Use `values_fn = list` to suppress this warning.
## * Use `values_fn = length` to identify where the duplicates arise
## * Use `values_fn = {summary_fun}` to summarise duplicates</code></pre>
<pre><code>## # A tibble: 1 x 2
##   negative positive
##      &lt;int&gt;    &lt;int&gt;
## 1       11        3</code></pre>
<p>이 결과를 막대도표로 시각화하자. 막대도표로 시각화 하기 위해서는 x변수와 y변수가 필요하다. 변수의 값이 데이터프레임의 헤더에 저장돼 있으므로, 한 변수내의 값으로 변경해야 한다. 사용가능한 방법은?</p>
<div class="sourceCode" id="cb471"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb471-1"><a href="cleantool.html#cb471-1" aria-hidden="true" tabindex="-1"></a>s27_bing <span class="sc">%&gt;%</span></span>
<span id="cb471-2"><a href="cleantool.html#cb471-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> sentiment,</span>
<span id="cb471-3"><a href="cleantool.html#cb471-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> word) <span class="sc">%&gt;%</span> </span>
<span id="cb471-4"><a href="cleantool.html#cb471-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">flatten</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb471-5"><a href="cleantool.html#cb471-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map_dfc</span>(length) <span class="sc">%&gt;%</span> </span>
<span id="cb471-6"><a href="cleantool.html#cb471-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> negative<span class="sc">:</span>positive,</span>
<span id="cb471-7"><a href="cleantool.html#cb471-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&quot;emotion&quot;</span>,</span>
<span id="cb471-8"><a href="cleantool.html#cb471-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;n&quot;</span></span>
<span id="cb471-9"><a href="cleantool.html#cb471-9" aria-hidden="true" tabindex="-1"></a>               ) </span></code></pre></div>
<pre><code>## Warning: Values are not uniquely identified; output will contain list-cols.
## * Use `values_fn = list` to suppress this warning.
## * Use `values_fn = length` to identify where the duplicates arise
## * Use `values_fn = {summary_fun}` to summarise duplicates</code></pre>
<pre><code>## # A tibble: 2 x 2
##   emotion      n
##   &lt;chr&gt;    &lt;int&gt;
## 1 negative    11
## 2 positive     3</code></pre>
<p>이제 막대도표로 시각화할 수 있다. 제목, x축과 y축의 라벨 및 각 막대의 색을 설정하자.</p>
<div class="sourceCode" id="cb474"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb474-1"><a href="cleantool.html#cb474-1" aria-hidden="true" tabindex="-1"></a>s27_bing <span class="sc">%&gt;%</span></span>
<span id="cb474-2"><a href="cleantool.html#cb474-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> sentiment,</span>
<span id="cb474-3"><a href="cleantool.html#cb474-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> word) <span class="sc">%&gt;%</span> </span>
<span id="cb474-4"><a href="cleantool.html#cb474-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">flatten</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb474-5"><a href="cleantool.html#cb474-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map_dfc</span>(length) <span class="sc">%&gt;%</span> </span>
<span id="cb474-6"><a href="cleantool.html#cb474-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> negative<span class="sc">:</span>positive,</span>
<span id="cb474-7"><a href="cleantool.html#cb474-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&quot;emotion&quot;</span>,</span>
<span id="cb474-8"><a href="cleantool.html#cb474-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;n&quot;</span></span>
<span id="cb474-9"><a href="cleantool.html#cb474-9" aria-hidden="true" tabindex="-1"></a>               ) <span class="sc">%&gt;%</span> </span>
<span id="cb474-10"><a href="cleantool.html#cb474-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_col</span>(<span class="fu">aes</span>(emotion, n), <span class="at">fill =</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>)) <span class="sc">+</span></span>
<span id="cb474-11"><a href="cleantool.html#cb474-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb474-12"><a href="cleantool.html#cb474-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;&lt;소네트27&gt;의 부정어와 긍정어 빈도&quot;</span>) <span class="sc">+</span></span>
<span id="cb474-13"><a href="cleantool.html#cb474-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;감정어 빈도&quot;</span>) <span class="sc">+</span> <span class="fu">xlab</span>(<span class="st">&quot;감정 극성&quot;</span>)<span class="sc">+</span></span>
<span id="cb474-14"><a href="cleantool.html#cb474-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">20</span>))</span></code></pre></div>
<pre><code>## Warning: Values are not uniquely identified; output will contain list-cols.
## * Use `values_fn = list` to suppress this warning.
## * Use `values_fn = length` to identify where the duplicates arise
## * Use `values_fn = {summary_fun}` to summarise duplicates</code></pre>
<p><img src="bookdown-demo_files/figure-html/ctl139-1.png" width="672" /></p>
</div>
<div id="연습2-1" class="section level3" number="6.4.5">
<h3><span class="header-section-number">6.4.5</span> 연습2</h3>
<ol style="list-style-type: decimal">
<li>셰익스피어의 <소네트27>를 2그램으로 토큰화 해 불용어를 제거하시오. 2그램토큰의 불용어를 제거하기 위해서는 먼저 1그램으로 분리해 불용어를 제거한 다음, 다시 2그램으로 결합한다.</li>
</ol>
<p>먼저, 2그램으로 토큰화한 후 s27_tk에 할당하자.</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb476-1"><a href="cleantool.html#cb476-1" aria-hidden="true" tabindex="-1"></a>s27_tk <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">text =</span> sonnet27_v) <span class="sc">%&gt;%</span> </span>
<span id="cb476-2"><a href="cleantool.html#cb476-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(word, text, <span class="at">token =</span> <span class="st">&quot;ngrams&quot;</span>, <span class="at">n =</span> <span class="dv">2</span>)</span>
<span id="cb476-3"><a href="cleantool.html#cb476-3" aria-hidden="true" tabindex="-1"></a>s27_tk</span></code></pre></div>
<pre><code>## # A tibble: 110 x 1
##    word      
##    &lt;chr&gt;     
##  1 weary with
##  2 with toil 
##  3 toil i    
##  4 i haste   
##  5 haste me  
##  6 me to     
##  7 to my     
##  8 my bed    
##  9 bed the   
## 10 the dear  
## # ... with 100 more rows</code></pre>
<p>불용어 사전에는 불용어가 1gram으로 저장돼 있다. 2그램 토큰을 1그램 토큰으로 분리한 다음, 불용어 사전으로 제거한 후, 다시 2그램으로 결합하자. 열이 2개(word1, word2)이므로 <code>anti_join()</code>으로 불용어를 제거하기 힘들다. 불용어가 있는 열을 부분선택해 걸러내자. <code>filter()</code> 사용.</p>
<div class="sourceCode" id="cb478"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb478-1"><a href="cleantool.html#cb478-1" aria-hidden="true" tabindex="-1"></a>s27_tk <span class="sc">%&gt;%</span> </span>
<span id="cb478-2"><a href="cleantool.html#cb478-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(word, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;word1&quot;</span>, <span class="st">&quot;word2&quot;</span>), <span class="at">sep =</span> <span class="st">&quot; &quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb478-3"><a href="cleantool.html#cb478-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>word1 <span class="sc">%in%</span> stop_words<span class="sc">$</span>word,</span>
<span id="cb478-4"><a href="cleantool.html#cb478-4" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span>word2 <span class="sc">%in%</span> stop_words<span class="sc">$</span>word) </span></code></pre></div>
<pre><code>## # A tibble: 17 x 2
##    word1     word2     
##    &lt;chr&gt;     &lt;chr&gt;     
##  1 dear      repose    
##  2 travel    tired     
##  3 body&#39;s    work&#39;s    
##  4 work&#39;s    expired   
##  5 abide     intend    
##  6 zealous   pilgrimage
##  7 drooping  eyelids   
##  8 soul&#39;s    imaginary 
##  9 imaginary sight     
## 10 thy       shadow    
## 11 sightless view      
## 12 jewel     hung      
## 13 ghastly   night     
## 14 night     makes     
## 15 makes     black     
## 16 black     night     
## 17 night     beauteous</code></pre>
<p>“with” “i” “me” 등 불용어 사전에 포함돼 있던 어휘가 모두 제거했다. 분리했던 열을 다시 결합해 2그램의 빈도를 계산하자.</p>
<div class="sourceCode" id="cb480"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb480-1"><a href="cleantool.html#cb480-1" aria-hidden="true" tabindex="-1"></a>s27_tk <span class="sc">%&gt;%</span> </span>
<span id="cb480-2"><a href="cleantool.html#cb480-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(word, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;word1&quot;</span>, <span class="st">&quot;word2&quot;</span>), <span class="at">sep =</span> <span class="st">&quot; &quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb480-3"><a href="cleantool.html#cb480-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>word1 <span class="sc">%in%</span> stop_words<span class="sc">$</span>word,</span>
<span id="cb480-4"><a href="cleantool.html#cb480-4" aria-hidden="true" tabindex="-1"></a>         <span class="sc">!</span>word2 <span class="sc">%in%</span> stop_words<span class="sc">$</span>word) <span class="sc">%&gt;%</span> </span>
<span id="cb480-5"><a href="cleantool.html#cb480-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unite</span>(word, <span class="fu">c</span>(word1, word2), <span class="at">sep =</span> <span class="st">&quot; &quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb480-6"><a href="cleantool.html#cb480-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> T)</span></code></pre></div>
<pre><code>## # A tibble: 17 x 2
##    word                   n
##    &lt;chr&gt;              &lt;int&gt;
##  1 abide intend           1
##  2 black night            1
##  3 body&#39;s work&#39;s          1
##  4 dear repose            1
##  5 drooping eyelids       1
##  6 ghastly night          1
##  7 imaginary sight        1
##  8 jewel hung             1
##  9 makes black            1
## 10 night beauteous        1
## 11 night makes            1
## 12 sightless view         1
## 13 soul&#39;s imaginary       1
## 14 thy shadow             1
## 15 travel tired           1
## 16 work&#39;s expired         1
## 17 zealous pilgrimage     1</code></pre>
<p>빈도는 모두 1회다. 불용어들은 대개 자주 사용하는 어휘이기 때문에 대다수의 단어가 불용어와 결합돼 있기 때문이다. 불용어를 제거한 n그램은 주의해서 해석해야 한다.</p>
<div id="과제-4" class="section level4" number="6.4.5.1">
<h4><span class="header-section-number">6.4.5.1</span> 과제</h4>
<p>영문 문서(구텐베르크 프로젝트 등) 중 하나를 골라 선택한 문서의 감정단어의 빈도를 nrc사전을 이용해 시각화하시오.</p>
</div>
</div>
</div>
<div id="연산자operators" class="section level2" number="6.5">
<h2><span class="header-section-number">6.5</span> 연산자(operators)</h2>
<ul>
<li>산술연산자(Arithmatic Operators)</li>
<li>관계연산자(Relational Operators)</li>
<li>논리연산자(Logical Operators)</li>
<li>포함 연산자(Inclusion Operator)</li>
</ul>
<div id="산술연산자arithmatic-operators" class="section level3" number="6.5.1">
<h3><span class="header-section-number">6.5.1</span> 산술연산자(Arithmatic Operators)</h3>
<ul>
<li><p><code>+</code> 더하기(addition) <code>2+3</code></p></li>
<li><p><code>-</code> 빼기(substraction) <code>3-2</code></p></li>
<li><p><code>*</code> 곱하기(multiplication) <code>3*2</code></p></li>
<li><p><code>^ 또는 **</code> 제곱(exponentiation) 37^3 37**3</p></li>
<li><p><code>/</code> 나누기(division) <code>5/2</code> 5를 2로 나누면 2.5</p></li>
<li><p><code>%%</code> 나머지(modulus) <code>5%%2</code> 5를 2로 나누면 나머지는 1</p></li>
<li><p><code>%/%</code> 몫(integer modulus) <code>5%%2</code> 5를 2로 나누면 몫은 2</p></li>
</ul>
<div class="sourceCode" id="cb482"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb482-1"><a href="cleantool.html#cb482-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>)</span>
<span id="cb482-2"><a href="cleantool.html#cb482-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb482-3"><a href="cleantool.html#cb482-3" aria-hidden="true" tabindex="-1"></a>x <span class="sc">+</span> <span class="dv">1</span></span></code></pre></div>
<pre><code>## [1] 11 21 31 41 51</code></pre>
<div class="sourceCode" id="cb484"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb484-1"><a href="cleantool.html#cb484-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">-</span> <span class="dv">1</span></span></code></pre></div>
<pre><code>## [1]  9 19 29 39 49</code></pre>
<div class="sourceCode" id="cb486"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb486-1"><a href="cleantool.html#cb486-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">*</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1]  20  40  60  80 100</code></pre>
<div class="sourceCode" id="cb488"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb488-1"><a href="cleantool.html#cb488-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">/</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>## [1]  5 10 15 20 25</code></pre>
<div class="sourceCode" id="cb490"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb490-1"><a href="cleantool.html#cb490-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%%</span> <span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 1 2 0 1 2</code></pre>
<div class="sourceCode" id="cb492"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb492-1"><a href="cleantool.html#cb492-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">%/%</span> <span class="dv">3</span></span></code></pre></div>
<pre><code>## [1]  3  6 10 13 16</code></pre>
<div id="재활용recycle-연산" class="section level4" number="6.5.1.1">
<h4><span class="header-section-number">6.5.1.1</span> 재활용(recycle) 연산</h4>
<div class="sourceCode" id="cb494"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb494-1"><a href="cleantool.html#cb494-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>) <span class="sc">+</span> <span class="dv">1</span></span></code></pre></div>
<pre><code>## [1] 11 21 31 41</code></pre>
<div class="sourceCode" id="cb496"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb496-1"><a href="cleantool.html#cb496-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>)</span></code></pre></div>
<pre><code>## [1] 13 23 33 43</code></pre>
<div class="sourceCode" id="cb498"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb498-1"><a href="cleantool.html#cb498-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>) <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 11 22 31 42</code></pre>
<div class="sourceCode" id="cb500"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb500-1"><a href="cleantool.html#cb500-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>) <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>)</span></code></pre></div>
<pre><code>## [1] 13 24 33 44</code></pre>
<div class="sourceCode" id="cb502"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb502-1"><a href="cleantool.html#cb502-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>) <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span></code></pre></div>
<pre><code>## Warning in c(10, 20, 30, 40) + c(1, 2, 3): 두 객체의 길이가 서로 배수관계에 있지
## 않습니다</code></pre>
<pre><code>## [1] 11 22 33 41</code></pre>
</div>
</div>
<div id="관계연산자relational-operators" class="section level3" number="6.5.2">
<h3><span class="header-section-number">6.5.2</span> 관계연산자(Relational Operators)</h3>
<p>연산결과를 논리형(TRUE or FALSE)으로 산출한다.</p>
<ul>
<li><p><code>&lt;</code> 보다 작은(less than)</p></li>
<li><p><code>&gt;</code> 보다 큰(Greater than)</p></li>
<li><p><code>&lt;=</code> 이하(Less than or equal to)</p></li>
<li><p><code>&gt;=</code> 이상(Greater than or equal to)</p></li>
<li><p><code>==</code> 같은(Equal to)</p></li>
<li><p><code>!=</code> 같지 않은(Not equal to)</p></li>
</ul>
<div class="sourceCode" id="cb505"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb505-1"><a href="cleantool.html#cb505-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>)</span>
<span id="cb505-2"><a href="cleantool.html#cb505-2" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&lt;</span> <span class="dv">20</span></span></code></pre></div>
<pre><code>## [1]  TRUE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb507"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb507-1"><a href="cleantool.html#cb507-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&gt;</span> <span class="dv">20</span></span></code></pre></div>
<pre><code>## [1] FALSE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb509"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb509-1"><a href="cleantool.html#cb509-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&lt;=</span> <span class="dv">20</span></span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb511"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb511-1"><a href="cleantool.html#cb511-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">&gt;=</span> <span class="dv">20</span></span></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb513"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb513-1"><a href="cleantool.html#cb513-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">==</span> <span class="dv">20</span></span></code></pre></div>
<pre><code>## [1] FALSE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb515"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb515-1"><a href="cleantool.html#cb515-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">!=</span> <span class="dv">20</span></span></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb517"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb517-1"><a href="cleantool.html#cb517-1" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span> <span class="sc">&lt;</span> x</span></code></pre></div>
<pre><code>## [1] FALSE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb519"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb519-1"><a href="cleantool.html#cb519-1" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span> <span class="sc">&gt;</span> x</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb521"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb521-1"><a href="cleantool.html#cb521-1" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span> <span class="sc">&lt;=</span> x</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb523"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb523-1"><a href="cleantool.html#cb523-1" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span> <span class="sc">&gt;=</span> x</span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb525"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb525-1"><a href="cleantool.html#cb525-1" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span> <span class="sc">==</span> x</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb527"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb527-1"><a href="cleantool.html#cb527-1" aria-hidden="true" tabindex="-1"></a><span class="dv">20</span> <span class="sc">!=</span> x</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE</code></pre>
</div>
<div id="논리연산자logical-operators" class="section level3" number="6.5.3">
<h3><span class="header-section-number">6.5.3</span> 논리연산자(Logical Operators)</h3>
<ul>
<li><p><code>!</code> 아닌(NOT)
(“0”은 <code>FALSE</code>, 0이 아닌 값은 <code>TRUE</code>로 취급한다.)</p></li>
<li><p><code>&amp;</code> 그리고(AND)</p></li>
<li><p><code>&amp;&amp;</code> 요소형 그리고(첫째 요소만 연산)</p></li>
<li><p><code>|</code> 또는(OR)</p></li>
<li><p><code>||</code> 요소형 또는(첫째 요소만 연산)</p></li>
</ul>
<div class="sourceCode" id="cb529"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb529-1"><a href="cleantool.html#cb529-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="dv">0</span>, <span class="dv">6</span>)</span>
<span id="cb529-2"><a href="cleantool.html#cb529-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb529-3"><a href="cleantool.html#cb529-3" aria-hidden="true" tabindex="-1"></a><span class="sc">!</span>x</span></code></pre></div>
<pre><code>## [1] FALSE  TRUE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb531"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb531-1"><a href="cleantool.html#cb531-1" aria-hidden="true" tabindex="-1"></a>x<span class="sc">&amp;</span>y</span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb533"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb533-1"><a href="cleantool.html#cb533-1" aria-hidden="true" tabindex="-1"></a>x<span class="sc">&amp;&amp;</span>y</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb535"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb535-1"><a href="cleantool.html#cb535-1" aria-hidden="true" tabindex="-1"></a>x<span class="sc">|</span>y</span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb537"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb537-1"><a href="cleantool.html#cb537-1" aria-hidden="true" tabindex="-1"></a>x<span class="sc">||</span>y</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="포함-연산자inclusion-operator" class="section level3" number="6.5.4">
<h3><span class="header-section-number">6.5.4</span> 포함 연산자(Inclusion Operator)</h3>
<div id="in" class="section level4" number="6.5.4.1">
<h4><span class="header-section-number">6.5.4.1</span> <code>%in%</code></h4>
<p>“~ 포함된”이란 의미다. <code>A%in%B</code>는 A에 B의 요소가 포함돼 있는지 여부를 논리값으로 산출한다.</p>
<div class="sourceCode" id="cb539"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb539-1"><a href="cleantool.html#cb539-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">50</span>)</span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb541"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb541-1"><a href="cleantool.html#cb541-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">50</span>, <span class="dv">60</span>, <span class="dv">70</span>)</span></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE  TRUE  TRUE</code></pre>
<ul>
<li>논리값을 산출하므로 <code>filter()</code>함수와 함께 이용해 특정 문자 선택 혹은 제거에 활용할 수 있다.
<ul>
<li><code>filter(string %in% c("a","b","c"))</code>
투입한 문자벡터에서 지정된 자(예: a b c)를 필터(즉, 걸러내 이것들만 남김).</li>
<li><code>filter(!string %in% c("a","b","c"))</code> 투입한 문자벡터에서 지정된 문자(예: a b c)만 빼고 필터(즉, 이것들만 빼고 남김).</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb543"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb543-1"><a href="cleantool.html#cb543-1" aria-hidden="true" tabindex="-1"></a>text_v <span class="ot">&lt;-</span> <span class="st">&quot;You still fascinate and inspire me.</span></span>
<span id="cb543-2"><a href="cleantool.html#cb543-2" aria-hidden="true" tabindex="-1"></a><span class="st">You influence me for the better. </span></span>
<span id="cb543-3"><a href="cleantool.html#cb543-3" aria-hidden="true" tabindex="-1"></a><span class="st">You’re the object of my desire, the #1 Earthly reason for my existence.&quot;</span></span>
<span id="cb543-4"><a href="cleantool.html#cb543-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb543-5"><a href="cleantool.html#cb543-5" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> text_v) <span class="sc">%&gt;%</span> </span>
<span id="cb543-6"><a href="cleantool.html#cb543-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text) <span class="sc">%&gt;%</span> </span>
<span id="cb543-7"><a href="cleantool.html#cb543-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(word <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;still&quot;</span>, <span class="st">&quot;and&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 2 x 1
##   word 
##   &lt;chr&gt;
## 1 still
## 2 and</code></pre>
<div class="sourceCode" id="cb545"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb545-1"><a href="cleantool.html#cb545-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> text_v) <span class="sc">%&gt;%</span> </span>
<span id="cb545-2"><a href="cleantool.html#cb545-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text) <span class="sc">%&gt;%</span> </span>
<span id="cb545-3"><a href="cleantool.html#cb545-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>word <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;still&quot;</span>, <span class="st">&quot;and&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 23 x 1
##    word     
##    &lt;chr&gt;    
##  1 you      
##  2 fascinate
##  3 inspire  
##  4 me       
##  5 you      
##  6 influence
##  7 me       
##  8 for      
##  9 the      
## 10 better   
## # ... with 13 more rows</code></pre>
</div>
</div>
</div>
<div id="정규표현식regular-expressions" class="section level2" number="6.6">
<h2><span class="header-section-number">6.6</span> 정규표현식(regular expressions)</h2>
<p>정규표현식은 문자열의 패턴을 간결하고도 일관되게 기술하는 방식이다. 다양한 기능문자를 이용해 일반문자의 검색과 치환을 보다 효율적으로 할수 있다. 주요 기능문자는 다음과 같다. (기능문자는 메타문자 혹은 특수문자라고도 한다.)</p>
<ul>
<li><code>\</code> 이스케이프(escape)</li>
</ul>
<p>이스케이프 이후의 일반문자는 기능문자, 이스케이프 이후의 기능문자는 일반문자임을 의미한다.</p>
<p>예를 들어, 영문자 “d” 앞에 <code>\</code>를 넣어 <code>\d</code>로 표시하면 영문자 “d”앞에 <code>\</code>가 있기 때문에 <code>\d</code>는 영문자 “d”가 아니라 숫자를 의미하는 기능문자가 된다. <code>\w</code> <code>\s</code> <code>\b</code>도 마찬가지.</p>
<p>반대로 부정을 의미하는 <code>!</code>을 느낌표로 사용하기 위해서는 <code>\!</code>처럼 이스케이프문자가 앞에 와야 느낌표 일반문자로 인식한다.</p>
<p><strong>주의</strong></p>
<p><code>\</code>가 기능문자임을 알려야 하므로 <code>\</code>는 또 다른 <code>\</code>와 함께 쓰여야 한다. 따라서 실제로 쓰일 때는 <code>\\</code>를 두번 투입해 <code>\\d</code>나 <code>\\!</code>처럼 사용한다.</p>
<p>정규표현식의 종류는 다음 7종류로 구분할 수있다.</p>
<div id="일치하는-문자" class="section level4" number="6.6.0.1">
<h4><span class="header-section-number">6.6.0.1</span> 일치하는 문자</h4>
<ul>
<li><code>.</code> 임의의 한 요소 (new line은 예외)</li>
<li><code>\w</code> 단어문자 + 숫자 = <code>[:alnum:]</code> = 한국에선 <code>[a-zA-Z가-힣]</code>
<ul>
<li><code>\W</code> 단어문자가 아닌 요소</li>
</ul></li>
<li><code>\d</code> 숫자(digit) = <code>[:digit:]</code> = <code>[0-9]</code>
<ul>
<li><code>\D</code> 숫자가 아닌 요소 = <code>[^0-9]</code></li>
</ul></li>
<li><code>[:alpha:]</code> 단어문자
<ul>
<li><code>[:lower:]</code> = <code>[a-z]</code></li>
<li><code>[:upper:]</code> = <code>[A-Z]</code></li>
</ul></li>
<li><code>[:punct:]</code> 구두점</li>
<li><code>[:graph:]</code> 단어문자, 숫자, 구두점</li>
<li><code>\b</code> 단어문자의 경계.</li>
</ul>
</div>
<div id="공백문자whiatespace" class="section level4" number="6.6.0.2">
<h4><span class="header-section-number">6.6.0.2</span> 공백문자(whiatespace)</h4>
<ul>
<li><code>\n</code> 줄바꿈(new line)</li>
<li><code>\t</code> tab</li>
<li><code>\s</code> 아스키코드에 등록된 공백문자 6종(빈칸<code></code> 및 <code>\t</code> <code>\n</code> <code>\r</code> <code>\f</code> <code>\v</code> )
<ul>
<li><code>\S</code> 공백문자가 아닌 요소</li>
</ul></li>
<li><code>[:space:]</code> = <code>\s</code></li>
<li><code>[:blank:]</code> 빈칸<code></code> 과 <code>\t</code>
<ul>
<li>아스키 공백문자 중 <code>\n</code> <code>\r</code> <code>\f</code> 및 <code>v</code>는 해당 안됨</li>
</ul></li>
</ul>
<p><strong>주의1</strong></p>
<p><code>\n</code> <code>\t</code> <code>\r</code> <code>\v</code> <code>\f</code>에는 ASCII코드가 9~13까지 할당돼 있는 단독문자다 (Table <a href="#tab:ascii"><strong>??</strong></a>). <code>\n</code>과 <code>\t</code> 앞에 <code>\</code>를 붙여 <code>\\n</code> <code>\\t</code>로 투입하면, <code>\n</code>과 <code>\t</code>는 일반문자로 표시된다.</p>
<p>반면, 정규표현식에서 일반문자에 <code>\</code>문자를 더해 기능문자로 작동하는 <code>\w</code> <code>\s</code> <code>\d</code> <code>\b</code>는 <code>\</code>를 더하면 기능문자가 된다.</p>
<p><strong>주의2</strong></p>
<p><code>stringr</code>패키지 함수와 달리, R기본함수 중 다수는 <code>[[:digit:]]</code>처럼 대괄호를 2개 설정하도록 돼 있다.</p>
</div>
<div id="또는alternates" class="section level4" number="6.6.0.3">
<h4><span class="header-section-number">6.6.0.3</span> 또는(alternates)</h4>
<p>대괄호<code>[ ]</code>는 집합이나 범위를 나타낸다.</p>
<ul>
<li><code>|</code> 또는</li>
<li><code>[ ]</code> ~중 하나(one of)</li>
<li><code>[^ ]</code> ~만 제외(anything but) ** 대괄호 없는 <code>^</code>는 문자열 요소의 첫부분</li>
<li><code>[ - ]</code> ~부터 ~까지 범위(range)</li>
</ul>
</div>
<div id="묶음groups" class="section level4" number="6.6.0.4">
<h4><span class="header-section-number">6.6.0.4</span> 묶음(groups)</h4>
<ul>
<li><code>(  )</code> 소괄호 안은 하나의 요소를 묶임을 의미</li>
</ul>
</div>
<div id="앵커anchors" class="section level4" number="6.6.0.5">
<h4><span class="header-section-number">6.6.0.5</span> 앵커(anchors)</h4>
<ul>
<li><code>^</code> 문자열의 시작</li>
<li><code>$</code> 문자열의 종료</li>
</ul>
</div>
<div id="주변look-around" class="section level4" number="6.6.0.6">
<h4><span class="header-section-number">6.6.0.6</span> 주변(look around)</h4>
<ul>
<li><code>(?= )</code> 이어지는(followed by)</li>
<li><code>(?!= )</code> 이어지지 않는(not followed by)</li>
<li><code>(?&lt;= )</code> 선행하는(preceded by)</li>
<li><code>(?&lt;! )</code> 선행하지 않는(not preceded by)</li>
</ul>
</div>
<div id="반복일치quantifiers" class="section level4" number="6.6.0.7">
<h4><span class="header-section-number">6.6.0.7</span> 반복일치(quantifiers)</h4>
<p>중괄호 <code>{ }</code>는 횟수를 나타낸다.</p>
<ul>
<li><code>{n}</code> 선행요소가 n회( exactly n)</li>
<li><code>{n,}</code> 선행요소가 n회 또는 그 이상(n or more)</li>
<li><code>{n,m}</code> 선행요소가 n회와 m회 사이(between n and m)</li>
<li><code>?</code> 선행요소가 0회 또는 1회(zero or one) = <code>{0,1}</code></li>
<li><code>*</code> 선행요소가 0회 또는 그 이상(zero or more) = <code>{0,}</code></li>
<li><code>+</code> 선행요소가 1회 또는 그 이상(one or more) = <code>{1,}</code></li>
</ul>
<p><strong>주의</strong></p>
<p>앵커는 문자열 전체의 시작과 종료를 나타낸다. 따라서, 문자열 내 특정 단어만 지정할 때는 <code>\\b</code> 사용</p>
<p><strong>기타</strong></p>
<p><code>stringr</code>패키지의 <code>str_view()</code>와 <code>str_view_all()</code>함수를 이용해 정규표현식과 일반문자가 어떻게 부합하는지 확인할 수 있다. HTML로 렌더링해 산출.</p>
<ul>
<li><p><code>str_view()</code>
각 문자열에서 정규표현식의 패턴과 일치하는 첫째 요소를 HTML로 렌더링해 표시.</p></li>
<li><p><code>str_view_all()</code>
각 문자열에서 정규표현식의 패턴과 일치하는 모든 요소를 HTML로 렌더링해 표시.</p></li>
</ul>
</div>
<div id="일반문자와-기능문자" class="section level3" number="6.6.1">
<h3><span class="header-section-number">6.6.1</span> 일반문자와 기능문자</h3>
<p>일반문자를 겹따옴표에 넣어 패턴으로 투입.</p>
<div class="sourceCode" id="cb547"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb547-1"><a href="cleantool.html#cb547-1" aria-hidden="true" tabindex="-1"></a>txt2_v <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb547-2"><a href="cleantool.html#cb547-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;newline</span><span class="sc">\n\n</span><span class="st">,tab</span><span class="sc">\t\t</span><span class="st">,CR</span><span class="sc">\r\r</span><span class="st">,FF</span><span class="sc">\f\f</span><span class="st">VT</span><span class="sc">\v\v</span><span class="st">,space  space&quot;</span>,</span>
<span id="cb547-3"><a href="cleantool.html#cb547-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;abcABC가나다123구두점!@#%&amp;*()_{}:;/?기타$^+&lt;&gt;`~&quot;</span>,</span>
<span id="cb547-4"><a href="cleantool.html#cb547-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;가다aaaaapppP 8e.A pear... 123&quot;</span></span>
<span id="cb547-5"><a href="cleantool.html#cb547-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb547-6"><a href="cleantool.html#cb547-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="at">pattern =</span> <span class="st">&quot;s&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-02e76c2328b3a3c47e91" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-02e76c2328b3a3c47e91">{"x":{"html":"<ul>\n  <li>newline\n\n,tab\t\t,CR\r\r,FF\f\fVT\u000b\u000b,<span class='match'>s<\/span>pace  <span class='match'>s<\/span>pace<\/li>\n  <li>abcABC가나다123구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가다aaaaapppP 8e.A pear... 123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>일반문자에 이스케이프문자<code>\</code>를 투입하면 기능문자가 된다.</p>
<div class="sourceCode" id="cb548"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb548-1"><a href="cleantool.html#cb548-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="at">pattern =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">s&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-dedbd210e3a25289f3ce" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-dedbd210e3a25289f3ce">{"x":{"html":"<ul>\n  <li>newline<span class='match'>\n<\/span><span class='match'>\n<\/span>,tab<span class='match'>\t<\/span><span class='match'>\t<\/span>,CR<span class='match'>\r<\/span><span class='match'>\r<\/span>,FF<span class='match'>\f<\/span><span class='match'>\f<\/span>VT<span class='match'>\u000b<\/span><span class='match'>\u000b<\/span>,space<span class='match'> <\/span><span class='match'> <\/span>space<\/li>\n  <li>abcABC가나다123구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가다aaaaapppP<span class='match'> <\/span>8e.A<span class='match'> <\/span>pear...<span class='match'> <\/span>123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>일반문자로서 <code>\</code>문자와 함께 기능문자 역할을 하는 문자는 <code>\s</code>외에도 <code>\d</code> <code>\b</code> 등이 있다.</p>
<div class="sourceCode" id="cb549"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb549-1"><a href="cleantool.html#cb549-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="at">pattern =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">d</span><span class="sc">\\</span><span class="st">b&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-4283471b34a236a5dfc9" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-4283471b34a236a5dfc9">{"x":{"html":"<ul>\n  <li>newline\n\n,tab\t\t,CR\r\r,FF\f\fVT\u000b\u000b,space  space<\/li>\n  <li>abcABC가나다123구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가다aaaaapppP 8e.A pear... 12<span class='match'>3<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>기능문자를 패턴으로 투입한다.</p>
<div class="sourceCode" id="cb550"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb550-1"><a href="cleantool.html#cb550-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="at">pattern =</span> <span class="st">&quot;.&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-8c5013f46851eff485f8" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-8c5013f46851eff485f8">{"x":{"html":"<ul>\n  <li><span class='match'>n<\/span><span class='match'>e<\/span><span class='match'>w<\/span><span class='match'>l<\/span><span class='match'>i<\/span><span class='match'>n<\/span><span class='match'>e<\/span>\n\n<span class='match'>,<\/span><span class='match'>t<\/span><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>\t<\/span><span class='match'>\t<\/span><span class='match'>,<\/span><span class='match'>C<\/span><span class='match'>R<\/span>\r\r<span class='match'>,<\/span><span class='match'>F<\/span><span class='match'>F<\/span>\f\f<span class='match'>V<\/span><span class='match'>T<\/span>\u000b\u000b<span class='match'>,<\/span><span class='match'>s<\/span><span class='match'>p<\/span><span class='match'>a<\/span><span class='match'>c<\/span><span class='match'>e<\/span><span class='match'> <\/span><span class='match'> <\/span><span class='match'>s<\/span><span class='match'>p<\/span><span class='match'>a<\/span><span class='match'>c<\/span><span class='match'>e<\/span><\/li>\n  <li><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>c<\/span><span class='match'>A<\/span><span class='match'>B<\/span><span class='match'>C<\/span><span class='match'>가<\/span><span class='match'>나<\/span><span class='match'>다<\/span><span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span><span class='match'>구<\/span><span class='match'>두<\/span><span class='match'>점<\/span><span class='match'>!<\/span><span class='match'>@<\/span><span class='match'>#<\/span><span class='match'>%<\/span><span class='match'>&<\/span><span class='match'>*<\/span><span class='match'>(<\/span><span class='match'>)<\/span><span class='match'>_<\/span><span class='match'>{<\/span><span class='match'>}<\/span><span class='match'>:<\/span><span class='match'>;<\/span><span class='match'>/<\/span><span class='match'>?<\/span><span class='match'>기<\/span><span class='match'>타<\/span><span class='match'>$<\/span><span class='match'>^<\/span><span class='match'>+<\/span><span class='match'><<\/span><span class='match'>><\/span><span class='match'>`<\/span><span class='match'>~<\/span><\/li>\n  <li><span class='match'>가<\/span><span class='match'>다<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>p<\/span><span class='match'>p<\/span><span class='match'>p<\/span><span class='match'>P<\/span><span class='match'> <\/span><span class='match'>8<\/span><span class='match'>e<\/span><span class='match'>.<\/span><span class='match'>A<\/span><span class='match'> <\/span><span class='match'>p<\/span><span class='match'>e<\/span><span class='match'>a<\/span><span class='match'>r<\/span><span class='match'>.<\/span><span class='match'>.<\/span><span class='match'>.<\/span><span class='match'> <\/span><span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>기능문자에 이스케이프문자<code>\</code>를 투입하면 일반문자가 된다.</p>
<div class="sourceCode" id="cb551"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb551-1"><a href="cleantool.html#cb551-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="at">pattern =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">.&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-87933026211db6477497" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-87933026211db6477497">{"x":{"html":"<ul>\n  <li>newline\n\n,tab\t\t,CR\r\r,FF\f\fVT\u000b\u000b,space  space<\/li>\n  <li>abcABC가나다123구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가다aaaaapppP 8e<span class='match'>.<\/span>A pear<span class='match'>.<\/span><span class='match'>.<\/span><span class='match'>.<\/span> 123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="일치하는-문자match-characters" class="section level3" number="6.6.2">
<h3><span class="header-section-number">6.6.2</span> 일치하는 문자(Match Characters)</h3>
<ul>
<li><code>.</code> 임의의 한 요소 (new line은 예외).</li>
<li><code>\w</code> 단어문자 + 숫자 = <code>[:alnum:]</code> = 한국에선 <code>[a-zA-Z가-힣]</code>
<ul>
<li><code>\W</code> 단어나 숫자가 아닌 요소</li>
</ul></li>
<li><code>\d</code> 숫자(digit) = <code>[:digit:]</code> = <code>[0-9]</code>
<ul>
<li><code>\D</code> 숫자가 아닌 요소 = <code>[^0-9]</code></li>
</ul></li>
<li><code>[:alpha:]</code> 단어문자. 영어권에선 <code>[a-zA-Z]</code> 한국어권에선 <code>[가-힣]</code>
<ul>
<li><code>[:lower:]</code> = <code>[a-z]</code></li>
<li><code>[:upper:]</code> = <code>[A-Z]</code></li>
</ul></li>
<li><code>[:punct:]</code> 구두점</li>
<li><code>[:graph:]</code> 단어문자, 숫자, 구두점</li>
<li><code>\b</code> 단어문자의 경계.</li>
</ul>
<div id="section" class="section level4" number="6.6.2.1">
<h4><span class="header-section-number">6.6.2.1</span> <code>.</code></h4>
<p>임의의 한 요소(new line 제외).</p>
<div class="sourceCode" id="cb552"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb552-1"><a href="cleantool.html#cb552-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;.&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-7486875ca7e6b4e3116d" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-7486875ca7e6b4e3116d">{"x":{"html":"<ul>\n  <li><span class='match'>n<\/span><span class='match'>e<\/span><span class='match'>w<\/span><span class='match'>l<\/span><span class='match'>i<\/span><span class='match'>n<\/span><span class='match'>e<\/span>\n\n<span class='match'>,<\/span><span class='match'>t<\/span><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>\t<\/span><span class='match'>\t<\/span><span class='match'>,<\/span><span class='match'>C<\/span><span class='match'>R<\/span>\r\r<span class='match'>,<\/span><span class='match'>F<\/span><span class='match'>F<\/span>\f\f<span class='match'>V<\/span><span class='match'>T<\/span>\u000b\u000b<span class='match'>,<\/span><span class='match'>s<\/span><span class='match'>p<\/span><span class='match'>a<\/span><span class='match'>c<\/span><span class='match'>e<\/span><span class='match'> <\/span><span class='match'> <\/span><span class='match'>s<\/span><span class='match'>p<\/span><span class='match'>a<\/span><span class='match'>c<\/span><span class='match'>e<\/span><\/li>\n  <li><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>c<\/span><span class='match'>A<\/span><span class='match'>B<\/span><span class='match'>C<\/span><span class='match'>가<\/span><span class='match'>나<\/span><span class='match'>다<\/span><span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span><span class='match'>구<\/span><span class='match'>두<\/span><span class='match'>점<\/span><span class='match'>!<\/span><span class='match'>@<\/span><span class='match'>#<\/span><span class='match'>%<\/span><span class='match'>&<\/span><span class='match'>*<\/span><span class='match'>(<\/span><span class='match'>)<\/span><span class='match'>_<\/span><span class='match'>{<\/span><span class='match'>}<\/span><span class='match'>:<\/span><span class='match'>;<\/span><span class='match'>/<\/span><span class='match'>?<\/span><span class='match'>기<\/span><span class='match'>타<\/span><span class='match'>$<\/span><span class='match'>^<\/span><span class='match'>+<\/span><span class='match'><<\/span><span class='match'>><\/span><span class='match'>`<\/span><span class='match'>~<\/span><\/li>\n  <li><span class='match'>가<\/span><span class='match'>다<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>p<\/span><span class='match'>p<\/span><span class='match'>p<\/span><span class='match'>P<\/span><span class='match'> <\/span><span class='match'>8<\/span><span class='match'>e<\/span><span class='match'>.<\/span><span class='match'>A<\/span><span class='match'> <\/span><span class='match'>p<\/span><span class='match'>e<\/span><span class='match'>a<\/span><span class='match'>r<\/span><span class='match'>.<\/span><span class='match'>.<\/span><span class='match'>.<\/span><span class='match'> <\/span><span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>일반문자 “e” 및 “e” 앞뒤 임의의 한 요소</p>
<div class="sourceCode" id="cb553"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb553-1"><a href="cleantool.html#cb553-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;.e.&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-6fa69cb8261335dc4d92" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-6fa69cb8261335dc4d92">{"x":{"html":"<ul>\n  <li><span class='match'>new<\/span>line\n\n,tab\t\t,CR\r\r,FF\f\fVT\u000b\u000b,spa<span class='match'>ce <\/span> space<\/li>\n  <li>abcABC가나다123구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가다aaaaapppP <span class='match'>8e.<\/span>A <span class='match'>pea<\/span>r... 123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>일반문자 “.”하나와 임의 요소 하나</p>
<div class="sourceCode" id="cb554"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb554-1"><a href="cleantool.html#cb554-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">..&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-1bdf2e8cce12894667af" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-1bdf2e8cce12894667af">{"x":{"html":"<ul>\n  <li>newline\n\n,tab\t\t,CR\r\r,FF\f\fVT\u000b\u000b,space  space<\/li>\n  <li>abcABC가나다123구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가다aaaaapppP 8e<span class='match'>.A<\/span> pear<span class='match'>..<\/span><span class='match'>. <\/span>123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>일반문자“.” 두개가 포함된 문자열</p>
<div class="sourceCode" id="cb555"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb555-1"><a href="cleantool.html#cb555-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">.</span><span class="sc">\\</span><span class="st">.&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-d032d52789da448c7e7a" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-d032d52789da448c7e7a">{"x":{"html":"<ul>\n  <li>newline\n\n,tab\t\t,CR\r\r,FF\f\fVT\u000b\u000b,space  space<\/li>\n  <li>abcABC가나다123구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가다aaaaapppP 8e.A pear<span class='match'>..<\/span>. 123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>일반문자 “.” 한개가 포함된 문자열</p>
<div class="sourceCode" id="cb556"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb556-1"><a href="cleantool.html#cb556-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">.&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-181de605c06a53f5ae63" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-181de605c06a53f5ae63">{"x":{"html":"<ul>\n  <li>newline\n\n,tab\t\t,CR\r\r,FF\f\fVT\u000b\u000b,space  space<\/li>\n  <li>abcABC가나다123구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가다aaaaapppP 8e<span class='match'>.<\/span>A pear<span class='match'>.<\/span><span class='match'>.<\/span><span class='match'>.<\/span> 123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="w-alpha-lower-upper" class="section level4" number="6.6.2.2">
<h4><span class="header-section-number">6.6.2.2</span> <code>\w</code> <code>[:alpha:]</code> <code>[:lower:]</code> <code>[:upper:]</code></h4>
<p>글자 5개가 포함된 문자열</p>
<div class="sourceCode" id="cb557"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb557-1"><a href="cleantool.html#cb557-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">w</span><span class="sc">\\</span><span class="st">w</span><span class="sc">\\</span><span class="st">w</span><span class="sc">\\</span><span class="st">w</span><span class="sc">\\</span><span class="st">w&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-426623b93e004d2843d0" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-426623b93e004d2843d0">{"x":{"html":"<ul>\n  <li><span class='match'>newli<\/span>ne\n\n,tab\t\t,CR\r\r,FF\f\fVT\u000b\u000b,<span class='match'>space<\/span>  <span class='match'>space<\/span><\/li>\n  <li><span class='match'>abcAB<\/span><span class='match'>C가나다1<\/span><span class='match'>23구두점<\/span>!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li><span class='match'>가다aaa<\/span><span class='match'>aappp<\/span>P 8e.A pear... 123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>글자 2개가 포함된 문자열</p>
<div class="sourceCode" id="cb558"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb558-1"><a href="cleantool.html#cb558-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;[:alpha:][:alpha:]&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-e0dfafbebb8abcdc685c" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-e0dfafbebb8abcdc685c">{"x":{"html":"<ul>\n  <li><span class='match'>ne<\/span><span class='match'>wl<\/span><span class='match'>in<\/span>e\n\n,<span class='match'>ta<\/span>b\t\t,<span class='match'>CR<\/span>\r\r,<span class='match'>FF<\/span>\f\f<span class='match'>VT<\/span>\u000b\u000b,<span class='match'>sp<\/span><span class='match'>ac<\/span>e  <span class='match'>sp<\/span><span class='match'>ac<\/span>e<\/li>\n  <li><span class='match'>ab<\/span><span class='match'>cA<\/span><span class='match'>BC<\/span><span class='match'>가나<\/span>다123<span class='match'>구두<\/span>점!@#%&*()_{}:;/?<span class='match'>기타<\/span>$^+<>`~<\/li>\n  <li><span class='match'>가다<\/span><span class='match'>aa<\/span><span class='match'>aa<\/span><span class='match'>ap<\/span><span class='match'>pp<\/span>P 8e.A <span class='match'>pe<\/span><span class='match'>ar<\/span>... 123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>영문 소문자 한개</p>
<div class="sourceCode" id="cb559"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb559-1"><a href="cleantool.html#cb559-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;[:lower:]&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-bbc34abe0bf8701db5dd" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-bbc34abe0bf8701db5dd">{"x":{"html":"<ul>\n  <li><span class='match'>n<\/span><span class='match'>e<\/span><span class='match'>w<\/span><span class='match'>l<\/span><span class='match'>i<\/span><span class='match'>n<\/span><span class='match'>e<\/span>\n\n,<span class='match'>t<\/span><span class='match'>a<\/span><span class='match'>b<\/span>\t\t,CR\r\r,FF\f\fVT\u000b\u000b,<span class='match'>s<\/span><span class='match'>p<\/span><span class='match'>a<\/span><span class='match'>c<\/span><span class='match'>e<\/span>  <span class='match'>s<\/span><span class='match'>p<\/span><span class='match'>a<\/span><span class='match'>c<\/span><span class='match'>e<\/span><\/li>\n  <li><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>c<\/span>ABC가나다123구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가다<span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>p<\/span><span class='match'>p<\/span><span class='match'>p<\/span>P 8<span class='match'>e<\/span>.A <span class='match'>p<\/span><span class='match'>e<\/span><span class='match'>a<\/span><span class='match'>r<\/span>... 123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb560"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb560-1"><a href="cleantool.html#cb560-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;[a-z]&quot;</span>) </span></code></pre></div>
<p><div id="htmlwidget-15d767667ce459c2087f" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-15d767667ce459c2087f">{"x":{"html":"<ul>\n  <li><span class='match'>n<\/span><span class='match'>e<\/span><span class='match'>w<\/span><span class='match'>l<\/span><span class='match'>i<\/span><span class='match'>n<\/span><span class='match'>e<\/span>\n\n,<span class='match'>t<\/span><span class='match'>a<\/span><span class='match'>b<\/span>\t\t,CR\r\r,FF\f\fVT\u000b\u000b,<span class='match'>s<\/span><span class='match'>p<\/span><span class='match'>a<\/span><span class='match'>c<\/span><span class='match'>e<\/span>  <span class='match'>s<\/span><span class='match'>p<\/span><span class='match'>a<\/span><span class='match'>c<\/span><span class='match'>e<\/span><\/li>\n  <li><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>c<\/span>ABC가나다123구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가다<span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>p<\/span><span class='match'>p<\/span><span class='match'>p<\/span>P 8<span class='match'>e<\/span>.A <span class='match'>p<\/span><span class='match'>e<\/span><span class='match'>a<\/span><span class='match'>r<\/span>... 123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
영문 대문자 한개</p>
<div class="sourceCode" id="cb561"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb561-1"><a href="cleantool.html#cb561-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;[:upper:]&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-16e68a2dc4f5d0d93d00" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-16e68a2dc4f5d0d93d00">{"x":{"html":"<ul>\n  <li>newline\n\n,tab\t\t,<span class='match'>C<\/span><span class='match'>R<\/span>\r\r,<span class='match'>F<\/span><span class='match'>F<\/span>\f\f<span class='match'>V<\/span><span class='match'>T<\/span>\u000b\u000b,space  space<\/li>\n  <li>abc<span class='match'>A<\/span><span class='match'>B<\/span><span class='match'>C<\/span>가나다123구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가다aaaaappp<span class='match'>P<\/span> 8e.<span class='match'>A<\/span> pear... 123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb562"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb562-1"><a href="cleantool.html#cb562-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;[A-Z]&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-e5ec2e0c3bcdec56bb33" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-e5ec2e0c3bcdec56bb33">{"x":{"html":"<ul>\n  <li>newline\n\n,tab\t\t,<span class='match'>C<\/span><span class='match'>R<\/span>\r\r,<span class='match'>F<\/span><span class='match'>F<\/span>\f\f<span class='match'>V<\/span><span class='match'>T<\/span>\u000b\u000b,space  space<\/li>\n  <li>abc<span class='match'>A<\/span><span class='match'>B<\/span><span class='match'>C<\/span>가나다123구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가다aaaaappp<span class='match'>P<\/span> 8e.<span class='match'>A<\/span> pear... 123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="d" class="section level4" number="6.6.2.3">
<h4><span class="header-section-number">6.6.2.3</span> <code>\d</code></h4>
<p>숫자 하나</p>
<div class="sourceCode" id="cb563"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb563-1"><a href="cleantool.html#cb563-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">d&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-fe41ce08d9b2a02a65a5" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-fe41ce08d9b2a02a65a5">{"x":{"html":"<ul>\n  <li>newline\n\n,tab\t\t,CR\r\r,FF\f\fVT\u000b\u000b,space  space<\/li>\n  <li>abcABC가나다<span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span>구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가다aaaaapppP <span class='match'>8<\/span>e.A pear... <span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb564"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb564-1"><a href="cleantool.html#cb564-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;[:digit:]&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-c1b8bac8be14c6a5a924" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-c1b8bac8be14c6a5a924">{"x":{"html":"<ul>\n  <li>newline\n\n,tab\t\t,CR\r\r,FF\f\fVT\u000b\u000b,space  space<\/li>\n  <li>abcABC가나다<span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span>구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가다aaaaapppP <span class='match'>8<\/span>e.A pear... <span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb565"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb565-1"><a href="cleantool.html#cb565-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;[0-9]&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-33b0d4f4fdff51f93521" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-33b0d4f4fdff51f93521">{"x":{"html":"<ul>\n  <li>newline\n\n,tab\t\t,CR\r\r,FF\f\fVT\u000b\u000b,space  space<\/li>\n  <li>abcABC가나다<span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span>구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가다aaaaapppP <span class='match'>8<\/span>e.A pear... <span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>임의의 숫자 하나 이외의 요소</p>
<div class="sourceCode" id="cb566"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb566-1"><a href="cleantool.html#cb566-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">D&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-56a5fe1ae690bc97f510" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-56a5fe1ae690bc97f510">{"x":{"html":"<ul>\n  <li><span class='match'>n<\/span><span class='match'>e<\/span><span class='match'>w<\/span><span class='match'>l<\/span><span class='match'>i<\/span><span class='match'>n<\/span><span class='match'>e<\/span><span class='match'>\n<\/span><span class='match'>\n<\/span><span class='match'>,<\/span><span class='match'>t<\/span><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>\t<\/span><span class='match'>\t<\/span><span class='match'>,<\/span><span class='match'>C<\/span><span class='match'>R<\/span><span class='match'>\r<\/span><span class='match'>\r<\/span><span class='match'>,<\/span><span class='match'>F<\/span><span class='match'>F<\/span><span class='match'>\f<\/span><span class='match'>\f<\/span><span class='match'>V<\/span><span class='match'>T<\/span><span class='match'>\u000b<\/span><span class='match'>\u000b<\/span><span class='match'>,<\/span><span class='match'>s<\/span><span class='match'>p<\/span><span class='match'>a<\/span><span class='match'>c<\/span><span class='match'>e<\/span><span class='match'> <\/span><span class='match'> <\/span><span class='match'>s<\/span><span class='match'>p<\/span><span class='match'>a<\/span><span class='match'>c<\/span><span class='match'>e<\/span><\/li>\n  <li><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>c<\/span><span class='match'>A<\/span><span class='match'>B<\/span><span class='match'>C<\/span><span class='match'>가<\/span><span class='match'>나<\/span><span class='match'>다<\/span>123<span class='match'>구<\/span><span class='match'>두<\/span><span class='match'>점<\/span><span class='match'>!<\/span><span class='match'>@<\/span><span class='match'>#<\/span><span class='match'>%<\/span><span class='match'>&<\/span><span class='match'>*<\/span><span class='match'>(<\/span><span class='match'>)<\/span><span class='match'>_<\/span><span class='match'>{<\/span><span class='match'>}<\/span><span class='match'>:<\/span><span class='match'>;<\/span><span class='match'>/<\/span><span class='match'>?<\/span><span class='match'>기<\/span><span class='match'>타<\/span><span class='match'>$<\/span><span class='match'>^<\/span><span class='match'>+<\/span><span class='match'><<\/span><span class='match'>><\/span><span class='match'>`<\/span><span class='match'>~<\/span><\/li>\n  <li><span class='match'>가<\/span><span class='match'>다<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>p<\/span><span class='match'>p<\/span><span class='match'>p<\/span><span class='match'>P<\/span><span class='match'> <\/span>8<span class='match'>e<\/span><span class='match'>.<\/span><span class='match'>A<\/span><span class='match'> <\/span><span class='match'>p<\/span><span class='match'>e<\/span><span class='match'>a<\/span><span class='match'>r<\/span><span class='match'>.<\/span><span class='match'>.<\/span><span class='match'>.<\/span><span class='match'> <\/span>123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb567"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb567-1"><a href="cleantool.html#cb567-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;[^0-9]&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-dc1acc003be79963b8bc" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-dc1acc003be79963b8bc">{"x":{"html":"<ul>\n  <li><span class='match'>n<\/span><span class='match'>e<\/span><span class='match'>w<\/span><span class='match'>l<\/span><span class='match'>i<\/span><span class='match'>n<\/span><span class='match'>e<\/span><span class='match'>\n<\/span><span class='match'>\n<\/span><span class='match'>,<\/span><span class='match'>t<\/span><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>\t<\/span><span class='match'>\t<\/span><span class='match'>,<\/span><span class='match'>C<\/span><span class='match'>R<\/span><span class='match'>\r<\/span><span class='match'>\r<\/span><span class='match'>,<\/span><span class='match'>F<\/span><span class='match'>F<\/span><span class='match'>\f<\/span><span class='match'>\f<\/span><span class='match'>V<\/span><span class='match'>T<\/span><span class='match'>\u000b<\/span><span class='match'>\u000b<\/span><span class='match'>,<\/span><span class='match'>s<\/span><span class='match'>p<\/span><span class='match'>a<\/span><span class='match'>c<\/span><span class='match'>e<\/span><span class='match'> <\/span><span class='match'> <\/span><span class='match'>s<\/span><span class='match'>p<\/span><span class='match'>a<\/span><span class='match'>c<\/span><span class='match'>e<\/span><\/li>\n  <li><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>c<\/span><span class='match'>A<\/span><span class='match'>B<\/span><span class='match'>C<\/span><span class='match'>가<\/span><span class='match'>나<\/span><span class='match'>다<\/span>123<span class='match'>구<\/span><span class='match'>두<\/span><span class='match'>점<\/span><span class='match'>!<\/span><span class='match'>@<\/span><span class='match'>#<\/span><span class='match'>%<\/span><span class='match'>&<\/span><span class='match'>*<\/span><span class='match'>(<\/span><span class='match'>)<\/span><span class='match'>_<\/span><span class='match'>{<\/span><span class='match'>}<\/span><span class='match'>:<\/span><span class='match'>;<\/span><span class='match'>/<\/span><span class='match'>?<\/span><span class='match'>기<\/span><span class='match'>타<\/span><span class='match'>$<\/span><span class='match'>^<\/span><span class='match'>+<\/span><span class='match'><<\/span><span class='match'>><\/span><span class='match'>`<\/span><span class='match'>~<\/span><\/li>\n  <li><span class='match'>가<\/span><span class='match'>다<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>p<\/span><span class='match'>p<\/span><span class='match'>p<\/span><span class='match'>P<\/span><span class='match'> <\/span>8<span class='match'>e<\/span><span class='match'>.<\/span><span class='match'>A<\/span><span class='match'> <\/span><span class='match'>p<\/span><span class='match'>e<\/span><span class='match'>a<\/span><span class='match'>r<\/span><span class='match'>.<\/span><span class='match'>.<\/span><span class='match'>.<\/span><span class='match'> <\/span>123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>임의의 문자 혹은 숫자 하나</p>
<div class="sourceCode" id="cb568"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb568-1"><a href="cleantool.html#cb568-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;[:alnum:]&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-9fb4bc05756fbee93cd1" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-9fb4bc05756fbee93cd1">{"x":{"html":"<ul>\n  <li><span class='match'>n<\/span><span class='match'>e<\/span><span class='match'>w<\/span><span class='match'>l<\/span><span class='match'>i<\/span><span class='match'>n<\/span><span class='match'>e<\/span>\n\n,<span class='match'>t<\/span><span class='match'>a<\/span><span class='match'>b<\/span>\t\t,<span class='match'>C<\/span><span class='match'>R<\/span>\r\r,<span class='match'>F<\/span><span class='match'>F<\/span>\f\f<span class='match'>V<\/span><span class='match'>T<\/span>\u000b\u000b,<span class='match'>s<\/span><span class='match'>p<\/span><span class='match'>a<\/span><span class='match'>c<\/span><span class='match'>e<\/span>  <span class='match'>s<\/span><span class='match'>p<\/span><span class='match'>a<\/span><span class='match'>c<\/span><span class='match'>e<\/span><\/li>\n  <li><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>c<\/span><span class='match'>A<\/span><span class='match'>B<\/span><span class='match'>C<\/span><span class='match'>가<\/span><span class='match'>나<\/span><span class='match'>다<\/span><span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span><span class='match'>구<\/span><span class='match'>두<\/span><span class='match'>점<\/span>!@#%&*()_{}:;/?<span class='match'>기<\/span><span class='match'>타<\/span>$^+<>`~<\/li>\n  <li><span class='match'>가<\/span><span class='match'>다<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>p<\/span><span class='match'>p<\/span><span class='match'>p<\/span><span class='match'>P<\/span> <span class='match'>8<\/span><span class='match'>e<\/span>.<span class='match'>A<\/span> <span class='match'>p<\/span><span class='match'>e<\/span><span class='match'>a<\/span><span class='match'>r<\/span>... <span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>일반문자 “다”와 임의의 문자 혹은 숫자</p>
<div class="sourceCode" id="cb569"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb569-1"><a href="cleantool.html#cb569-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;다[:alnum:]&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-970a0b7eda2a3542b268" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-970a0b7eda2a3542b268">{"x":{"html":"<ul>\n  <li>newline\n\n,tab\t\t,CR\r\r,FF\f\fVT\u000b\u000b,space  space<\/li>\n  <li>abcABC가나<span class='match'>다1<\/span>23구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가<span class='match'>다a<\/span>aaaapppP 8e.A pear... 123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="punct-graph" class="section level4" number="6.6.2.4">
<h4><span class="header-section-number">6.6.2.4</span> <code>[:punct:]</code> <code>[:graph:]</code></h4>
<p>구두점(?, !, $ 등)이 포함된 문자열</p>
<div class="sourceCode" id="cb570"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb570-1"><a href="cleantool.html#cb570-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;[:punct:]&quot;</span>) </span></code></pre></div>
<p><div id="htmlwidget-66d2748798277830c36a" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-66d2748798277830c36a">{"x":{"html":"<ul>\n  <li>newline\n\n<span class='match'>,<\/span>tab\t\t<span class='match'>,<\/span>CR\r\r<span class='match'>,<\/span>FF\f\fVT\u000b\u000b<span class='match'>,<\/span>space  space<\/li>\n  <li>abcABC가나다123구두점<span class='match'>!<\/span><span class='match'>@<\/span><span class='match'>#<\/span><span class='match'>%<\/span><span class='match'>&<\/span><span class='match'>*<\/span><span class='match'>(<\/span><span class='match'>)<\/span><span class='match'>_<\/span><span class='match'>{<\/span><span class='match'>}<\/span><span class='match'>:<\/span><span class='match'>;<\/span><span class='match'>/<\/span><span class='match'>?<\/span>기타$^+<>`~<\/li>\n  <li>가다aaaaapppP 8e<span class='match'>.<\/span>A pear<span class='match'>.<\/span><span class='match'>.<\/span><span class='match'>.<\/span> 123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
구두점, 문자, 숫자가 포함된 문자열. 공백문자 미포함</p>
<div class="sourceCode" id="cb571"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb571-1"><a href="cleantool.html#cb571-1" aria-hidden="true" tabindex="-1"></a>txt2_v <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb571-2"><a href="cleantool.html#cb571-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;newline</span><span class="sc">\n\n</span><span class="st">,tab</span><span class="sc">\t\t</span><span class="st">,CR</span><span class="sc">\r\r</span><span class="st">,FF</span><span class="sc">\f\f</span><span class="st">VT</span><span class="sc">\v\v</span><span class="st">,space  space&quot;</span>,</span>
<span id="cb571-3"><a href="cleantool.html#cb571-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;abcABC가나다123구두점!@#%&amp;*()_{}:;/?기타$^+&lt;&gt;`~&quot;</span>,</span>
<span id="cb571-4"><a href="cleantool.html#cb571-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;가지 aaaaapppP 8e.A pear... 123&quot;</span></span>
<span id="cb571-5"><a href="cleantool.html#cb571-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb571-6"><a href="cleantool.html#cb571-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb571-7"><a href="cleantool.html#cb571-7" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;[:graph:]&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-9fc5367e8a29ab3ce97d" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-9fc5367e8a29ab3ce97d">{"x":{"html":"<ul>\n  <li><span class='match'>n<\/span><span class='match'>e<\/span><span class='match'>w<\/span><span class='match'>l<\/span><span class='match'>i<\/span><span class='match'>n<\/span><span class='match'>e<\/span>\n\n<span class='match'>,<\/span><span class='match'>t<\/span><span class='match'>a<\/span><span class='match'>b<\/span>\t\t<span class='match'>,<\/span><span class='match'>C<\/span><span class='match'>R<\/span>\r\r<span class='match'>,<\/span><span class='match'>F<\/span><span class='match'>F<\/span>\f\f<span class='match'>V<\/span><span class='match'>T<\/span>\u000b\u000b<span class='match'>,<\/span><span class='match'>s<\/span><span class='match'>p<\/span><span class='match'>a<\/span><span class='match'>c<\/span><span class='match'>e<\/span>  <span class='match'>s<\/span><span class='match'>p<\/span><span class='match'>a<\/span><span class='match'>c<\/span><span class='match'>e<\/span><\/li>\n  <li><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>c<\/span><span class='match'>A<\/span><span class='match'>B<\/span><span class='match'>C<\/span><span class='match'>가<\/span><span class='match'>나<\/span><span class='match'>다<\/span><span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span><span class='match'>구<\/span><span class='match'>두<\/span><span class='match'>점<\/span><span class='match'>!<\/span><span class='match'>@<\/span><span class='match'>#<\/span><span class='match'>%<\/span><span class='match'>&<\/span><span class='match'>*<\/span><span class='match'>(<\/span><span class='match'>)<\/span><span class='match'>_<\/span><span class='match'>{<\/span><span class='match'>}<\/span><span class='match'>:<\/span><span class='match'>;<\/span><span class='match'>/<\/span><span class='match'>?<\/span><span class='match'>기<\/span><span class='match'>타<\/span><span class='match'>$<\/span><span class='match'>^<\/span><span class='match'>+<\/span><span class='match'><<\/span><span class='match'>><\/span><span class='match'>`<\/span><span class='match'>~<\/span><\/li>\n  <li><span class='match'>가<\/span><span class='match'>지<\/span> <span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>p<\/span><span class='match'>p<\/span><span class='match'>p<\/span><span class='match'>P<\/span> <span class='match'>8<\/span><span class='match'>e<\/span><span class='match'>.<\/span><span class='match'>A<\/span> <span class='match'>p<\/span><span class='match'>e<\/span><span class='match'>a<\/span><span class='match'>r<\/span><span class='match'>.<\/span><span class='match'>.<\/span><span class='match'>.<\/span> <span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="공백문자whitespace-2" class="section level3" number="6.6.3">
<h3><span class="header-section-number">6.6.3</span> 공백문자(whitespace)</h3>
<ul>
<li><code>\n</code> 줄바꿈(new line)</li>
<li><code>\t</code> tab</li>
<li><code>\s</code> 아스키코드에 등록된 공백문자 6종(빈칸<code></code> 및 <code>\t</code> <code>\n</code> <code>\r</code> <code>\f</code> <code>v</code> )
<ul>
<li><code>\S</code> 공백문자가 아닌 요소</li>
</ul></li>
<li><code>[:space:]</code> = <code>\s</code></li>
<li><code>[:blank:]</code> 빈칸<code></code> 과 <code>\t</code>
<ul>
<li>아스키 공백문자 중 <code>\n</code> <code>\r</code> <code>\f</code> 및 <code>v</code>는 해당 안됨</li>
</ul></li>
</ul>
<p><code>\t</code>은 탭 하나</p>
<div class="sourceCode" id="cb572"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb572-1"><a href="cleantool.html#cb572-1" aria-hidden="true" tabindex="-1"></a>txt2_v <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb572-2"><a href="cleantool.html#cb572-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;newline</span><span class="sc">\n\n</span><span class="st">,tab</span><span class="sc">\t\t</span><span class="st">,CR</span><span class="sc">\r\r</span><span class="st">,FF</span><span class="sc">\f\f</span><span class="st">VT</span><span class="sc">\v\v</span><span class="st">,space  space&quot;</span>,</span>
<span id="cb572-3"><a href="cleantool.html#cb572-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;abcABC가나다123구두점!@#%&amp;*()_{}:;/?기타$^+&lt;&gt;`~&quot;</span>,</span>
<span id="cb572-4"><a href="cleantool.html#cb572-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;가지 aaaaapppP 8e.A pear... 123&quot;</span></span>
<span id="cb572-5"><a href="cleantool.html#cb572-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb572-6"><a href="cleantool.html#cb572-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;</span><span class="sc">\t</span><span class="st">&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-b5a6217d090d89140e13" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-b5a6217d090d89140e13">{"x":{"html":"<ul>\n  <li>newline\n\n,tab<span class='match'>\t<\/span><span class='match'>\t<\/span>,CR\r\r,FF\f\fVT\u000b\u000b,space  space<\/li>\n  <li>abcABC가나다123구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가지 aaaaapppP 8e.A pear... 123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p><code>\\s</code>와 <code>[:space:]</code>는 공백문자(whitespace) 6종(space 및 <code>\t\n\v\r\f</code>) 문자 하나</p>
<div class="sourceCode" id="cb573"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb573-1"><a href="cleantool.html#cb573-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">s&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-62a2c8a95bec510d30c3" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-62a2c8a95bec510d30c3">{"x":{"html":"<ul>\n  <li>newline<span class='match'>\n<\/span><span class='match'>\n<\/span>,tab<span class='match'>\t<\/span><span class='match'>\t<\/span>,CR<span class='match'>\r<\/span><span class='match'>\r<\/span>,FF<span class='match'>\f<\/span><span class='match'>\f<\/span>VT<span class='match'>\u000b<\/span><span class='match'>\u000b<\/span>,space<span class='match'> <\/span><span class='match'> <\/span>space<\/li>\n  <li>abcABC가나다123구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가지<span class='match'> <\/span>aaaaapppP<span class='match'> <\/span>8e.A<span class='match'> <\/span>pear...<span class='match'> <\/span>123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb574"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb574-1"><a href="cleantool.html#cb574-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;[:space:]&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-1d1a9f73a59fd3d24fe9" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-1d1a9f73a59fd3d24fe9">{"x":{"html":"<ul>\n  <li>newline<span class='match'>\n<\/span><span class='match'>\n<\/span>,tab<span class='match'>\t<\/span><span class='match'>\t<\/span>,CR<span class='match'>\r<\/span><span class='match'>\r<\/span>,FF<span class='match'>\f<\/span><span class='match'>\f<\/span>VT<span class='match'>\u000b<\/span><span class='match'>\u000b<\/span>,space<span class='match'> <\/span><span class='match'> <\/span>space<\/li>\n  <li>abcABC가나다123구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가지<span class='match'> <\/span>aaaaapppP<span class='match'> <\/span>8e.A<span class='match'> <\/span>pear...<span class='match'> <\/span>123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p><code>[:blank:]</code>는 공백문자(whitespace) 6종(space 및 <code>\t\n\v\r\f</code>) 중 space<code></code>와 <code>\t</code>만 해당.</p>
<div class="sourceCode" id="cb575"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb575-1"><a href="cleantool.html#cb575-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;[:blank:]&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-69b11a5e989b11cd8abd" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-69b11a5e989b11cd8abd">{"x":{"html":"<ul>\n  <li>newline\n\n,tab<span class='match'>\t<\/span><span class='match'>\t<\/span>,CR\r\r,FF\f\fVT\u000b\u000b,space<span class='match'> <\/span><span class='match'> <\/span>space<\/li>\n  <li>abcABC가나다123구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가지<span class='match'> <\/span>aaaaapppP<span class='match'> <\/span>8e.A<span class='match'> <\/span>pear...<span class='match'> <\/span>123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="또는" class="section level3" number="6.6.4">
<h3><span class="header-section-number">6.6.4</span> 또는</h3>
<p>대괄호<code>[ ]</code>는 집합이나 범위 표시</p>
<ul>
<li><code>|</code> 또는</li>
<li><code>[ ]</code> ~중 하나(one of)</li>
<li><code>[^ ]</code> ~만 제외(anything but) ** 대괄호 없는 <code>^</code>는 문자열 요소의 첫부분</li>
<li><code>[ - ]</code> ~부터 ~까지 범위(range)</li>
</ul>
<p>모음 중 하나</p>
<div class="sourceCode" id="cb576"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb576-1"><a href="cleantool.html#cb576-1" aria-hidden="true" tabindex="-1"></a>txt2_v <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb576-2"><a href="cleantool.html#cb576-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;newline</span><span class="sc">\n\n</span><span class="st">,tab</span><span class="sc">\t\t</span><span class="st">,CR</span><span class="sc">\r\r</span><span class="st">,FF</span><span class="sc">\f\f</span><span class="st">VT</span><span class="sc">\v\v</span><span class="st">,space  space&quot;</span>,</span>
<span id="cb576-3"><a href="cleantool.html#cb576-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;abcABC가나다123구두점!@#%&amp;*()_{}:;/?기타$^+&lt;&gt;`~&quot;</span>,</span>
<span id="cb576-4"><a href="cleantool.html#cb576-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;가지 aaaaapppP 8e.A pear... 123&quot;</span></span>
<span id="cb576-5"><a href="cleantool.html#cb576-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb576-6"><a href="cleantool.html#cb576-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;[aeiou]&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-a29ac146b85363e03cca" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-a29ac146b85363e03cca">{"x":{"html":"<ul>\n  <li>n<span class='match'>e<\/span>wl<span class='match'>i<\/span>n<span class='match'>e<\/span>\n\n,t<span class='match'>a<\/span>b\t\t,CR\r\r,FF\f\fVT\u000b\u000b,sp<span class='match'>a<\/span>c<span class='match'>e<\/span>  sp<span class='match'>a<\/span>c<span class='match'>e<\/span><\/li>\n  <li><span class='match'>a<\/span>bcABC가나다123구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가지 <span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span>pppP 8<span class='match'>e<\/span>.A p<span class='match'>e<\/span><span class='match'>a<\/span>r... 123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>“abcABC가나다” 제외(anything but)</p>
<div class="sourceCode" id="cb577"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb577-1"><a href="cleantool.html#cb577-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;[^abcABC가나다]&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-b73f5cc9e3007b1dad91" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-b73f5cc9e3007b1dad91">{"x":{"html":"<ul>\n  <li><span class='match'>n<\/span><span class='match'>e<\/span><span class='match'>w<\/span><span class='match'>l<\/span><span class='match'>i<\/span><span class='match'>n<\/span><span class='match'>e<\/span><span class='match'>\n<\/span><span class='match'>\n<\/span><span class='match'>,<\/span><span class='match'>t<\/span>ab<span class='match'>\t<\/span><span class='match'>\t<\/span><span class='match'>,<\/span>C<span class='match'>R<\/span><span class='match'>\r<\/span><span class='match'>\r<\/span><span class='match'>,<\/span><span class='match'>F<\/span><span class='match'>F<\/span><span class='match'>\f<\/span><span class='match'>\f<\/span><span class='match'>V<\/span><span class='match'>T<\/span><span class='match'>\u000b<\/span><span class='match'>\u000b<\/span><span class='match'>,<\/span><span class='match'>s<\/span><span class='match'>p<\/span>ac<span class='match'>e<\/span><span class='match'> <\/span><span class='match'> <\/span><span class='match'>s<\/span><span class='match'>p<\/span>ac<span class='match'>e<\/span><\/li>\n  <li>abcABC가나다<span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span><span class='match'>구<\/span><span class='match'>두<\/span><span class='match'>점<\/span><span class='match'>!<\/span><span class='match'>@<\/span><span class='match'>#<\/span><span class='match'>%<\/span><span class='match'>&<\/span><span class='match'>*<\/span><span class='match'>(<\/span><span class='match'>)<\/span><span class='match'>_<\/span><span class='match'>{<\/span><span class='match'>}<\/span><span class='match'>:<\/span><span class='match'>;<\/span><span class='match'>/<\/span><span class='match'>?<\/span><span class='match'>기<\/span><span class='match'>타<\/span><span class='match'>$<\/span><span class='match'>^<\/span><span class='match'>+<\/span><span class='match'><<\/span><span class='match'>><\/span><span class='match'>`<\/span><span class='match'>~<\/span><\/li>\n  <li>가<span class='match'>지<\/span><span class='match'> <\/span>aaaaa<span class='match'>p<\/span><span class='match'>p<\/span><span class='match'>p<\/span><span class='match'>P<\/span><span class='match'> <\/span><span class='match'>8<\/span><span class='match'>e<\/span><span class='match'>.<\/span>A<span class='match'> <\/span><span class='match'>p<\/span><span class='match'>e<\/span>a<span class='match'>r<\/span><span class='match'>.<\/span><span class='match'>.<\/span><span class='match'>.<\/span><span class='match'> <\/span><span class='match'>1<\/span><span class='match'>2<\/span><span class='match'>3<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb578"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb578-1"><a href="cleantool.html#cb578-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;[a-e]&quot;</span>) <span class="co"># &quot;a&quot; 부터 &quot;e&quot; 까지</span></span></code></pre></div>
<div id="htmlwidget-98dc35cef6980a313ab4" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-98dc35cef6980a313ab4">{"x":{"html":"<ul>\n  <li>n<span class='match'>e<\/span>wlin<span class='match'>e<\/span>\n\n,t<span class='match'>a<\/span><span class='match'>b<\/span>\t\t,CR\r\r,FF\f\fVT\u000b\u000b,sp<span class='match'>a<\/span><span class='match'>c<\/span><span class='match'>e<\/span>  sp<span class='match'>a<\/span><span class='match'>c<\/span><span class='match'>e<\/span><\/li>\n  <li><span class='match'>a<\/span><span class='match'>b<\/span><span class='match'>c<\/span>ABC가나다123구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가지 <span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span>pppP 8<span class='match'>e<\/span>.A p<span class='match'>e<\/span><span class='match'>a<\/span>r... 123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="묶음" class="section level3" number="6.6.5">
<h3><span class="header-section-number">6.6.5</span> 묶음</h3>
<ul>
<li><code>(  )</code> 소괄호 안은 하나의 요소</li>
</ul>
<p>“ap” 또는 “e”와 그 다음의 “p”</p>
<div class="sourceCode" id="cb579"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb579-1"><a href="cleantool.html#cb579-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="st">&quot;eeeppp&quot;</span>, <span class="st">&quot;table&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb579-2"><a href="cleantool.html#cb579-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(<span class="st">&quot;(ap|e)p&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-3d2e1cab51fec80e5f19" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-3d2e1cab51fec80e5f19">{"x":{"html":"<ul>\n  <li><span class='match'>app<\/span>le<\/li>\n  <li>ee<span class='match'>ep<\/span>pp<\/li>\n  <li>table<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="앵커" class="section level3" number="6.6.6">
<h3><span class="header-section-number">6.6.6</span> 앵커</h3>
<ul>
<li><code>^</code> 문자열의 시작</li>
<li><code>$</code> 문자열의 종료</li>
</ul>
<p>가장 앞에 있는 “a”</p>
<div class="sourceCode" id="cb580"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb580-1"><a href="cleantool.html#cb580-1" aria-hidden="true" tabindex="-1"></a>txt2_v <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb580-2"><a href="cleantool.html#cb580-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;newline</span><span class="sc">\n\n</span><span class="st">,tab</span><span class="sc">\t\t</span><span class="st">,CR</span><span class="sc">\r\r</span><span class="st">,FF</span><span class="sc">\f\f</span><span class="st">VT</span><span class="sc">\v\v</span><span class="st">,space  space&quot;</span>,</span>
<span id="cb580-3"><a href="cleantool.html#cb580-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;abcABC가나다123구두점!@#%&amp;*()_{}:;/?기타$^+&lt;&gt;`~&quot;</span>,</span>
<span id="cb580-4"><a href="cleantool.html#cb580-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;가지 aaaaapppP 8e.A pear... 123&quot;</span></span>
<span id="cb580-5"><a href="cleantool.html#cb580-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb580-6"><a href="cleantool.html#cb580-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;^a&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-9ca95463473f6187d8ea" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-9ca95463473f6187d8ea">{"x":{"html":"<ul>\n  <li>newline\n\n,tab\t\t,CR\r\r,FF\f\fVT\u000b\u000b,space  space<\/li>\n  <li><span class='match'>a<\/span>bcABC가나다123구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가지 aaaaapppP 8e.A pear... 123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>가장 뒤에 있는 “e”</p>
<div class="sourceCode" id="cb581"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb581-1"><a href="cleantool.html#cb581-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(txt2_v, <span class="st">&quot;e$&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-0aabbaaf5f2dd0afcaf6" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-0aabbaaf5f2dd0afcaf6">{"x":{"html":"<ul>\n  <li>newline\n\n,tab\t\t,CR\r\r,FF\f\fVT\u000b\u000b,space  spac<span class='match'>e<\/span><\/li>\n  <li>abcABC가나다123구두점!@#%&*()_{}:;/?기타$^+<>`~<\/li>\n  <li>가지 aaaaapppP 8e.A pear... 123<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>문자열 내에서 특정 단어와 정확하게 일치하는 문자는 <code>\\b</code> 이용.</p>
<div class="sourceCode" id="cb582"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb582-1"><a href="cleantool.html#cb582-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;단어, 단어&quot;</span>, <span class="st">&quot;단어&quot;</span>, <span class="st">&quot;단어단어&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb582-2"><a href="cleantool.html#cb582-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_view_all</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">b단어</span><span class="sc">\\</span><span class="st">b&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-9eb91b285a17b8f05da7" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-9eb91b285a17b8f05da7">{"x":{"html":"<ul>\n  <li><span class='match'>단어<\/span>, <span class='match'>단어<\/span><\/li>\n  <li><span class='match'>단어<\/span><\/li>\n  <li>단어단어<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p><code>^</code>와 <code>$</code>는 문자열 전체의 앞과 뒤를 지정</p>
<div class="sourceCode" id="cb583"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb583-1"><a href="cleantool.html#cb583-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;단어, 단어&quot;</span>, <span class="st">&quot;단어&quot;</span>, <span class="st">&quot;단어단어&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb583-2"><a href="cleantool.html#cb583-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_view_all</span>(<span class="st">&quot;^단어$&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-25dc6ef775abb0a3fdf5" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-25dc6ef775abb0a3fdf5">{"x":{"html":"<ul>\n  <li>단어, 단어<\/li>\n  <li><span class='match'>단어<\/span><\/li>\n  <li>단어단어<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="주변look-around-1" class="section level3" number="6.6.7">
<h3><span class="header-section-number">6.6.7</span> 주변(look around)</h3>
<ul>
<li><code>(?= )</code> 이어지는(followed by)</li>
<li><code>(?!= )</code> 이어지지 않는(not followed by)</li>
<li><code>(?&lt;= )</code> 선행하는(preceded by)</li>
<li><code>(?&lt;! )</code> 선행하지 않는(not preceded by)</li>
</ul>
<p>뒤에 “P”가 있는 “a”</p>
<div class="sourceCode" id="cb584"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb584-1"><a href="cleantool.html#cb584-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;aaaPPP&quot;</span>, <span class="st">&quot;PPPaaa&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb584-2"><a href="cleantool.html#cb584-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(<span class="st">&quot;a(?=P)&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-18a9eca9831bae438daa" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-18a9eca9831bae438daa">{"x":{"html":"<ul>\n  <li>aa<span class='match'>a<\/span>PPP<\/li>\n  <li>PPPaaa<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>뒤에 “P”가 없는 “a”</p>
<div class="sourceCode" id="cb585"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb585-1"><a href="cleantool.html#cb585-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;aaaPPP&quot;</span>, <span class="st">&quot;PPPaaa&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb585-2"><a href="cleantool.html#cb585-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_view_all</span>(<span class="st">&quot;a(?!P)&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-4fcb76b574518da8fce9" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-4fcb76b574518da8fce9">{"x":{"html":"<ul>\n  <li><span class='match'>a<\/span><span class='match'>a<\/span>aPPP<\/li>\n  <li>PPP<span class='match'>a<\/span><span class='match'>a<\/span><span class='match'>a<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>앞에 “e”가 있는 “T”</p>
<div class="sourceCode" id="cb586"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb586-1"><a href="cleantool.html#cb586-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;eeeTTT&quot;</span>, <span class="st">&quot;TTTeee&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb586-2"><a href="cleantool.html#cb586-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_view_all</span>(<span class="st">&quot;(?&lt;=e)T&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-bf581a730fde3ca6353c" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-bf581a730fde3ca6353c">{"x":{"html":"<ul>\n  <li>eee<span class='match'>T<\/span>TT<\/li>\n  <li>TTTeee<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>앞에 “e”가 없는 “T”</p>
<div class="sourceCode" id="cb587"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb587-1"><a href="cleantool.html#cb587-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="st">&quot;eeeTTT&quot;</span>, <span class="st">&quot;TTTeee&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb587-2"><a href="cleantool.html#cb587-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_view_all</span>(<span class="st">&quot;(?&lt;!e)T&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-430e62896a1a55d91068" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-430e62896a1a55d91068">{"x":{"html":"<ul>\n  <li>eeeT<span class='match'>T<\/span><span class='match'>T<\/span><\/li>\n  <li><span class='match'>T<\/span><span class='match'>T<\/span><span class='match'>T<\/span>eee<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="반복일치" class="section level3" number="6.6.8">
<h3><span class="header-section-number">6.6.8</span> 반복일치</h3>
<p>중괄호 <code>{ }</code>는 횟수 혹은 범위</p>
<ul>
<li><code>{n}</code> 선행요소가 n회( exactly n)</li>
<li><code>{n,}</code> 선행요소가 n회 또는 그 이상(n or more)</li>
<li><code>{n,m}</code> 선행요소가 n회와 m회 사이(between n and m)</li>
<li><code>?</code> 선행요소가 0회 또는 1회(zero or one) = <code>{0,1}</code></li>
<li><code>*</code> 선행요소가 0회 또는 그 이상(zero or more) = <code>{0,}</code></li>
<li><code>+</code> 선행요소가 1회 또는 그 이상(one or more) = <code>{1,}</code></li>
</ul>
<div class="sourceCode" id="cb588"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb588-1"><a href="cleantool.html#cb588-1" aria-hidden="true" tabindex="-1"></a>qt_v <span class="ot">&lt;-</span> <span class="st">&quot;aaaaaa, taaaaaa, ta, ttttaaaaa, ttttt&quot;</span></span></code></pre></div>
<p>“a”가 3개.</p>
<div class="sourceCode" id="cb589"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb589-1"><a href="cleantool.html#cb589-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(qt_v, <span class="st">&quot;ta{3}&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-02199d22df4d510cd36e" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-02199d22df4d510cd36e">{"x":{"html":"<ul>\n  <li>aaaaaa, <span class='match'>taaa<\/span>aaa, ta, ttt<span class='match'>taaa<\/span>aa, ttttt<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>“a”가 2개 또는 그 이상</p>
<div class="sourceCode" id="cb590"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb590-1"><a href="cleantool.html#cb590-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(qt_v, <span class="st">&quot;ta{2,}&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-6ff7b0e10d641a851a55" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-6ff7b0e10d641a851a55">{"x":{"html":"<ul>\n  <li>aaaaaa, <span class='match'>taaaaaa<\/span>, ta, ttt<span class='match'>taaaaa<\/span>, ttttt<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>“a”가 1회 또는 그 이상.</p>
<div class="sourceCode" id="cb591"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb591-1"><a href="cleantool.html#cb591-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(qt_v, <span class="st">&quot;ta{1,}&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-6102d3a830a1b12de249" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-6102d3a830a1b12de249">{"x":{"html":"<ul>\n  <li>aaaaaa, <span class='match'>taaaaaa<\/span>, <span class='match'>ta<\/span>, ttt<span class='match'>taaaaa<\/span>, ttttt<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb592"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb592-1"><a href="cleantool.html#cb592-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(qt_v, <span class="st">&quot;ta+&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-5a0f97d9c2ce5d4c5c80" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-5a0f97d9c2ce5d4c5c80">{"x":{"html":"<ul>\n  <li>aaaaaa, <span class='match'>taaaaaa<\/span>, <span class='match'>ta<\/span>, ttt<span class='match'>taaaaa<\/span>, ttttt<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>“a”가 0회 또는 그 이상.</p>
<div class="sourceCode" id="cb593"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb593-1"><a href="cleantool.html#cb593-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(qt_v, <span class="st">&quot;ta{0,}&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-9b0a1cbd62183482b6bb" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-9b0a1cbd62183482b6bb">{"x":{"html":"<ul>\n  <li>aaaaaa, <span class='match'>taaaaaa<\/span>, <span class='match'>ta<\/span>, <span class='match'>t<\/span><span class='match'>t<\/span><span class='match'>t<\/span><span class='match'>taaaaa<\/span>, <span class='match'>t<\/span><span class='match'>t<\/span><span class='match'>t<\/span><span class='match'>t<\/span><span class='match'>t<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb594"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb594-1"><a href="cleantool.html#cb594-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(qt_v, <span class="st">&quot;ta*&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-05499768ac92aeb1bf02" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-05499768ac92aeb1bf02">{"x":{"html":"<ul>\n  <li>aaaaaa, <span class='match'>taaaaaa<\/span>, <span class='match'>ta<\/span>, <span class='match'>t<\/span><span class='match'>t<\/span><span class='match'>t<\/span><span class='match'>taaaaa<\/span>, <span class='match'>t<\/span><span class='match'>t<\/span><span class='match'>t<\/span><span class='match'>t<\/span><span class='match'>t<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>“a”가 1회와 3회사이</p>
<div class="sourceCode" id="cb595"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb595-1"><a href="cleantool.html#cb595-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(qt_v, <span class="st">&quot;ta{1,3}&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-4a56d1adb142c9b90e7b" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-4a56d1adb142c9b90e7b">{"x":{"html":"<ul>\n  <li>aaaaaa, <span class='match'>taaa<\/span>aaa, <span class='match'>ta<\/span>, ttt<span class='match'>taaa<\/span>aa, ttttt<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>“a”가 0회와 1회 사이</p>
<div class="sourceCode" id="cb596"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb596-1"><a href="cleantool.html#cb596-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(qt_v, <span class="st">&quot;ta{0,1}&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-428b6a6f980924e4321b" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-428b6a6f980924e4321b">{"x":{"html":"<ul>\n  <li>aaaaaa, <span class='match'>ta<\/span>aaaaa, <span class='match'>ta<\/span>, <span class='match'>t<\/span><span class='match'>t<\/span><span class='match'>t<\/span><span class='match'>ta<\/span>aaaa, <span class='match'>t<\/span><span class='match'>t<\/span><span class='match'>t<\/span><span class='match'>t<\/span><span class='match'>t<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb597"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb597-1"><a href="cleantool.html#cb597-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(qt_v, <span class="st">&quot;ta?&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-06dedb452dead4b6eaba" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-06dedb452dead4b6eaba">{"x":{"html":"<ul>\n  <li>aaaaaa, <span class='match'>ta<\/span>aaaaa, <span class='match'>ta<\/span>, <span class='match'>t<\/span><span class='match'>t<\/span><span class='match'>t<\/span><span class='match'>ta<\/span>aaaa, <span class='match'>t<\/span><span class='match'>t<\/span><span class='match'>t<\/span><span class='match'>t<\/span><span class='match'>t<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="유용한-정규표현식" class="section level3" number="6.6.9">
<h3><span class="header-section-number">6.6.9</span> 유용한 정규표현식</h3>
<ul>
<li>알파벳 대문자로 시작하는 글자 (반복기호 <code>+</code>(one or more) 사용)</li>
</ul>
<div class="sourceCode" id="cb598"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb598-1"><a href="cleantool.html#cb598-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(<span class="st">&quot;You and I inFluence Him ~&quot;</span>, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">b[A-Z][a-z]+&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-618c6d03e8637ede14ed" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-618c6d03e8637ede14ed">{"x":{"html":"<ul>\n  <li><span class='match'>You<\/span> and I inFluence <span class='match'>Him<\/span> ~<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<ul>
<li>한글자도 포함하려면 반복기호를 <code>*</code>(zero or more)로 변경</li>
</ul>
<div class="sourceCode" id="cb599"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb599-1"><a href="cleantool.html#cb599-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(<span class="st">&quot;You and I inFluence Him ~&quot;</span>, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">b[A-Z][a-z]*&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-2970fb707d9bfb501729" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-2970fb707d9bfb501729">{"x":{"html":"<ul>\n  <li><span class='match'>You<\/span> and <span class='match'>I<\/span> inFluence <span class='match'>Him<\/span> ~<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<ul>
<li><code>[:graph:]*</code> 연속하는 임의 숫자 문자 구두점</li>
</ul>
<div class="sourceCode" id="cb600"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb600-1"><a href="cleantool.html#cb600-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(<span class="st">&quot;123-</span><span class="sc">\n</span><span class="st">ABadc-</span><span class="sc">\t</span><span class="st">4567 가나다 I  가&quot;</span>, <span class="st">&quot;[:graph:]*&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-84db4320d847c8947ae6" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-84db4320d847c8947ae6">{"x":{"html":"<ul>\n  <li><span class='match'>123-<\/span><span class='match'><\/span>\n<span class='match'>ABadc-<\/span><span class='match'><\/span>\t<span class='match'>4567<\/span><span class='match'><\/span> <span class='match'>가나다<\/span><span class='match'><\/span> <span class='match'>I<\/span><span class='match'><\/span> <span class='match'><\/span> <span class='match'>가<\/span><span class='match'><\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<ul>
<li>연속하는 문자와 숫자가 아닌 요소들 <code>[^[:alnum:]]+</code></li>
</ul>
<div class="sourceCode" id="cb601"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb601-1"><a href="cleantool.html#cb601-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(<span class="st">&quot;You influence me @@@ 123 ~~~ ^^ ㅋㅋㅋ &quot;</span>, <span class="st">&quot;[^[:alnum:]]+&quot;</span> )</span></code></pre></div>
<div id="htmlwidget-b9682d5a523b9874f806" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-b9682d5a523b9874f806">{"x":{"html":"<ul>\n  <li>You<span class='match'> <\/span>influence<span class='match'> <\/span>me<span class='match'> @@@ <\/span>123<span class='match'> ~~~ ^^ <\/span>ㅋㅋㅋ<span class='match'> <\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<ul>
<li><code>//b[0-9]*$\\b</code> 숫자만. <code>^[0-9]*&amp;</code>는 한</li>
</ul>
<div class="sourceCode" id="cb602"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb602-1"><a href="cleantool.html#cb602-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(<span class="st">&quot;123-</span><span class="sc">\n</span><span class="st">ABadc234-</span><span class="sc">\t</span><span class="st">4567 가나다&quot;</span>, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">b[0-9]*</span><span class="sc">\\</span><span class="st">b&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-603db7cb408ffb96c7e0" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-603db7cb408ffb96c7e0">{"x":{"html":"<ul>\n  <li><span class='match'>123<\/span><span class='match'><\/span>-\n<span class='match'><\/span>ABadc234<span class='match'><\/span>-\t<span class='match'>4567<\/span><span class='match'><\/span> <span class='match'><\/span>가나다<span class='match'><\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<ul>
<li><code>\\b[a-zA-Z]*\\b</code> 영문자만</li>
</ul>
<div class="sourceCode" id="cb603"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb603-1"><a href="cleantool.html#cb603-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(<span class="st">&quot;123-</span><span class="sc">\n</span><span class="st">ABadc234-</span><span class="sc">\t</span><span class="st">4567 가나다 abcd ABCD adGGG&quot;</span>, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">b[a-zA-Z]*</span><span class="sc">\\</span><span class="st">b&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-a6bee4e082cb40a2f95b" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-a6bee4e082cb40a2f95b">{"x":{"html":"<ul>\n  <li><span class='match'><\/span>123<span class='match'><\/span>-\n<span class='match'><\/span>ABadc234<span class='match'><\/span>-\t<span class='match'><\/span>4567<span class='match'><\/span> <span class='match'><\/span>가나다<span class='match'><\/span> <span class='match'>abcd<\/span><span class='match'><\/span> <span class='match'>ABCD<\/span><span class='match'><\/span> <span class='match'>adGGG<\/span><span class='match'><\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<ul>
<li><code>\\b[가-힣]*\\b</code> 한글만</li>
</ul>
<div class="sourceCode" id="cb604"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb604-1"><a href="cleantool.html#cb604-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(<span class="st">&quot;123-</span><span class="sc">\n</span><span class="st">ABadc234-</span><span class="sc">\t</span><span class="st">4567 가나다 abcd ABCD adGGG&quot;</span>, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">b[가-힣]*</span><span class="sc">\\</span><span class="st">b&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-843dd37f0b29a4595490" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-843dd37f0b29a4595490">{"x":{"html":"<ul>\n  <li><span class='match'><\/span>123<span class='match'><\/span>-\n<span class='match'><\/span>ABadc234<span class='match'><\/span>-\t<span class='match'><\/span>4567<span class='match'><\/span> <span class='match'>가나다<\/span><span class='match'><\/span> <span class='match'><\/span>abcd<span class='match'><\/span> <span class='match'><\/span>ABCD<span class='match'><\/span> <span class='match'><\/span>adGGG<span class='match'><\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<ul>
<li><code>\\b[a-zA-Z가-힣]*\\b</code> 영문자와 한글만</li>
</ul>
<div class="sourceCode" id="cb605"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb605-1"><a href="cleantool.html#cb605-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(<span class="st">&quot;123-</span><span class="sc">\n</span><span class="st">ABadc234-</span><span class="sc">\t</span><span class="st">4567 가나다 abcd ABCD adGGG&quot;</span>, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">b[a-zA-Z가-힣]*</span><span class="sc">\\</span><span class="st">b&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-bef55e8d50f8408f966e" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-bef55e8d50f8408f966e">{"x":{"html":"<ul>\n  <li><span class='match'><\/span>123<span class='match'><\/span>-\n<span class='match'><\/span>ABadc234<span class='match'><\/span>-\t<span class='match'><\/span>4567<span class='match'><\/span> <span class='match'>가나다<\/span><span class='match'><\/span> <span class='match'>abcd<\/span><span class='match'><\/span> <span class='match'>ABCD<\/span><span class='match'><\/span> <span class='match'>adGGG<\/span><span class='match'><\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="연습-4" class="section level3" number="6.6.10">
<h3><span class="header-section-number">6.6.10</span> 연습</h3>
<ol style="list-style-type: decimal">
<li>정규표현식으로 주민등록번호를 표현하시오. 하이픈(“-”) 앞뒤로 숫자 6개만 지정하시오.</li>
</ol>
<div class="sourceCode" id="cb606"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb606-1"><a href="cleantool.html#cb606-1" aria-hidden="true" tabindex="-1"></a>ssn_v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;900230-1234567, 901030-2234567&quot;</span>, </span>
<span id="cb606-2"><a href="cleantool.html#cb606-2" aria-hidden="true" tabindex="-1"></a>           <span class="st">&quot;902230-3234567&quot;</span>, </span>
<span id="cb606-3"><a href="cleantool.html#cb606-3" aria-hidden="true" tabindex="-1"></a>           <span class="st">&quot;901030-6234567, 901050-4234567&quot;</span>)</span>
<span id="cb606-4"><a href="cleantool.html#cb606-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(ssn_v,  <span class="st">&quot;</span><span class="sc">\\</span><span class="st">d{6}-</span><span class="sc">\\</span><span class="st">d{7}&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-d880099d67687292ac76" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-d880099d67687292ac76">{"x":{"html":"<ul>\n  <li><span class='match'>900230-1234567<\/span>, <span class='match'>901030-2234567<\/span><\/li>\n  <li><span class='match'>902230-3234567<\/span><\/li>\n  <li><span class='match'>901030-6234567<\/span>, <span class='match'>901050-4234567<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<ol start="2" style="list-style-type: decimal">
<li>앞 6자리 중 3,4번째는 월, 5,6번째는 일이므로, 숫자의 범위가 월은 1부터 12까지로 일은 1부터 31까지로 정해져 있다. 월일의 범위를 지정한 정규표현식을 제시하시오.</li>
</ol>
<div class="sourceCode" id="cb607"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb607-1"><a href="cleantool.html#cb607-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(ssn_v,  <span class="st">&quot;</span><span class="sc">\\</span><span class="st">d{2}(0[1-9]|1[0-2])[0-3][0-9]-</span><span class="sc">\\</span><span class="st">d{7}&quot;</span>) </span></code></pre></div>
<div id="htmlwidget-780adff6bbe099f24ede" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-780adff6bbe099f24ede">{"x":{"html":"<ul>\n  <li><span class='match'>900230-1234567<\/span>, <span class='match'>901030-2234567<\/span><\/li>\n  <li>902230-3234567<\/li>\n  <li><span class='match'>901030-6234567<\/span>, 901050-4234567<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<ol start="2" style="list-style-type: decimal">
<li><code>.+@.+</code>은 <code>@</code> 앞뒤로 임의 문자를 지정하므로 이메일에 표현이 될수 있다. 이를 조금 더 정교화해, 도메인의 종류(예: .com, .info)까지 지정한 이메일에 대한 정규표현식을 제시하시오.</li>
</ol>
<div class="sourceCode" id="cb608"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb608-1"><a href="cleantool.html#cb608-1" aria-hidden="true" tabindex="-1"></a>email1_v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;apple@ddd.kr, tesla@sss.com, amazon@ttt.info, MS@x.com&quot;</span>)</span>
<span id="cb608-2"><a href="cleantool.html#cb608-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_view_all</span>(email1_v, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">b[:graph:]*@[:graph:]*</span><span class="sc">\\</span><span class="st">.[a-zA-Z]{2,4}</span><span class="sc">\\</span><span class="st">b&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-1e24e8a3a3a765b36d69" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-1e24e8a3a3a765b36d69">{"x":{"html":"<ul>\n  <li><span class='match'>apple@ddd.kr<\/span>, <span class='match'>tesla@sss.com<\/span>, <span class='match'>amazon@ttt.info<\/span>, <span class='match'>MS@x.com<\/span><\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<ol start="3" style="list-style-type: decimal">
<li>“무서”로 시작하는 문자열을 추출하시오.</li>
</ol>
<div class="sourceCode" id="cb609"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb609-1"><a href="cleantool.html#cb609-1" aria-hidden="true" tabindex="-1"></a>mu_v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;두렵고 무서움&quot;</span>, <span class="st">&quot;무서운&quot;</span>, <span class="st">&quot;무서운 꿈에&quot;</span>, <span class="st">&quot;무서워서&quot;</span>, <span class="st">&quot;무리야&quot;</span>)</span>
<span id="cb609-2"><a href="cleantool.html#cb609-2" aria-hidden="true" tabindex="-1"></a>mu_v <span class="sc">%&gt;%</span> <span class="fu">str_subset</span>(<span class="st">&quot;^무서&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;무서운&quot;      &quot;무서운 꿈에&quot; &quot;무서워서&quot;</code></pre>
<ol start="4" style="list-style-type: decimal">
<li>“무서”로 시작하는 모든 단어를 추출하시오.</li>
</ol>
<div class="sourceCode" id="cb611"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb611-1"><a href="cleantool.html#cb611-1" aria-hidden="true" tabindex="-1"></a>mu_v <span class="sc">%&gt;%</span> <span class="fu">str_extract</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">b무서</span><span class="sc">\\</span><span class="st">w*</span><span class="sc">\\</span><span class="st">b&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;무서움&quot;   &quot;무서운&quot;   &quot;무서운&quot;   &quot;무서워서&quot; NA</code></pre>
<ol start="5" style="list-style-type: decimal">
<li>“무서”가 포함된 문자열을 추출하시오.</li>
</ol>
<div class="sourceCode" id="cb613"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb613-1"><a href="cleantool.html#cb613-1" aria-hidden="true" tabindex="-1"></a>mu_v <span class="sc">%&gt;%</span> <span class="fu">str_subset</span>(<span class="st">&quot;무서&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;두렵고 무서움&quot; &quot;무서운&quot;        &quot;무서운 꿈에&quot;   &quot;무서워서&quot;</code></pre>
<ol start="6" style="list-style-type: decimal">
<li>영문에서 “나”를 표현하는 단어는 “I, my, me, mine”뿐 아니라, “I’ll, I’ve, I’d, myself” 등이 있다. “나”를 표현하는 단어를 모두 “ME”로 변환하시오.</li>
</ol>
<div class="sourceCode" id="cb615"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb615-1"><a href="cleantool.html#cb615-1" aria-hidden="true" tabindex="-1"></a>tst_v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;I am, I, my, me, mine, I&#39;ll, I&#39;ve, I&#39;d, myself&quot;</span>, </span>
<span id="cb615-2"><a href="cleantool.html#cb615-2" aria-hidden="true" tabindex="-1"></a>           <span class="st">&quot;i am, i, i&#39;m, i&#39;ve&quot;</span>,</span>
<span id="cb615-3"><a href="cleantool.html#cb615-3" aria-hidden="true" tabindex="-1"></a>           <span class="st">&quot;interesting, INCH, mean, myopia&quot;</span>)</span>
<span id="cb615-4"><a href="cleantool.html#cb615-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb615-5"><a href="cleantool.html#cb615-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(tst_v, <span class="st">&quot;(i|I)&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-f2b3702fca371a5a9793" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-f2b3702fca371a5a9793">{"x":{"html":"<ul>\n  <li><span class='match'>I<\/span> am, <span class='match'>I<\/span>, my, me, m<span class='match'>i<\/span>ne, <span class='match'>I<\/span>'ll, <span class='match'>I<\/span>'ve, <span class='match'>I<\/span>'d, myself<\/li>\n  <li><span class='match'>i<\/span> am, <span class='match'>i<\/span>, <span class='match'>i<\/span>'m, <span class='match'>i<\/span>'ve<\/li>\n  <li><span class='match'>i<\/span>nterest<span class='match'>i<\/span>ng, <span class='match'>I<\/span>NCH, mean, myop<span class='match'>i<\/span>a<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb616"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb616-1"><a href="cleantool.html#cb616-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(tst_v, <span class="st">&quot;^(i|I)&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-7dcc1e1c9c51e3a3ebc5" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-7dcc1e1c9c51e3a3ebc5">{"x":{"html":"<ul>\n  <li><span class='match'>I<\/span> am, I, my, me, mine, I'll, I've, I'd, myself<\/li>\n  <li><span class='match'>i<\/span> am, i, i'm, i've<\/li>\n  <li><span class='match'>i<\/span>nteresting, INCH, mean, myopia<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb617"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb617-1"><a href="cleantool.html#cb617-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(tst_v, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">b(i|I)</span><span class="sc">\\</span><span class="st">b&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-5e23903f208bf715f9a1" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-5e23903f208bf715f9a1">{"x":{"html":"<ul>\n  <li><span class='match'>I<\/span> am, <span class='match'>I<\/span>, my, me, mine, <span class='match'>I<\/span>'ll, <span class='match'>I<\/span>'ve, <span class='match'>I<\/span>'d, myself<\/li>\n  <li><span class='match'>i<\/span> am, <span class='match'>i<\/span>, <span class='match'>i<\/span>'m, <span class='match'>i<\/span>'ve<\/li>\n  <li>interesting, INCH, mean, myopia<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<div class="sourceCode" id="cb618"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb618-1"><a href="cleantool.html#cb618-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_replace_all</span>(tst_v, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">b(i|I)</span><span class="sc">\\</span><span class="st">b&quot;</span>, <span class="st">&quot;ME&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;ME am, ME, my, me, mine, ME&#39;ll, ME&#39;ve, ME&#39;d, myself&quot;
## [2] &quot;ME am, ME, ME&#39;m, ME&#39;ve&quot;                             
## [3] &quot;interesting, INCH, mean, myopia&quot;</code></pre>
<p>“I’m” 등을 “ME’m”이 아니라 “ME”가 되게 하자.</p>
<div class="sourceCode" id="cb620"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb620-1"><a href="cleantool.html#cb620-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(tst_v, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">b(i|I)[:punct:][:alpha:]+</span><span class="sc">\\</span><span class="st">b&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-9cebf908c523ad36e37f" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-9cebf908c523ad36e37f">{"x":{"html":"<ul>\n  <li>I am, I, my, me, mine, <span class='match'>I'll<\/span>, <span class='match'>I've<\/span>, <span class='match'>I'd<\/span>, myself<\/li>\n  <li>i am, i, <span class='match'>i'm<\/span>, <span class='match'>i've<\/span><\/li>\n  <li>interesting, INCH, mean, myopia<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>가능한 패턴을 모두 만들어 저장하자.</p>
<div class="sourceCode" id="cb621"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb621-1"><a href="cleantool.html#cb621-1" aria-hidden="true" tabindex="-1"></a>meword_v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">b(i|I)</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">bmy</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">bme</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">bmine</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">b(i|I)[:punct:][:alpha:]+</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">bmysel</span><span class="sc">\\</span><span class="st">w+</span><span class="sc">\\</span><span class="st">b&quot;</span>)</span>
<span id="cb621-2"><a href="cleantool.html#cb621-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(tst_v, meword_v)</span></code></pre></div>
<div id="htmlwidget-823ac74e8752a8901909" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-823ac74e8752a8901909">{"x":{"html":"<ul>\n  <li><span class='match'>I<\/span> am, <span class='match'>I<\/span>, <span class='match'>my<\/span>, <span class='match'>me<\/span>, <span class='match'>mine<\/span>, <span class='match'>I<\/span>'ll, <span class='match'>I<\/span>'ve, <span class='match'>I<\/span>'d, <span class='match'>myself<\/span><\/li>\n  <li><span class='match'>i<\/span> am, <span class='match'>i<\/span>, <span class='match'>i<\/span>'m, <span class='match'>i<\/span>'ve<\/li>\n  <li>interesting, INCH, mean, myopia<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>정규표현식 패턴 <code>\\b(i|I)[:punct:][:alpha:]+\\b</code>을 단독으로 투입해면 “I’m” 등을 “ME’m”이 아니라 “ME”가 되게 하는데, 다른 정규표현식 패턴과 함께 투입하면, “ME’m”가 된다.</p>
<p>처리 순서 때문이다. <code>\\b(i|I)\\b</code>로 “I”와 “i”를 “ME”로 먼저 바꾸어 놓은 상태라 “I’m”등이 사라지게 된다. 따라서 순서를 바꿔 <code>\\b(i|I)\\b</code>를 뒤로 배치한다.</p>
<div class="sourceCode" id="cb622"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb622-1"><a href="cleantool.html#cb622-1" aria-hidden="true" tabindex="-1"></a>meword_v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">b(i|I)[:punct:][:alpha:]+</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">bmysel</span><span class="sc">\\</span><span class="st">w+</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">b(i|I)</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">bmy</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">bme</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">bmine</span><span class="sc">\\</span><span class="st">b&quot;</span>)</span>
<span id="cb622-2"><a href="cleantool.html#cb622-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_view_all</span>(tst_v, meword_v)</span></code></pre></div>
<div id="htmlwidget-2d17a375d0fa1b438873" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-2d17a375d0fa1b438873">{"x":{"html":"<ul>\n  <li><span class='match'>I<\/span> am, <span class='match'>I<\/span>, <span class='match'>my<\/span>, <span class='match'>me<\/span>, <span class='match'>mine<\/span>, <span class='match'>I'll<\/span>, <span class='match'>I've<\/span>, <span class='match'>I'd<\/span>, <span class='match'>myself<\/span><\/li>\n  <li><span class='match'>i<\/span> am, <span class='match'>i<\/span>, <span class='match'>i'm<\/span>, <span class='match'>i've<\/span><\/li>\n  <li>interesting, INCH, mean, myopia<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>이제 모두 “나”와 관련된 단어를 “ME”로 바꾸자.</p>
<div class="sourceCode" id="cb623"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb623-1"><a href="cleantool.html#cb623-1" aria-hidden="true" tabindex="-1"></a>tst_v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;I am, I, my, me, mine, I&#39;ll, I&#39;ve, I&#39;d, myself&quot;</span>, </span>
<span id="cb623-2"><a href="cleantool.html#cb623-2" aria-hidden="true" tabindex="-1"></a>           <span class="st">&quot;i am, i, i&#39;m, i&#39;ve&quot;</span>,</span>
<span id="cb623-3"><a href="cleantool.html#cb623-3" aria-hidden="true" tabindex="-1"></a>           <span class="st">&quot;interesting, INCH, mean, myopia&quot;</span>)</span>
<span id="cb623-4"><a href="cleantool.html#cb623-4" aria-hidden="true" tabindex="-1"></a>meword_v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">b(i|I)[:punct:][:alpha:]+</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">bmysel</span><span class="sc">\\</span><span class="st">w+</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">b(i|I)</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">bmy</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">bme</span><span class="sc">\\</span><span class="st">b|</span><span class="sc">\\</span><span class="st">bmine</span><span class="sc">\\</span><span class="st">b&quot;</span>)</span>
<span id="cb623-5"><a href="cleantool.html#cb623-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_replace_all</span>(tst_v, meword_v, <span class="st">&quot;ME&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;ME am, ME, ME, ME, ME, ME, ME, ME, ME&quot;
## [2] &quot;ME am, ME, ME, ME&quot;                    
## [3] &quot;interesting, INCH, mean, myopia&quot;</code></pre>
<ol start="7" style="list-style-type: decimal">
<li>파일명 뒤의 4자리 숫자가 파일이 생성된 연도다. 정규표현식을 이용해 2001년 이후에 생성된 파일명만 추출하시오.</li>
</ol>
<div class="sourceCode" id="cb625"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb625-1"><a href="cleantool.html#cb625-1" aria-hidden="true" tabindex="-1"></a>file_v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;file1999.txt&quot;</span>, <span class="st">&quot;file2000.txt&quot;</span>, <span class="st">&quot;file2001.txt&quot;</span>, <span class="st">&quot;file2002.txt&quot;</span>,</span>
<span id="cb625-2"><a href="cleantool.html#cb625-2" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;file2003.txt&quot;</span>, <span class="st">&quot;file2004.txt&quot;</span>, <span class="st">&quot;file2005.txt&quot;</span>, <span class="st">&quot;file2006.txt&quot;</span>)</span>
<span id="cb625-3"><a href="cleantool.html#cb625-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str_subset</span>(file_v, <span class="st">&quot;file[0-9]{3}[1-6]&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;file2001.txt&quot; &quot;file2002.txt&quot; &quot;file2003.txt&quot; &quot;file2004.txt&quot; &quot;file2005.txt&quot;
## [6] &quot;file2006.txt&quot;</code></pre>
<div id="정규표현식-과제" class="section level4" number="6.6.10.1">
<h4><span class="header-section-number">6.6.10.1</span> 정규표현식 과제</h4>
<ol style="list-style-type: decimal">
<li><p>“You, He, She, We, They”에서 파생된 단어(예: your, yourself, you’ll, you’ve 등)를 모두 나열하시오.</p></li>
<li><p>위의 대명사에관련된를 각각 “YOU,” “HE,” “SHE,” “WE,” “THEY”로 변환하시오.</p></li>
</ol>
<ul>
<li><p><code>stringr</code>패키지 치트시트<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>에 정규표현식이 잘 요약돼 있다.</p></li>
<li><p>보다 다양한 유용한 정규표현식 모음<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></p></li>
</ul>

</div>
</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Cheat Sheet: <a href="https://www.rstudio.com/resources/cheatsheets/" class="uri">https://www.rstudio.com/resources/cheatsheets/</a><a href="cleantool.html#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>Useful Regex Patterns: <a href="https://projects.lukehaas.me/regexhub/" class="uri">https://projects.lukehaas.me/regexhub/</a><a href="cleantool.html#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="clean.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/06-cleantool.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
