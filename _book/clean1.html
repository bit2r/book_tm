<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 정제1 | 텍스트마이닝</title>
  <meta name="description" content="Chapter 6 정제1 | 텍스트마이닝 준비" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 정제1 | 텍스트마이닝" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Chapter 6 정제1 | 텍스트마이닝 준비" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 정제1 | 텍스트마이닝" />
  
  <meta name="twitter:description" content="Chapter 6 정제1 | 텍스트마이닝 준비" />
  

<meta name="author" content="안도현" />


<meta name="date" content="2021-04-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="cleantool.html"/>
<link rel="next" href="anal1freq.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">데이터커뮤니케이션:텍스트마이닝</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#머리말"><i class="fa fa-check"></i><b>0.1</b> 머리말</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#이책의-구성"><i class="fa fa-check"></i><b>0.2</b> 이책의 구성</a></li>
<li class="chapter" data-level="0.3" data-path="index.html"><a href="index.html#이책에서-다루지-않은-주제"><i class="fa fa-check"></i><b>0.3</b> 이책에서 다루지 않은 주제</a></li>
<li class="chapter" data-level="0.4" data-path="index.html"><a href="index.html#도움받은-자료"><i class="fa fa-check"></i><b>0.4</b> 도움받은 자료</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="author.html"><a href="author.html"><i class="fa fa-check"></i>Author</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> 도입</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#사회과학-방법론"><i class="fa fa-check"></i><b>1.1</b> 사회과학 방법론</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#내용분석content-analysis"><i class="fa fa-check"></i><b>1.2</b> 내용분석(Content Analysis)</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="intro.html"><a href="intro.html#내용분석의-정의"><i class="fa fa-check"></i><b>1.2.1</b> 내용분석의 정의</a></li>
<li class="chapter" data-level="1.2.2" data-path="intro.html"><a href="intro.html#컴퓨터보조-내용분석"><i class="fa fa-check"></i><b>1.2.2</b> 컴퓨터보조 내용분석</a></li>
<li class="chapter" data-level="1.2.3" data-path="intro.html"><a href="intro.html#근거이론grounded-theory"><i class="fa fa-check"></i><b>1.2.3</b> 근거이론(grounded theory)</a></li>
<li class="chapter" data-level="1.2.4" data-path="intro.html"><a href="intro.html#컴퓨터-기반-근거이론"><i class="fa fa-check"></i><b>1.2.4</b> 컴퓨터 기반 근거이론</a></li>
<li class="chapter" data-level="1.2.5" data-path="intro.html"><a href="intro.html#전산사회과학computational-social-science-디지털인문학digital-humanities"><i class="fa fa-check"></i><b>1.2.5</b> 전산사회과학(Computational Social Science) 디지털인문학(Digital Humanities)</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#텍스트마이닝"><i class="fa fa-check"></i><b>1.3</b> 텍스트마이닝</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#텍스트데이터"><i class="fa fa-check"></i><b>1.4</b> 텍스트데이터</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="intro.html"><a href="intro.html#텍스트의-단위"><i class="fa fa-check"></i><b>1.4.1</b> 텍스트의 단위</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="prep.html"><a href="prep.html"><i class="fa fa-check"></i><b>2</b> 준비</a>
<ul>
<li class="chapter" data-level="2.1" data-path="prep.html"><a href="prep.html#컴퓨터-인터넷"><i class="fa fa-check"></i><b>2.1</b> 컴퓨터 / 인터넷</a></li>
<li class="chapter" data-level="2.2" data-path="prep.html"><a href="prep.html#r-r-studio"><i class="fa fa-check"></i><b>2.2</b> R / R Studio</a></li>
<li class="chapter" data-level="2.3" data-path="prep.html"><a href="prep.html#패키지package"><i class="fa fa-check"></i><b>2.3</b> 패키지(Package)</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="prep.html"><a href="prep.html#tidyverse"><i class="fa fa-check"></i><b>2.3.1</b> tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="prep.html"><a href="prep.html#오류error"><i class="fa fa-check"></i><b>2.4</b> 오류(error)</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="prep.html"><a href="prep.html#패키지-설치시-겪을-수-있는-오류"><i class="fa fa-check"></i><b>2.4.1</b> 패키지 설치시 겪을 수 있는 오류</a></li>
<li class="chapter" data-level="2.4.2" data-path="prep.html"><a href="prep.html#실행할-때-겪을-수-있는-오류"><i class="fa fa-check"></i><b>2.4.2</b> 실행할 때 겪을 수 있는 오류</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="prep.html"><a href="prep.html#여러-패키지-한번에-설치"><i class="fa fa-check"></i><b>2.5</b> 여러 패키지 한번에 설치</a></li>
<li class="chapter" data-level="2.6" data-path="prep.html"><a href="prep.html#코딩-스타일"><i class="fa fa-check"></i><b>2.6</b> 코딩 스타일</a></li>
<li class="chapter" data-level="2.7" data-path="prep.html"><a href="prep.html#파일경로path-표시"><i class="fa fa-check"></i><b>2.7</b> 파일경로(path) 표시</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="prep.html"><a href="prep.html#슬래시"><i class="fa fa-check"></i><b>2.7.1</b> 슬래시 /</a></li>
<li class="chapter" data-level="2.7.2" data-path="prep.html"><a href="prep.html#마침표-.-.."><i class="fa fa-check"></i><b>2.7.2</b> 마침표 . ..</a></li>
<li class="chapter" data-level="2.7.3" data-path="prep.html"><a href="prep.html#물결"><i class="fa fa-check"></i><b>2.7.3</b> 물결 ~</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="prep.html"><a href="prep.html#파일과-객체"><i class="fa fa-check"></i><b>2.8</b> 파일과 객체</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="prep.html"><a href="prep.html#하드디스크에-있는-파일을-다루는-함수"><i class="fa fa-check"></i><b>2.8.1</b> 하드디스크에 있는 파일을 다루는 함수</a></li>
<li class="chapter" data-level="2.8.2" data-path="prep.html"><a href="prep.html#r환경내-객체를-다루는-함수"><i class="fa fa-check"></i><b>2.8.2</b> R환경내 객체를 다루는 함수</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="prep.html"><a href="prep.html#따옴표와-백틱"><i class="fa fa-check"></i><b>2.9</b> 따옴표와 백틱</a>
<ul>
<li class="chapter" data-level="2.9.1" data-path="prep.html"><a href="prep.html#겹따옴표-홑따옴표"><i class="fa fa-check"></i><b>2.9.1</b> 겹따옴표 홑따옴표</a></li>
<li class="chapter" data-level="2.9.2" data-path="prep.html"><a href="prep.html#백틱backquotebacktick-주의중요-흔한-오류-오자와-탈자.-괄호의-불일치-보이지-않는-코드-글꼴-기타-na와null의-차이"><i class="fa fa-check"></i><b>2.9.2</b> 백틱(backquote/backtick) <code>## 주의(중요) ## 흔한 오류 ### 오자와 탈자.  ### 괄호의 불일치 ### 보이지 않는 코드  ### 글꼴  ## 기타 ###</code>NA<code>와</code>NULL`의 차이</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="browse.html"><a href="browse.html"><i class="fa fa-check"></i><b>3</b> 틀잡기</a>
<ul>
<li class="chapter" data-level="3.1" data-path="browse.html"><a href="browse.html#수집"><i class="fa fa-check"></i><b>3.1</b> 수집</a></li>
<li class="chapter" data-level="3.2" data-path="browse.html"><a href="browse.html#정제"><i class="fa fa-check"></i><b>3.2</b> 정제</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="browse.html"><a href="browse.html#정돈텍스트tidy-text"><i class="fa fa-check"></i><b>3.2.1</b> 정돈텍스트(tidy text)</a></li>
<li class="chapter" data-level="3.2.2" data-path="browse.html"><a href="browse.html#토큰화-unnest_tokens-함수"><i class="fa fa-check"></i><b>3.2.2</b> 토큰화: <code>unnest_tokens</code> 함수</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="browse.html"><a href="browse.html#분석"><i class="fa fa-check"></i><b>3.3</b> 분석</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="browse.html"><a href="browse.html#빈도-count-함수"><i class="fa fa-check"></i><b>3.3.1</b> 빈도: <code>count</code> 함수</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="browse.html"><a href="browse.html#소통"><i class="fa fa-check"></i><b>3.4</b> 소통</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="browse.html"><a href="browse.html#시각화"><i class="fa fa-check"></i><b>3.4.1</b> 시각화</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="browse.html"><a href="browse.html#연습"><i class="fa fa-check"></i><b>3.5</b> 연습</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="browse.html"><a href="browse.html#과제"><i class="fa fa-check"></i><b>3.5.1</b> 과제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data1.html"><a href="data1.html"><i class="fa fa-check"></i><b>4</b> 수집1: 불러오기</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data1.html"><a href="data1.html#바이너리-파일"><i class="fa fa-check"></i><b>4.1</b> 바이너리 파일</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="data1.html"><a href="data1.html#불러오기이입-import"><i class="fa fa-check"></i><b>4.1.1</b> 불러오기(이입: import)</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="data1.html"><a href="data1.html#일반텍스트plain-text-파일"><i class="fa fa-check"></i><b>4.2</b> 일반텍스트(plain text) 파일</a></li>
<li class="chapter" data-level="4.3" data-path="data1.html"><a href="data1.html#html-파일"><i class="fa fa-check"></i><b>4.3</b> HTML 파일</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="data1.html"><a href="data1.html#html문서-불러오기-read_html"><i class="fa fa-check"></i><b>4.3.1</b> HTML문서 불러오기 <code>read_html()</code></a></li>
<li class="chapter" data-level="4.3.2" data-path="data1.html"><a href="data1.html#htlm요소-추출하기-html_node"><i class="fa fa-check"></i><b>4.3.2</b> HTLM요소 추출하기 <code>html_node()</code></a></li>
<li class="chapter" data-level="4.3.3" data-path="data1.html"><a href="data1.html#내용-추출하기-html_text"><i class="fa fa-check"></i><b>4.3.3</b> 내용 추출하기 <code>html_text</code></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="data1.html"><a href="data1.html#내보내기export-이출"><i class="fa fa-check"></i><b>4.4</b> 내보내기(export: 이출)</a></li>
<li class="chapter" data-level="4.5" data-path="data1.html"><a href="data1.html#인코딩encoding-부호화"><i class="fa fa-check"></i><b>4.5</b> 인코딩(encoding: 부호화)</a></li>
<li class="chapter" data-level="4.6" data-path="data1.html"><a href="data1.html#테이블구조-문서"><i class="fa fa-check"></i><b>4.6</b> 테이블구조 문서</a></li>
<li class="chapter" data-level="4.7" data-path="data1.html"><a href="data1.html#기타-파일-형식"><i class="fa fa-check"></i><b>4.7</b> 기타 파일 형식</a></li>
<li class="chapter" data-level="4.8" data-path="data1.html"><a href="data1.html#연습-1"><i class="fa fa-check"></i><b>4.8</b> 연습</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="data1.html"><a href="data1.html#과제-1"><i class="fa fa-check"></i><b>4.8.1</b> 과제</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="cleantool.html"><a href="cleantool.html"><i class="fa fa-check"></i><b>5</b> 정제도구</a>
<ul>
<li class="chapter" data-level="5.1" data-path="cleantool.html"><a href="cleantool.html#stringr"><i class="fa fa-check"></i><b>5.1</b> <code>stringr</code></a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="cleantool.html"><a href="cleantool.html#개괄"><i class="fa fa-check"></i><b>5.1.1</b> 개괄</a></li>
<li class="chapter" data-level="5.1.2" data-path="cleantool.html"><a href="cleantool.html#탐지와-찾기detect-locate-1"><i class="fa fa-check"></i><b>5.1.2</b> 탐지와 찾기(detect &amp; locate)</a></li>
<li class="chapter" data-level="5.1.3" data-path="cleantool.html"><a href="cleantool.html#부분선택-추출-일치subset-extract-match-1"><i class="fa fa-check"></i><b>5.1.3</b> 부분선택, 추출, 일치(subset, extract &amp; match)</a></li>
<li class="chapter" data-level="5.1.4" data-path="cleantool.html"><a href="cleantool.html#문자열-변환mutate-strings-1"><i class="fa fa-check"></i><b>5.1.4</b> 문자열 변환(Mutate Strings)</a></li>
<li class="chapter" data-level="5.1.5" data-path="cleantool.html"><a href="cleantool.html#결합과-분리join-and-split-1"><i class="fa fa-check"></i><b>5.1.5</b> 결합과 분리(Join and Split)</a></li>
<li class="chapter" data-level="5.1.6" data-path="cleantool.html"><a href="cleantool.html#공백문자whitespace-1"><i class="fa fa-check"></i><b>5.1.6</b> 공백문자(Whitespace)</a></li>
<li class="chapter" data-level="5.1.7" data-path="cleantool.html"><a href="cleantool.html#과제-2"><i class="fa fa-check"></i><b>5.1.7</b> 과제</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="cleantool.html"><a href="cleantool.html#dplyr"><i class="fa fa-check"></i><b>5.2</b> <code>dplyr</code></a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="cleantool.html"><a href="cleantool.html#개괄-1"><i class="fa fa-check"></i><b>5.2.1</b> 개괄</a></li>
<li class="chapter" data-level="5.2.2" data-path="cleantool.html"><a href="cleantool.html#dplyr의-구성"><i class="fa fa-check"></i><b>5.2.2</b> <code>dplyr</code>의 구성</a></li>
<li class="chapter" data-level="5.2.3" data-path="cleantool.html"><a href="cleantool.html#묶음-동사group-cases-1"><i class="fa fa-check"></i><b>5.2.3</b> 묶음 동사(group cases)</a></li>
<li class="chapter" data-level="5.2.4" data-path="cleantool.html"><a href="cleantool.html#요약-동사와-요약-함수"><i class="fa fa-check"></i><b>5.2.4</b> 요약 동사와 요약 함수</a></li>
<li class="chapter" data-level="5.2.5" data-path="cleantool.html"><a href="cleantool.html#행-조작-동사manipulate-cases-1"><i class="fa fa-check"></i><b>5.2.5</b> 행 조작 동사(manipulate cases)</a></li>
<li class="chapter" data-level="5.2.6" data-path="cleantool.html"><a href="cleantool.html#열-조작-동사manipulate-variables-1"><i class="fa fa-check"></i><b>5.2.6</b> 열 조작 동사(manipulate variables)</a></li>
<li class="chapter" data-level="5.2.7" data-path="cleantool.html"><a href="cleantool.html#벡터-함수vector-functions-1"><i class="fa fa-check"></i><b>5.2.7</b> 벡터 함수(vector functions)</a></li>
<li class="chapter" data-level="5.2.8" data-path="cleantool.html"><a href="cleantool.html#테이블-결합동사행방향"><i class="fa fa-check"></i><b>5.2.8</b> 테이블 결합동사(행방향)</a></li>
<li class="chapter" data-level="5.2.9" data-path="cleantool.html"><a href="cleantool.html#테이블-결합동사열방향"><i class="fa fa-check"></i><b>5.2.9</b> 테이블 결합동사(열방향)</a></li>
<li class="chapter" data-level="5.2.10" data-path="cleantool.html"><a href="cleantool.html#연습1"><i class="fa fa-check"></i><b>5.2.10</b> 연습1</a></li>
<li class="chapter" data-level="5.2.11" data-path="cleantool.html"><a href="cleantool.html#연습2"><i class="fa fa-check"></i><b>5.2.11</b> 연습2</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="cleantool.html"><a href="cleantool.html#purrr"><i class="fa fa-check"></i><b>5.3</b> <code>purrr</code></a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="cleantool.html"><a href="cleantool.html#개괄-2"><i class="fa fa-check"></i><b>5.3.1</b> 개괄</a></li>
<li class="chapter" data-level="5.3.2" data-path="cleantool.html"><a href="cleantool.html#반복계산-1"><i class="fa fa-check"></i><b>5.3.2</b> 반복계산</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="cleantool.html"><a href="cleantool.html#tidyr"><i class="fa fa-check"></i><b>5.4</b> <code>tidyr</code></a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="cleantool.html"><a href="cleantool.html#개괄-3"><i class="fa fa-check"></i><b>5.4.1</b> 개괄</a></li>
<li class="chapter" data-level="5.4.2" data-path="cleantool.html"><a href="cleantool.html#축전환pivoting-1"><i class="fa fa-check"></i><b>5.4.2</b> 축전환(pivoting)</a></li>
<li class="chapter" data-level="5.4.3" data-path="cleantool.html"><a href="cleantool.html#분리와-결합-1"><i class="fa fa-check"></i><b>5.4.3</b> 분리와 결합</a></li>
<li class="chapter" data-level="5.4.4" data-path="cleantool.html"><a href="cleantool.html#연습1-1"><i class="fa fa-check"></i><b>5.4.4</b> 연습1</a></li>
<li class="chapter" data-level="5.4.5" data-path="cleantool.html"><a href="cleantool.html#연습2-1"><i class="fa fa-check"></i><b>5.4.5</b> 연습2</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="cleantool.html"><a href="cleantool.html#연산자operators"><i class="fa fa-check"></i><b>5.5</b> 연산자(operators)</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="cleantool.html"><a href="cleantool.html#산술연산자arithmatic-operators"><i class="fa fa-check"></i><b>5.5.1</b> 산술연산자(Arithmatic Operators)</a></li>
<li class="chapter" data-level="5.5.2" data-path="cleantool.html"><a href="cleantool.html#관계연산자relational-operators"><i class="fa fa-check"></i><b>5.5.2</b> 관계연산자(Relational Operators)</a></li>
<li class="chapter" data-level="5.5.3" data-path="cleantool.html"><a href="cleantool.html#논리연산자logical-operators"><i class="fa fa-check"></i><b>5.5.3</b> 논리연산자(Logical Operators)</a></li>
<li class="chapter" data-level="5.5.4" data-path="cleantool.html"><a href="cleantool.html#포함-연산자inclusion-operator"><i class="fa fa-check"></i><b>5.5.4</b> 포함 연산자(Inclusion Operator)</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="cleantool.html"><a href="cleantool.html#정규표현식regular-expressions"><i class="fa fa-check"></i><b>5.6</b> 정규표현식(regular expressions)</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="cleantool.html"><a href="cleantool.html#일반문자와-기능문자"><i class="fa fa-check"></i><b>5.6.1</b> 일반문자와 기능문자</a></li>
<li class="chapter" data-level="5.6.2" data-path="cleantool.html"><a href="cleantool.html#일치하는-문자match-characters"><i class="fa fa-check"></i><b>5.6.2</b> 일치하는 문자(Match Characters)</a></li>
<li class="chapter" data-level="5.6.3" data-path="cleantool.html"><a href="cleantool.html#공백문자whitespace-2"><i class="fa fa-check"></i><b>5.6.3</b> 공백문자(whitespace)</a></li>
<li class="chapter" data-level="5.6.4" data-path="cleantool.html"><a href="cleantool.html#또는"><i class="fa fa-check"></i><b>5.6.4</b> 또는</a></li>
<li class="chapter" data-level="5.6.5" data-path="cleantool.html"><a href="cleantool.html#묶음"><i class="fa fa-check"></i><b>5.6.5</b> 묶음</a></li>
<li class="chapter" data-level="5.6.6" data-path="cleantool.html"><a href="cleantool.html#앵커"><i class="fa fa-check"></i><b>5.6.6</b> 앵커</a></li>
<li class="chapter" data-level="5.6.7" data-path="cleantool.html"><a href="cleantool.html#주변look-around-1"><i class="fa fa-check"></i><b>5.6.7</b> 주변(look around)</a></li>
<li class="chapter" data-level="5.6.8" data-path="cleantool.html"><a href="cleantool.html#반복일치"><i class="fa fa-check"></i><b>5.6.8</b> 반복일치</a></li>
<li class="chapter" data-level="5.6.9" data-path="cleantool.html"><a href="cleantool.html#유용한-정규표현식"><i class="fa fa-check"></i><b>5.6.9</b> 유용한 정규표현식</a></li>
<li class="chapter" data-level="5.6.10" data-path="cleantool.html"><a href="cleantool.html#연습-2"><i class="fa fa-check"></i><b>5.6.10</b> 연습</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="clean1.html"><a href="clean1.html"><i class="fa fa-check"></i><b>6</b> 정제1</a>
<ul>
<li class="chapter" data-level="6.1" data-path="clean1.html"><a href="clean1.html#토큰화1"><i class="fa fa-check"></i><b>6.1</b> 토큰화1</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="clean1.html"><a href="clean1.html#단어-토큰"><i class="fa fa-check"></i><b>6.1.1</b> 단어 토큰</a></li>
<li class="chapter" data-level="6.1.2" data-path="clean1.html"><a href="clean1.html#글자-토큰"><i class="fa fa-check"></i><b>6.1.2</b> 글자 토큰</a></li>
<li class="chapter" data-level="6.1.3" data-path="clean1.html"><a href="clean1.html#복수의-글자"><i class="fa fa-check"></i><b>6.1.3</b> 복수의 글자</a></li>
<li class="chapter" data-level="6.1.4" data-path="clean1.html"><a href="clean1.html#복수의-단어n-gram"><i class="fa fa-check"></i><b>6.1.4</b> 복수의 단어(n-gram)</a></li>
<li class="chapter" data-level="6.1.5" data-path="clean1.html"><a href="clean1.html#정규표현식"><i class="fa fa-check"></i><b>6.1.5</b> 정규표현식</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="clean1.html"><a href="clean1.html#불용어stop-words-제거-1"><i class="fa fa-check"></i><b>6.2</b> 불용어(stop words) 제거</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="clean1.html"><a href="clean1.html#불용어-사전"><i class="fa fa-check"></i><b>6.2.1</b> 불용어 사전</a></li>
<li class="chapter" data-level="6.2.2" data-path="clean1.html"><a href="clean1.html#불용어-사전-수정1"><i class="fa fa-check"></i><b>6.2.2</b> 불용어 사전 수정1</a></li>
<li class="chapter" data-level="6.2.3" data-path="clean1.html"><a href="clean1.html#filter"><i class="fa fa-check"></i><b>6.2.3</b> <code>filter()</code></a></li>
<li class="chapter" data-level="6.2.4" data-path="clean1.html"><a href="clean1.html#불용어-사전-수정2"><i class="fa fa-check"></i><b>6.2.4</b> 불용어 사전 수정2</a></li>
<li class="chapter" data-level="6.2.5" data-path="clean1.html"><a href="clean1.html#불용어-목록-만들기"><i class="fa fa-check"></i><b>6.2.5</b> 불용어 목록 만들기</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="clean1.html"><a href="clean1.html#정규화normalizaation"><i class="fa fa-check"></i><b>6.3</b> 정규화(Normalizaation)</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="clean1.html"><a href="clean1.html#어간추출stemming과-기본형추출lemmatization"><i class="fa fa-check"></i><b>6.3.1</b> 어간추출(stemming)과 기본형추출(lemmatization)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="anal1freq.html"><a href="anal1freq.html"><i class="fa fa-check"></i><b>7</b> 분석1: 빈도</a>
<ul>
<li class="chapter" data-level="7.1" data-path="anal1freq.html"><a href="anal1freq.html#단어빈도"><i class="fa fa-check"></i><b>7.1</b> 단어빈도</a></li>
<li class="chapter" data-level="7.2" data-path="anal1freq.html"><a href="anal1freq.html#kiwc"><i class="fa fa-check"></i><b>7.2</b> KIWC</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data2-crawl.html"><a href="data2-crawl.html"><i class="fa fa-check"></i><b>8</b> 수집2: 크롤링</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data2-crawl.html"><a href="data2-crawl.html#개관"><i class="fa fa-check"></i><b>8.1</b> 개관</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="data2-crawl.html"><a href="data2-crawl.html#웹-작동방식"><i class="fa fa-check"></i><b>8.1.1</b> 웹 작동방식</a></li>
<li class="chapter" data-level="8.1.2" data-path="data2-crawl.html"><a href="data2-crawl.html#연습-3"><i class="fa fa-check"></i><b>8.1.2</b> 연습</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="data2-crawl.html"><a href="data2-crawl.html#http요청과-응답-httr"><i class="fa fa-check"></i><b>8.2</b> HTTP요청과 응답 <code>httr</code></a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="data2-crawl.html"><a href="data2-crawl.html#get-방식"><i class="fa fa-check"></i><b>8.2.1</b> GET 방식</a></li>
<li class="chapter" data-level="8.2.2" data-path="data2-crawl.html"><a href="data2-crawl.html#post방식"><i class="fa fa-check"></i><b>8.2.2</b> POST방식</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="data2-crawl.html"><a href="data2-crawl.html#텍스트-추출-rvest"><i class="fa fa-check"></i><b>8.3</b> 텍스트 추출 <code>rvest</code></a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="data2-crawl.html"><a href="data2-crawl.html#html문서-불러오기"><i class="fa fa-check"></i><b>8.3.1</b> HTML문서 불러오기</a></li>
<li class="chapter" data-level="8.3.2" data-path="data2-crawl.html"><a href="data2-crawl.html#html요소-추출"><i class="fa fa-check"></i><b>8.3.2</b> HTML요소 추출</a></li>
<li class="chapter" data-level="8.3.3" data-path="data2-crawl.html"><a href="data2-crawl.html#html요소에서-내용-추출"><i class="fa fa-check"></i><b>8.3.3</b> HTML요소에서 내용 추출</a></li>
<li class="chapter" data-level="8.3.4" data-path="data2-crawl.html"><a href="data2-crawl.html#user-agent-지정"><i class="fa fa-check"></i><b>8.3.4</b> User-Agent 지정</a></li>
<li class="chapter" data-level="8.3.5" data-path="data2-crawl.html"><a href="data2-crawl.html#연습1-2"><i class="fa fa-check"></i><b>8.3.5</b> 연습1</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="data2-crawl.html"><a href="data2-crawl.html#api"><i class="fa fa-check"></i><b>8.4</b> API</a></li>
<li class="chapter" data-level="8.5" data-path="data2-crawl.html"><a href="data2-crawl.html#반복작업-for"><i class="fa fa-check"></i><b>8.5</b> 반복작업 <code>for</code></a></li>
<li class="chapter" data-level="8.6" data-path="data2-crawl.html"><a href="data2-crawl.html#동적웹페이지-rselenium"><i class="fa fa-check"></i><b>8.6</b> 동적웹페이지 <code>RSelenium</code></a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="data2-crawl.html"><a href="data2-crawl.html#r셀레니움-사용-준비"><i class="fa fa-check"></i><b>8.6.1</b> R셀레니움 사용 준비</a></li>
<li class="chapter" data-level="8.6.2" data-path="data2-crawl.html"><a href="data2-crawl.html#r셀레늄으로-브라우징"><i class="fa fa-check"></i><b>8.6.2</b> R셀레늄으로 브라우징</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="clean2.html"><a href="clean2.html"><i class="fa fa-check"></i><b>9</b> 정제2: 형태소</a>
<ul>
<li class="chapter" data-level="9.0.1" data-path="clean2.html"><a href="clean2.html#mecab"><i class="fa fa-check"></i><b>9.0.1</b> MeCab</a></li>
<li class="chapter" data-level="9.1" data-path="clean2.html"><a href="clean2.html#rccpmecab"><i class="fa fa-check"></i><b>9.1</b> RccpMeCab</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="anal2comp.html"><a href="anal2comp.html"><i class="fa fa-check"></i><b>10</b> 분석2: 비교</a>
<ul>
<li class="chapter" data-level="10.1" data-path="anal2comp.html"><a href="anal2comp.html#오즈비"><i class="fa fa-check"></i><b>10.1</b> 오즈비</a></li>
<li class="chapter" data-level="10.2" data-path="anal2comp.html"><a href="anal2comp.html#tf-idf"><i class="fa fa-check"></i><b>10.2</b> tf-idf</a></li>
<li class="chapter" data-level="10.3" data-path="anal2comp.html"><a href="anal2comp.html#사전"><i class="fa fa-check"></i><b>10.3</b> 사전</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="anal2comp.html"><a href="anal2comp.html#정서분석"><i class="fa fa-check"></i><b>10.3.1</b> 정서분석</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="anal3cor.html"><a href="anal3cor.html"><i class="fa fa-check"></i><b>11</b> 분석3: 상관</a>
<ul>
<li class="chapter" data-level="11.1" data-path="anal3cor.html"><a href="anal3cor.html#상관분석"><i class="fa fa-check"></i><b>11.1</b> 상관분석</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="anal3topic.html"><a href="anal3topic.html"><i class="fa fa-check"></i><b>12</b> 주제모형(topic modeling)</a>
<ul>
<li class="chapter" data-level="12.1" data-path="anal3topic.html"><a href="anal3topic.html#주제모형"><i class="fa fa-check"></i><b>12.1</b> 주제모형</a></li>
<li class="chapter" data-level="12.2" data-path="anal3topic.html"><a href="anal3topic.html#비지도학습"><i class="fa fa-check"></i><b>12.2</b> 비지도학습</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="anal3topic.html"><a href="anal3topic.html#군집분석"><i class="fa fa-check"></i><b>12.2.1</b> 군집분석</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="anal3topic.html"><a href="anal3topic.html#반지도학습"><i class="fa fa-check"></i><b>12.3</b> 반지도학습</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="anal4network.html"><a href="anal4network.html"><i class="fa fa-check"></i><b>13</b> 연결망 분석</a>
<ul>
<li class="chapter" data-level="13.1" data-path="anal4network.html"><a href="anal4network.html#tidygraph"><i class="fa fa-check"></i><b>13.1</b> tidygraph</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="comm.html"><a href="comm.html"><i class="fa fa-check"></i><b>14</b> 소통</a>
<ul>
<li class="chapter" data-level="14.1" data-path="comm.html"><a href="comm.html#시각화-1"><i class="fa fa-check"></i><b>14.1</b> 시각화</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="comm.html"><a href="comm.html#한글-폰트-설정"><i class="fa fa-check"></i><b>14.1.1</b> 한글 폰트 설정</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="comm.html"><a href="comm.html#마크다운"><i class="fa fa-check"></i><b>14.2</b> 마크다운</a></li>
<li class="chapter" data-level="14.3" data-path="comm.html"><a href="comm.html#샤이니"><i class="fa fa-check"></i><b>14.3</b> 샤이니</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="case1.html"><a href="case1.html"><i class="fa fa-check"></i><b>15</b> 사례연구1</a>
<ul>
<li class="chapter" data-level="15.1" data-path="case1.html"><a href="case1.html#사례1"><i class="fa fa-check"></i><b>15.1</b> 사례1</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="case2.html"><a href="case2.html"><i class="fa fa-check"></i><b>16</b> 사례연구2</a>
<ul>
<li class="chapter" data-level="16.1" data-path="case2.html"><a href="case2.html#사례1-1"><i class="fa fa-check"></i><b>16.1</b> 사례1</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="case3.html"><a href="case3.html"><i class="fa fa-check"></i><b>17</b> 사례연구3</a></li>
<li class="chapter" data-level="18" data-path="answer.html"><a href="answer.html"><i class="fa fa-check"></i><b>18</b> 연습문제정답</a>
<ul>
<li class="chapter" data-level="18.1" data-path="answer.html"><a href="answer.html#정제도구"><i class="fa fa-check"></i><b>18.1</b> 5. 정제도구</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="answer.html"><a href="answer.html#stringr-1"><i class="fa fa-check"></i><b>18.1.1</b> <code>stringr</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">텍스트마이닝</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="clean1" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> 정제1</h1>
<p>정제는 토큰화, 불용어제거 및 정규화 등의 단계를 거친다.</p>
<ul>
<li>토큰화</li>
<li>불용어제거</li>
<li>정규화</li>
</ul>
<div id="토큰화1" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> 토큰화1</h2>
<p>토큰(token)은 말뭉치의 가장 작은 단위다. 토큰의 단위를 글자, 단어, 엔그램(n-gram), 문장, 문단 등 다양하게 지정할 수 있다.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="clean1.html#cb1-1" aria-hidden="true" tabindex="-1"></a>pkg_l <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;tidyverse&quot;</span>, <span class="st">&quot;tidytext&quot;</span>, <span class="st">&quot;textdata&quot;</span>)</span>
<span id="cb1-2"><a href="clean1.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">lapply</span>(pkg_l, require, <span class="at">ch =</span> T)</span></code></pre></div>
<pre><code>## Loading required package: tidyverse</code></pre>
<pre><code>## Warning: package &#39;tidyverse&#39; was built under R version 4.0.5</code></pre>
<pre><code>## -- Attaching packages --------------------------------------- tidyverse 1.3.0 --</code></pre>
<pre><code>## √ ggplot2 3.3.2     √ purrr   0.3.4
## √ tibble  3.1.0     √ dplyr   1.0.2
## √ tidyr   1.1.2     √ stringr 1.4.0
## √ readr   1.4.0     √ forcats 0.5.0</code></pre>
<pre><code>## Warning: package &#39;tibble&#39; was built under R version 4.0.5</code></pre>
<pre><code>## -- Conflicts ------------------------------------------ tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre><code>## Loading required package: tidytext</code></pre>
<pre><code>## Loading required package: textdata</code></pre>
<pre><code>## Warning: package &#39;textdata&#39; was built under R version 4.0.4</code></pre>
<pre><code>## [[1]]
## [1] TRUE
## 
## [[2]]
## [1] TRUE
## 
## [[3]]
## [1] TRUE</code></pre>
<div id="단어-토큰" class="section level3" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> 단어 토큰</h3>
<p><code>unnest_tokens()</code>함수의 토큰화 기본값은 “words”로서 단어 단위로 토큰화한다.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="clean1.html#cb12-1" aria-hidden="true" tabindex="-1"></a>text_v <span class="ot">&lt;-</span> <span class="st">&quot;You still fascinate and inspire me.</span></span>
<span id="cb12-2"><a href="clean1.html#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="st">You influence me for the better. </span></span>
<span id="cb12-3"><a href="clean1.html#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="st">You’re the object of my desire, the #1 Earthly reason for my existence.&quot;</span></span>
<span id="cb12-4"><a href="clean1.html#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="clean1.html#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> text_v) <span class="sc">%&gt;%</span> </span>
<span id="cb12-6"><a href="clean1.html#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text,</span>
<span id="cb12-7"><a href="clean1.html#cb12-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">token =</span> <span class="st">&quot;words&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 25 x 1
##    word     
##    &lt;chr&gt;    
##  1 you      
##  2 still    
##  3 fascinate
##  4 and      
##  5 inspire  
##  6 me       
##  7 you      
##  8 influence
##  9 me       
## 10 for      
## # ... with 15 more rows</code></pre>
<p><code>strip_punct =</code>인자에 <code>FALSE</code>를 투입하면, 문장부호를 제거하지 않는다. 문장부호는 상황에 따라 텍스트의 의미를 파악하는 중요한 단서를 제공하는 경우 있기 때문에 텍스트분석 정제 과정에서 제거하지 맣아야 할 때도 있다.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="clean1.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> text_v) <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="clean1.html#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text,</span>
<span id="cb14-3"><a href="clean1.html#cb14-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">token =</span> <span class="st">&quot;words&quot;</span>,</span>
<span id="cb14-4"><a href="clean1.html#cb14-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">strip_punct =</span> F)</span></code></pre></div>
<pre><code>## # A tibble: 30 x 1
##    word     
##    &lt;chr&gt;    
##  1 you      
##  2 still    
##  3 fascinate
##  4 and      
##  5 inspire  
##  6 me       
##  7 .        
##  8 you      
##  9 influence
## 10 me       
## # ... with 20 more rows</code></pre>
</div>
<div id="글자-토큰" class="section level3" number="6.1.2">
<h3><span class="header-section-number">6.1.2</span> 글자 토큰</h3>
<p><code>token =</code>인자에 “characters”를 투입하면 글자 단위로 토큰화한다.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="clean1.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> text_v) <span class="sc">%&gt;%</span> </span>
<span id="cb16-2"><a href="clean1.html#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text,</span>
<span id="cb16-3"><a href="clean1.html#cb16-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">token =</span> <span class="st">&quot;characters&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb16-4"><a href="clean1.html#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> T)</span></code></pre></div>
<pre><code>## # A tibble: 21 x 2
##    word      n
##    &lt;chr&gt; &lt;int&gt;
##  1 e        20
##  2 t        10
##  3 o         8
##  4 r         8
##  5 i         7
##  6 n         7
##  7 s         6
##  8 y         6
##  9 a         5
## 10 f         5
## # ... with 11 more rows</code></pre>
</div>
<div id="복수의-글자" class="section level3" number="6.1.3">
<h3><span class="header-section-number">6.1.3</span> 복수의 글자</h3>
<p>복수의 글자를 토큰의 단위로 할 때는 “character_shingles”을 <code>token =</code>인자에 투입한다. 기본값은 3글자.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="clean1.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> text_v) <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="clean1.html#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text,</span>
<span id="cb18-3"><a href="clean1.html#cb18-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">token =</span> <span class="st">&quot;character_shingles&quot;</span>, <span class="at">n =</span> <span class="dv">4</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-4"><a href="clean1.html#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> T)</span></code></pre></div>
<pre><code>## # A tibble: 104 x 2
##    word      n
##    &lt;chr&gt; &lt;int&gt;
##  1 ence      2
##  2 ethe      2
##  3 reth      2
##  4 1ear      1
##  5 andi      1
##  6 arth      1
##  7 asci      1
##  8 ason      1
##  9 atea      1
## 10 bett      1
## # ... with 94 more rows</code></pre>
</div>
<div id="복수의-단어n-gram" class="section level3" number="6.1.4">
<h3><span class="header-section-number">6.1.4</span> 복수의 단어(n-gram)</h3>
<p>복수의 단어를 토콘 단위로 나눌 때는 <code>token =</code>인자에 “ngrams”인자를 투입한다. 기본값은3개이다.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="clean1.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> text_v) <span class="sc">%&gt;%</span> </span>
<span id="cb20-2"><a href="clean1.html#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text,</span>
<span id="cb20-3"><a href="clean1.html#cb20-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">token =</span> <span class="st">&quot;ngrams&quot;</span>, <span class="at">n =</span> <span class="dv">4</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-4"><a href="clean1.html#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> T)</span></code></pre></div>
<pre><code>## # A tibble: 22 x 2
##    word                         n
##    &lt;chr&gt;                    &lt;int&gt;
##  1 1 earthly reason for         1
##  2 and inspire me you           1
##  3 better you’re the object     1
##  4 desire the 1 earthly         1
##  5 earthly reason for my        1
##  6 fascinate and inspire me     1
##  7 for the better you’re        1
##  8 influence me for the         1
##  9 inspire me you influence     1
## 10 me for the better            1
## # ... with 12 more rows</code></pre>
</div>
<div id="정규표현식" class="section level3" number="6.1.5">
<h3><span class="header-section-number">6.1.5</span> 정규표현식</h3>
<p>정규표현식(regex: regular expressions)을 이용하면, 토콘을 보다 다양한 방식으로 나눌 수 있다.</p>
<p><code>token =</code>인자에 “regex”를 지정한다. <code>pattern =</code>에 정규표현식을 투입한다.</p>
<p><code>"\\n"</code>은 “new line”을 의미한다. 문장 단위로 토큰화했다. 만일 공백 단위로 토큰화한다면, 공백을 의미하는 <code>"\\s"</code>를 투입한다.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="clean1.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> text_v) <span class="sc">%&gt;%</span> </span>
<span id="cb22-2"><a href="clean1.html#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text,</span>
<span id="cb22-3"><a href="clean1.html#cb22-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">token =</span> <span class="st">&quot;regex&quot;</span>, <span class="at">pattern =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">n&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 1
##   word                                                                     
##   &lt;chr&gt;                                                                    
## 1 &quot;you still fascinate and inspire me.&quot;                                    
## 2 &quot;you influence me for the better. &quot;                                      
## 3 &quot;you’re the object of my desire, the #1 earthly reason for my existence.&quot;</code></pre>
<p><code>unnest_tokens</code>함수의 다양한 기능은 <code>?unnest_tokens</code>로 살펴보자.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="clean1.html#cb24-1" aria-hidden="true" tabindex="-1"></a>?unnest_tokens</span></code></pre></div>
</div>
</div>
<div id="불용어stop-words-제거-1" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> 불용어(stop words) 제거</h2>
<p>앞서 제시한 연애편지를 문자 단위로 토큰화해 단어의 빈도를 계산해보자.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="clean1.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> text_v) <span class="sc">%&gt;%</span> </span>
<span id="cb25-2"><a href="clean1.html#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text) <span class="sc">%&gt;%</span> </span>
<span id="cb25-3"><a href="clean1.html#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## # A tibble: 19 x 2
##    word          n
##    &lt;chr&gt;     &lt;int&gt;
##  1 the           3
##  2 for           2
##  3 me            2
##  4 my            2
##  5 you           2
##  6 1             1
##  7 and           1
##  8 better        1
##  9 desire        1
## 10 earthly       1
## 11 existence     1
## 12 fascinate     1
## 13 influence     1
## 14 inspire       1
## 15 object        1
## 16 of            1
## 17 reason        1
## 18 still         1
## 19 you’re        1</code></pre>
<p><code>count</code>로 단어빈도를 계산한 결과를 보면 “the”가 3회, “for,” “me,” “my,” “you”가 각각 2회 사용됐다. 즉, 이 글은 너와 나에 대한 글이런 것을 알수 있다. 사랑고백이란 것이 너와 나의 일이므로 타당하다.</p>
<p>분석결과를 보면 단어빈도로 의미를 파악하는데 불필요한 단어도 있다. “the,” “for,” “of,” “and” 등과 같은 관사, 전치사, 접속사들처럼 자주 사용하는 단어들이다. 이런 단어는 불용어(stop words)로 처리해 분석대상에 제외하는 것이 보다 정확한 의미를 파악하는데 도움이 되는 경우도 있다.</p>
<p>불용어를 제거하는 방법은 크게 두가지가 있다.</p>
<ul>
<li><p><code>anti_join()</code> 불용어목록을 데이터프레임에 저장한 다음, <code>anti_join()</code>함수를 이용해 텍스트데이터프레임과 배제결합하는 방법이다. 두 데이터프레임에서 겹치는 행을 제외하고 결합(join)한다. 이 경우 불용어 목록에 포함된 행이 제외된다.</p></li>
<li><p><code>filter()</code>함수와 <code>str_detect()</code>함수를 함께 이용해 불용어를 걸러내는 방법이다. 불용어를 목록에 포함시키기 어려운 경우에 이용한다.</p></li>
</ul>
<div id="불용어-사전" class="section level3" number="6.2.1">
<h3><span class="header-section-number">6.2.1</span> 불용어 사전</h3>
<p>주로 사용되는 불용어목록은 불용어사전으로 제공된다. <code>tidytext</code>패키지는 <code>stop_words</code>에 불용어를 모아 놓았다. <code>stop_words</code>의 구조부터 살며보자.</p>
<p><code>kableExtra</code>패키지를 이용하면 데이터프레임을 깔끔하게 출력할 수 있다.(<a href="https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html">사용법은 여기</a>)</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="clean1.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;kableExtra&quot;</span>)</span></code></pre></div>
<p>데이터셋을 R세션에 올리는 함수는 <code>data()</code>함수다.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="clean1.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span></code></pre></div>
<pre><code>## Warning: package &#39;kableExtra&#39; was built under R version 4.0.4</code></pre>
<pre><code>## 
## Attaching package: &#39;kableExtra&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dplyr&#39;:
## 
##     group_rows</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="clean1.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(stop_words)</span>
<span id="cb32-2"><a href="clean1.html#cb32-2" aria-hidden="true" tabindex="-1"></a>stop_words <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 1,149
## Columns: 2
## $ word    &lt;chr&gt; &quot;a&quot;, &quot;a&#39;s&quot;, &quot;able&quot;, &quot;about&quot;, &quot;above&quot;, &quot;according&quot;, &quot;accordingl~
## $ lexicon &lt;chr&gt; &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;, &quot;SMART&quot;,~</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="clean1.html#cb34-1" aria-hidden="true" tabindex="-1"></a>stop_words[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">701</span><span class="sc">:</span><span class="dv">703</span>, <span class="dv">1001</span><span class="sc">:</span><span class="dv">1003</span>),] <span class="sc">%&gt;%</span> </span>
<span id="cb34-2"><a href="clean1.html#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span> <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code></pre></div>
<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
word
</th>
<th style="text-align:left;">
lexicon
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
a
</td>
<td style="text-align:left;">
SMART
</td>
</tr>
<tr>
<td style="text-align:left;">
a’s
</td>
<td style="text-align:left;">
SMART
</td>
</tr>
<tr>
<td style="text-align:left;">
able
</td>
<td style="text-align:left;">
SMART
</td>
</tr>
<tr>
<td style="text-align:left;">
during
</td>
<td style="text-align:left;">
snowball
</td>
</tr>
<tr>
<td style="text-align:left;">
before
</td>
<td style="text-align:left;">
snowball
</td>
</tr>
<tr>
<td style="text-align:left;">
after
</td>
<td style="text-align:left;">
snowball
</td>
</tr>
<tr>
<td style="text-align:left;">
parted
</td>
<td style="text-align:left;">
onix
</td>
</tr>
<tr>
<td style="text-align:left;">
parting
</td>
<td style="text-align:left;">
onix
</td>
</tr>
<tr>
<td style="text-align:left;">
parts
</td>
<td style="text-align:left;">
onix
</td>
</tr>
</tbody>
</table>
<p>행이 1,149개(불용억 1,149개)이고, 열이 2개(word와 lexicon)인 데이터프레임이다. word열에 있는 단어가 불용어고, lexicon열에 있는 값은 불용어 용어집의 이름이다. <code>tidytext</code>패키지의 <code>stop_words</code>에는 세 개의 불용어 용어집(SMART, snowball, onix) 이 포함돼 있다. <code>filter</code>함수로 특정 용어집에 있는 불용어 사전만 골라 이용할 수 있다.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="clean1.html#cb35-1" aria-hidden="true" tabindex="-1"></a>stop_words<span class="sc">$</span>lexicon <span class="sc">%&gt;%</span> unique</span></code></pre></div>
<pre><code>## [1] &quot;SMART&quot;    &quot;snowball&quot; &quot;onix&quot;</code></pre>
<p>불용어사전으로 불용어를 걸러낸 다음 단어빈도를 계산해보자.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="clean1.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(stop_words)</span>
<span id="cb37-2"><a href="clean1.html#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="clean1.html#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> text_v) <span class="sc">%&gt;%</span></span>
<span id="cb37-4"><a href="clean1.html#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text) <span class="sc">%&gt;%</span> </span>
<span id="cb37-5"><a href="clean1.html#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(stop_words) <span class="sc">%&gt;%</span> </span>
<span id="cb37-6"><a href="clean1.html#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<pre><code>## # A tibble: 10 x 2
##    word          n
##    &lt;chr&gt;     &lt;int&gt;
##  1 1             1
##  2 desire        1
##  3 earthly       1
##  4 existence     1
##  5 fascinate     1
##  6 influence     1
##  7 inspire       1
##  8 object        1
##  9 reason        1
## 10 you’re        1</code></pre>
<p>결과를 보면 “you”등 대명사가 포함된 토큰은 모두 제거됐는데, “you’re”는 그대로 남아 있다. 불용어 사전에는 “you’re”로 <code>'</code>를 이용했는데, 본문에는 “you’re”로 <code>’</code>를 이용했기 때문이다.</p>
</div>
<div id="불용어-사전-수정1" class="section level3" number="6.2.2">
<h3><span class="header-section-number">6.2.2</span> 불용어 사전 수정1</h3>
<p>불용어 사전에 “you’re”를 추가해보자.또한 숫자 “1”도 함께 불용어사전에 추가하자.</p>
<p>먼저 추가할 용어를 불용어사전과 같은 구조의 데이터프레임에 저장한다.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="clean1.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(stop_words)</span></code></pre></div>
<pre><code>## [1] &quot;word&quot;    &quot;lexicon&quot;</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="clean1.html#cb42-1" aria-hidden="true" tabindex="-1"></a>stop_add <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">word =</span> <span class="fu">c</span>(<span class="st">&quot;you’re&quot;</span>, <span class="st">&quot;1&quot;</span>),</span>
<span id="cb42-2"><a href="clean1.html#cb42-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">lexicon =</span> <span class="st">&quot;added&quot;</span>)</span>
<span id="cb42-3"><a href="clean1.html#cb42-3" aria-hidden="true" tabindex="-1"></a>stop_add</span></code></pre></div>
<pre><code>## # A tibble: 2 x 2
##   word   lexicon
##   &lt;chr&gt;  &lt;chr&gt;  
## 1 you’re added  
## 2 1      added</code></pre>
<p><code>bind_rows()</code>함수로 불용어사전과 결합한다.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="clean1.html#cb44-1" aria-hidden="true" tabindex="-1"></a>stop_words2 <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(stop_words, stop_add)</span>
<span id="cb44-2"><a href="clean1.html#cb44-2" aria-hidden="true" tabindex="-1"></a>stop_words2 <span class="sc">%&gt;%</span> <span class="fu">tail</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 x 2
##   word     lexicon
##   &lt;chr&gt;    &lt;chr&gt;  
## 1 younger  onix   
## 2 youngest onix   
## 3 your     onix   
## 4 yours    onix   
## 5 you’re   added  
## 6 1        added</code></pre>
<p>새로 만든 불용어사전으로 정체한 후 단어 빈도를 계산해보자.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="clean1.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> text_v) <span class="sc">%&gt;%</span></span>
<span id="cb46-2"><a href="clean1.html#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text) <span class="sc">%&gt;%</span> </span>
<span id="cb46-3"><a href="clean1.html#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(stop_words2) <span class="sc">%&gt;%</span> </span>
<span id="cb46-4"><a href="clean1.html#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<pre><code>## # A tibble: 8 x 2
##   word          n
##   &lt;chr&gt;     &lt;int&gt;
## 1 desire        1
## 2 earthly       1
## 3 existence     1
## 4 fascinate     1
## 5 influence     1
## 6 inspire       1
## 7 object        1
## 8 reason        1</code></pre>
<p>“you’re”와 숫자가 모두 제거됐다.</p>
</div>
<div id="filter" class="section level3" number="6.2.3">
<h3><span class="header-section-number">6.2.3</span> <code>filter()</code></h3>
<p>모든 숫자를 불용어 사전에 포함시킬수는 없다. 정규표현식(regex: regular expression)에서 숫자를 의미하는 <code>[:digit:]</code> 또는 <code>\\d</code>를 이용해 <code>filter()</code>함수와 <code>str_detect()</code>함수 및 부정연산자 <code>!</code>를 이용해 걸러낸다.</p>
<p><code>str_subset()</code>함수는 패턴이 일치하는 문자를 출력하는 반면, <code>str_detect()</code>함수는 패턴이 일치하는 문자에 대한 논리값(TRUE or FALSE)을 출력한다.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="clean1.html#cb49-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">text =</span> text_v) <span class="sc">%&gt;%</span></span>
<span id="cb49-2"><a href="clean1.html#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text) <span class="sc">%&gt;%</span> </span>
<span id="cb49-3"><a href="clean1.html#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(stop_words)</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="clean1.html#cb51-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>word <span class="sc">%&gt;%</span> <span class="fu">str_subset</span>(<span class="at">pattern =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">d&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;1&quot;</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="clean1.html#cb53-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>word <span class="sc">%&gt;%</span> <span class="fu">str_detect</span>(<span class="at">pattern =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">d&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE</code></pre>
<p>불용어를 제거한 다음 추가로 본문에서 숫자와 “’”가 포함된 문제를 제거하자.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="clean1.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> text_v) <span class="sc">%&gt;%</span></span>
<span id="cb55-2"><a href="clean1.html#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text) <span class="sc">%&gt;%</span> </span>
<span id="cb55-3"><a href="clean1.html#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(stop_words) <span class="sc">%&gt;%</span> </span>
<span id="cb55-4"><a href="clean1.html#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb55-5"><a href="clean1.html#cb55-5" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">str_detect</span>(word, <span class="at">pattern =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">d&quot;</span>),</span>
<span id="cb55-6"><a href="clean1.html#cb55-6" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">str_detect</span>(word, <span class="at">pattern =</span> <span class="st">&quot;you’re&quot;</span>)</span>
<span id="cb55-7"><a href="clean1.html#cb55-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb55-8"><a href="clean1.html#cb55-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<pre><code>## # A tibble: 8 x 2
##   word          n
##   &lt;chr&gt;     &lt;int&gt;
## 1 desire        1
## 2 earthly       1
## 3 existence     1
## 4 fascinate     1
## 5 influence     1
## 6 inspire       1
## 7 object        1
## 8 reason        1</code></pre>
</div>
<div id="불용어-사전-수정2" class="section level3" number="6.2.4">
<h3><span class="header-section-number">6.2.4</span> 불용어 사전 수정2</h3>
<p>통상적으로 쓰이는 불용어 중에는 실은 문서의 의미를 파악하는데 중요한 단서를 제공하는 단어도 있다. “you” “me” “my” 등과 같은 대명사는 흔하게 사용되기 때문에 불용어로 분류되지만, 맥락를 파악하는데 중요한 역할을 하기도 한다. 불용어 사전에서 대명사를 찾아 불용어 사전에서 제거하자.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="clean1.html#cb58-1" aria-hidden="true" tabindex="-1"></a>stop_words<span class="sc">$</span>word <span class="sc">%&gt;%</span> </span>
<span id="cb58-2"><a href="clean1.html#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_subset</span>(<span class="st">&quot;(^i$|^i[:punct:]+|^mys*|^me$|^mine$)&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;i&quot;      &quot;i&#39;d&quot;    &quot;i&#39;ll&quot;   &quot;i&#39;m&quot;    &quot;i&#39;ve&quot;   &quot;me&quot;     &quot;my&quot;     &quot;myself&quot;
##  [9] &quot;i&quot;      &quot;me&quot;     &quot;my&quot;     &quot;myself&quot; &quot;i&#39;m&quot;    &quot;i&#39;ve&quot;   &quot;i&#39;d&quot;    &quot;i&#39;ll&quot;  
## [17] &quot;i&quot;      &quot;me&quot;     &quot;my&quot;     &quot;myself&quot;</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="clean1.html#cb60-1" aria-hidden="true" tabindex="-1"></a>stop_words3 <span class="ot">&lt;-</span> stop_words <span class="sc">%&gt;%</span> </span>
<span id="cb60-2"><a href="clean1.html#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb60-3"><a href="clean1.html#cb60-3" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">str_detect</span>(word, <span class="st">&quot;(^i$|^i[:punct:]+|^mys*|^me$|^mine$)&quot;</span>),</span>
<span id="cb60-4"><a href="clean1.html#cb60-4" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb60-5"><a href="clean1.html#cb60-5" aria-hidden="true" tabindex="-1"></a>stop_words3<span class="sc">$</span>word <span class="sc">%&gt;%</span> </span>
<span id="cb60-6"><a href="clean1.html#cb60-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_subset</span>(<span class="st">&quot;^i&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;ie&quot;          &quot;if&quot;          &quot;ignored&quot;     &quot;immediate&quot;   &quot;in&quot;         
##  [6] &quot;inasmuch&quot;    &quot;inc&quot;         &quot;indeed&quot;      &quot;indicate&quot;    &quot;indicated&quot;  
## [11] &quot;indicates&quot;   &quot;inner&quot;       &quot;insofar&quot;     &quot;instead&quot;     &quot;into&quot;       
## [16] &quot;inward&quot;      &quot;is&quot;          &quot;isn&#39;t&quot;       &quot;it&quot;          &quot;it&#39;d&quot;       
## [21] &quot;it&#39;ll&quot;       &quot;it&#39;s&quot;        &quot;its&quot;         &quot;itself&quot;      &quot;it&quot;         
## [26] &quot;its&quot;         &quot;itself&quot;      &quot;is&quot;          &quot;it&#39;s&quot;        &quot;isn&#39;t&quot;      
## [31] &quot;if&quot;          &quot;into&quot;        &quot;in&quot;          &quot;if&quot;          &quot;important&quot;  
## [36] &quot;in&quot;          &quot;interest&quot;    &quot;interested&quot;  &quot;interesting&quot; &quot;interests&quot;  
## [41] &quot;into&quot;        &quot;is&quot;          &quot;it&quot;          &quot;its&quot;         &quot;itself&quot;</code></pre>
</div>
<div id="불용어-목록-만들기" class="section level3" number="6.2.5">
<h3><span class="header-section-number">6.2.5</span> 불용어 목록 만들기</h3>
<p>제거하고 싶은 불용어를 최소화하고 싶을 때는 불용어 목록을 직접 만들수도 있다. “the, for, and”등이 포함된 불용어 목록을 만들어 정제해 보자. “the, for, and”등 불용어목록을 데이터프레임에 저장한 다음, <code>anti_join()</code>함수를 이용해 토큰데이터프레임과 배제결합한다.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="clean1.html#cb62-1" aria-hidden="true" tabindex="-1"></a>stop_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">word =</span> <span class="fu">c</span>(<span class="st">&quot;the&quot;</span>,<span class="st">&quot;for&quot;</span>, <span class="st">&quot;and&quot;</span>))</span>
<span id="cb62-2"><a href="clean1.html#cb62-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-3"><a href="clean1.html#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> text_v) <span class="sc">%&gt;%</span> </span>
<span id="cb62-4"><a href="clean1.html#cb62-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text) <span class="sc">%&gt;%</span> </span>
<span id="cb62-5"><a href="clean1.html#cb62-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(stop_df) <span class="sc">%&gt;%</span> </span>
<span id="cb62-6"><a href="clean1.html#cb62-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_detect</span>(word, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">d&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb62-7"><a href="clean1.html#cb62-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<pre><code>## # A tibble: 15 x 2
##    word          n
##    &lt;chr&gt;     &lt;int&gt;
##  1 me            2
##  2 my            2
##  3 you           2
##  4 better        1
##  5 desire        1
##  6 earthly       1
##  7 existence     1
##  8 fascinate     1
##  9 influence     1
## 10 inspire       1
## 11 object        1
## 12 of            1
## 13 reason        1
## 14 still         1
## 15 you’re        1</code></pre>
</div>
</div>
<div id="정규화normalizaation" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> 정규화(Normalizaation)</h2>
<div id="어간추출stemming과-기본형추출lemmatization" class="section level3" number="6.3.1">
<h3><span class="header-section-number">6.3.1</span> 어간추출(stemming)과 기본형추출(lemmatization)</h3>
<p>“me”와 “my” 그리고, “you”와 “you’re”는 형태는 다르지만, 같은 의미를 공유하하고 있다. 각각 같은 의미이므로 하나로 묶어 줄 필요가 있다. 기존패키지를 이용하는 방법과 정규표현식을 이용하는 방법이 있다. 국문 처리는 <정제2>에서 다루고, 여기서는 영문 중심으로 한다.</p>
<p><strong>패키지 활용</strong></p>
<p>어간추출 패키지</p>
<p>기본형추출 패키지</p>
<p>형태소추출 패키지</p>
<p><strong>정규표현식 이용</strong></p>
<p>파생형 단어의 목록을 만든 다음, <code>str_sub()</code>함수를 이용해 목록에 있는 단어를 선택해 대표형으로 바꾼다. “나”와 관련된 단어는 “ME”로 “너”와 관련된 단어는 “YOU”로 바꾸자.</p>
<ol style="list-style-type: decimal">
<li>본문에서 대문자를 모두 소문자로 바꾼다. <code>stringr</code>패키지의 <code>str_to_lower()</code> 함수 이용. <code>locale =</code> 기본값은 “en”영문이다. 상황에 따라 “tr” 등 터키어로 설정할 수 있다.</li>
</ol>
<ul>
<li>이외 다양한 영문자 Case 변환은 <code>string</code>패키지 <a href="https://stringr.tidyverse.org/reference/case.html">Convert case of a string항목</a> 참조</li>
</ul>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="clean1.html#cb65-1" aria-hidden="true" tabindex="-1"></a>txt_low_v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;You still fascinate and inspire me.</span></span>
<span id="cb65-2"><a href="clean1.html#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="st">You influence me for the better. </span></span>
<span id="cb65-3"><a href="clean1.html#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="st">You’re the object of my desire, the #1 Earthly reason for my existence.&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb65-4"><a href="clean1.html#cb65-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_to_lower</span>()</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>정규표현식으로 단어 패턴을 만들고, 각 패턴을 <code>|</code>연산자로 연결해 단일 벡터로 저장한다.</li>
</ol>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="clean1.html#cb66-1" aria-hidden="true" tabindex="-1"></a>meword_v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;^i$|^i[:punct:]+|^mys*|^me$|^mine$&quot;</span>)</span>
<span id="cb66-2"><a href="clean1.html#cb66-2" aria-hidden="true" tabindex="-1"></a>youword_v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;^you$|^you[:punct:]+|^yours*&quot;</span>)</span></code></pre></div>
<p><code>dplyr</code>패키지의 <code>recode</code>함수를 이용해 데이터프레임의 값(value)을 바꿀 수 있다. <code>recode</code>는 벡터를 처리하므로, 데이터프레임의 값을 바꾸려면 <code>mutate</code>함수와 함께 이용한다. (주의: <code>recode(벡터, 옛 값 = 새 값</code>)</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="clean1.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> text_v) <span class="sc">%&gt;%</span></span>
<span id="cb67-2"><a href="clean1.html#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text) <span class="sc">%&gt;%</span> </span>
<span id="cb67-3"><a href="clean1.html#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">word =</span> <span class="fu">recode</span>(word, <span class="at">my =</span> <span class="st">&quot;me&quot;</span>, <span class="st">`</span><span class="at">you’re</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;you&quot;</span>) )<span class="sc">%&gt;%</span> </span>
<span id="cb67-4"><a href="clean1.html#cb67-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(stop_df) <span class="sc">%&gt;%</span> </span>
<span id="cb67-5"><a href="clean1.html#cb67-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<pre><code>## # A tibble: 14 x 2
##    word          n
##    &lt;chr&gt;     &lt;int&gt;
##  1 me            4
##  2 you           3
##  3 1             1
##  4 better        1
##  5 desire        1
##  6 earthly       1
##  7 existence     1
##  8 fascinate     1
##  9 influence     1
## 10 inspire       1
## 11 object        1
## 12 of            1
## 13 reason        1
## 14 still         1</code></pre>
<p>나에 대한 단어인 me가 4회, 너에 대한 단어가 3회 사용됐다.</p>
<p>이번에는 기존 불용어 사전을 수정해서 사용해보자. <code>stop_words</code>에서 “you,”“me,” “my”를 제거한다. <code>dplyr</code>패키지의 <code>filter</code>함수를 이용해 해당 값이 들어 있는 행(row)을 걸러낸다. <code>!word %in% c("you","you're", "me", "my")</code>는 <code>word열</code>에서 <code>"you","you're", "me", "my"</code>가 포함된 행을 찾아 그 행의 나머지 부분이라는 의미다. <code>!</code>가 <code>~를 제외한 나머지</code>를 의미한다. <code>%in%</code>은 <code>~가 포함된</code>을 의미한다.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="clean1.html#cb70-1" aria-hidden="true" tabindex="-1"></a>stop_md <span class="ot">&lt;-</span> stop_words</span>
<span id="cb70-2"><a href="clean1.html#cb70-2" aria-hidden="true" tabindex="-1"></a>stop_md <span class="ot">&lt;-</span> stop_md <span class="sc">%&gt;%</span> <span class="fu">filter</span>( <span class="sc">!</span>word <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;you&quot;</span>,<span class="st">&quot;you&#39;re&quot;</span>, <span class="st">&quot;me&quot;</span>, <span class="st">&quot;my&quot;</span>) ) </span>
<span id="cb70-3"><a href="clean1.html#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">text =</span> text_v) <span class="sc">%&gt;%</span></span>
<span id="cb70-4"><a href="clean1.html#cb70-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text) <span class="sc">%&gt;%</span> </span>
<span id="cb70-5"><a href="clean1.html#cb70-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>( <span class="at">word =</span> <span class="fu">recode</span>(word, <span class="st">`</span><span class="at">my</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;me&quot;</span>, <span class="st">`</span><span class="at">you’re</span><span class="st">`</span> <span class="ot">=</span> <span class="st">&quot;you&quot;</span>) )<span class="sc">%&gt;%</span> </span>
<span id="cb70-6"><a href="clean1.html#cb70-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(stop_md) <span class="sc">%&gt;%</span> </span>
<span id="cb70-7"><a href="clean1.html#cb70-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## Joining, by = &quot;word&quot;</code></pre>
<pre><code>## # A tibble: 11 x 2
##    word          n
##    &lt;chr&gt;     &lt;int&gt;
##  1 me            4
##  2 you           3
##  3 1             1
##  4 desire        1
##  5 earthly       1
##  6 existence     1
##  7 fascinate     1
##  8 influence     1
##  9 inspire       1
## 10 object        1
## 11 reason        1</code></pre>
<p>“you,”“you’re,” “me,” “my”를 제거하지 않고 단어빈도를 계산했다.</p>
<div id="map" class="section level4" number="6.3.1.1">
<h4><span class="header-section-number">6.3.1.1</span> <code>map()</code></h4>
<p>불용어 사전에는 “I”와 관련된 단어도 찾아 보자. “I” 관련어는 “my”도 있으므로 <code>purrr</code>패키지의 <code>map()</code>함수를 이용해 <code>str_subset()</code>함수를 반복해서 실행한다. <code>map()</code>함수는 R기본함수 <code>apply()</code>와 비슷한 기능을 한다. <code>map()</code>함수는 리스트구조로 산출하므로, <code>unlist()</code>함수를 이용해 벡터구조로 바꾼다.</p>
<p><code>map_chr()</code>이용하면 문자벡터로 출력</p>
<p><code>^</code>는 정규표현식(regex)에서 문자(string)의 시작을 의미한다. <code>$</code>는 문자의 종료. 문자 앞뒤로 <code>^</code>과 <code>$</code>이 있으면, 정확하게 일치하는 문자만 찾아 준다.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="clean1.html#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb73-2"><a href="clean1.html#cb73-2" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;i&#39;&quot;</span>, <span class="st">&quot;my&quot;</span>, <span class="st">&quot;^me$&quot;</span>)</span>
<span id="cb73-3"><a href="clean1.html#cb73-3" aria-hidden="true" tabindex="-1"></a>i_v <span class="ot">&lt;-</span> <span class="fu">map</span>(pattern,</span>
<span id="cb73-4"><a href="clean1.html#cb73-4" aria-hidden="true" tabindex="-1"></a>    str_subset, </span>
<span id="cb73-5"><a href="clean1.html#cb73-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">string =</span> stop_words<span class="sc">$</span>word) <span class="sc">%&gt;%</span> </span>
<span id="cb73-6"><a href="clean1.html#cb73-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unlist</span>()</span>
<span id="cb73-7"><a href="clean1.html#cb73-7" aria-hidden="true" tabindex="-1"></a>i_v  </span></code></pre></div>
<pre><code>##  [1] &quot;i&#39;d&quot;    &quot;i&#39;ll&quot;   &quot;i&#39;m&quot;    &quot;i&#39;ve&quot;   &quot;i&#39;m&quot;    &quot;i&#39;ve&quot;   &quot;i&#39;d&quot;    &quot;i&#39;ll&quot;  
##  [9] &quot;my&quot;     &quot;myself&quot; &quot;my&quot;     &quot;myself&quot; &quot;my&quot;     &quot;myself&quot; &quot;me&quot;     &quot;me&quot;    
## [17] &quot;me&quot;</code></pre>
<p>불용어 사전에서 “I”와 “you”에 관련된 단어를 모두 제거해 보자.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="clean1.html#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span>
<span id="cb75-2"><a href="clean1.html#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb75-3"><a href="clean1.html#cb75-3" aria-hidden="true" tabindex="-1"></a>stop_md2 <span class="ot">&lt;-</span> stop_words</span>
<span id="cb75-4"><a href="clean1.html#cb75-4" aria-hidden="true" tabindex="-1"></a>stop_md2 <span class="ot">&lt;-</span> stop_md2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>( <span class="sc">!</span>word <span class="sc">%in%</span> <span class="fu">c</span>(i_v, you_v) ) </span>
<span id="cb75-5"><a href="clean1.html#cb75-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str_subset</span>(stop_md2<span class="sc">$</span>word, <span class="st">&quot;you&quot;</span>)</span>
<span id="cb75-6"><a href="clean1.html#cb75-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str_subset</span>(stop_md2<span class="sc">$</span>word, <span class="st">&quot;my&quot;</span>)</span>
<span id="cb75-7"><a href="clean1.html#cb75-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-8"><a href="clean1.html#cb75-8" aria-hidden="true" tabindex="-1"></a>text_tk <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">text =</span> text_v) <span class="sc">%&gt;%</span></span>
<span id="cb75-9"><a href="clean1.html#cb75-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_tokens</span>(<span class="at">output =</span> word, <span class="at">input =</span> text) </span>
<span id="cb75-10"><a href="clean1.html#cb75-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-11"><a href="clean1.html#cb75-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-12"><a href="clean1.html#cb75-12" aria-hidden="true" tabindex="-1"></a>i2_v <span class="ot">&lt;-</span> <span class="fu">paste0</span>(i_v, <span class="at">sep=</span><span class="st">&quot;|&quot;</span>, <span class="at">collapse =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb75-13"><a href="clean1.html#cb75-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-14"><a href="clean1.html#cb75-14" aria-hidden="true" tabindex="-1"></a>i2_v <span class="ot">&lt;-</span> i2_v <span class="sc">%&gt;%</span> <span class="fu">str_replace</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">|$&quot;</span>, <span class="st">&quot;&quot;</span>)</span>
<span id="cb75-15"><a href="clean1.html#cb75-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-16"><a href="clean1.html#cb75-16" aria-hidden="true" tabindex="-1"></a>text_tk<span class="sc">$</span>word <span class="sc">%&gt;%</span>  <span class="fu">str_replace_all</span>(i3_v, <span class="st">&quot;ME&quot;</span>)</span>
<span id="cb75-17"><a href="clean1.html#cb75-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-18"><a href="clean1.html#cb75-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-19"><a href="clean1.html#cb75-19" aria-hidden="true" tabindex="-1"></a>you2_v <span class="ot">&lt;-</span> <span class="fu">paste0</span>(you_v, <span class="at">sep=</span><span class="st">&quot;|&quot;</span>, <span class="at">collapse =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb75-20"><a href="clean1.html#cb75-20" aria-hidden="true" tabindex="-1"></a>you2_v <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(you2_v, <span class="st">&quot;</span><span class="sc">\\</span><span class="st">|$&quot;</span>, <span class="st">&quot;&quot;</span>)</span>
<span id="cb75-21"><a href="clean1.html#cb75-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-22"><a href="clean1.html#cb75-22" aria-hidden="true" tabindex="-1"></a>text_tk<span class="sc">$</span>word <span class="sc">%&gt;%</span>  <span class="fu">str_replace_all</span>(you3_v, <span class="st">&quot;YYYYY&quot;</span>)</span>
<span id="cb75-23"><a href="clean1.html#cb75-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-24"><a href="clean1.html#cb75-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-25"><a href="clean1.html#cb75-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-26"><a href="clean1.html#cb75-26" aria-hidden="true" tabindex="-1"></a>you2_v</span>
<span id="cb75-27"><a href="clean1.html#cb75-27" aria-hidden="true" tabindex="-1"></a>you3_v <span class="ot">&lt;-</span> <span class="st">&quot;(you&#39;d)|(you&#39;ll)|(you’re)|(you&#39;ve)|(your)|(yours)|(yourself)|(yourselves)&quot;</span></span>
<span id="cb75-28"><a href="clean1.html#cb75-28" aria-hidden="true" tabindex="-1"></a>you4_v <span class="ot">&lt;-</span> <span class="st">&quot;you|youd|youll|youre|youve|your|yours|yourself|yourselves&quot;</span></span>
<span id="cb75-29"><a href="clean1.html#cb75-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-30"><a href="clean1.html#cb75-30" aria-hidden="true" tabindex="-1"></a>you0_v <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;you&quot;</span>, <span class="st">&quot;youd&quot;</span>, <span class="st">&quot;youll&quot;</span>, <span class="st">&quot;youre&quot;</span>, <span class="st">&quot;youve&quot;</span>, <span class="st">&quot;your&quot;</span>,  <span class="st">&quot;yours&quot;</span>, <span class="st">&quot;yourself&quot;</span>, <span class="st">&quot;yourselves&quot;</span>)</span>
<span id="cb75-31"><a href="clean1.html#cb75-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-32"><a href="clean1.html#cb75-32" aria-hidden="true" tabindex="-1"></a>you_v <span class="sc">%&gt;%</span> <span class="fu">str_replace_all</span>(you3_v, <span class="st">&quot;YYYYYY&quot;</span>)</span>
<span id="cb75-33"><a href="clean1.html#cb75-33" aria-hidden="true" tabindex="-1"></a>you0_v <span class="sc">%&gt;%</span> <span class="fu">str_replace_all</span>(you4_v, <span class="st">&quot;YYYYYY &quot;</span>)</span>
<span id="cb75-34"><a href="clean1.html#cb75-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-35"><a href="clean1.html#cb75-35" aria-hidden="true" tabindex="-1"></a>you_v <span class="sc">%&gt;%</span> <span class="fu">str_replace_all</span>(you4_v, <span class="st">&quot;YYYYYY &quot;</span>)</span>
<span id="cb75-36"><a href="clean1.html#cb75-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-37"><a href="clean1.html#cb75-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-38"><a href="clean1.html#cb75-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-39"><a href="clean1.html#cb75-39" aria-hidden="true" tabindex="-1"></a>v_be <span class="ot">&lt;-</span> <span class="st">&quot;(</span><span class="sc">\\</span><span class="st">b(a|A)m)|(</span><span class="sc">\\</span><span class="st">b(a|A)re)|(</span><span class="sc">\\</span><span class="st">b(i|I)s)|(</span><span class="sc">\\</span><span class="st">b(w|W)as)|(</span><span class="sc">\\</span><span class="st">b(w|W)ere)|(</span><span class="sc">\\</span><span class="st">b(w|W)e)&quot;</span></span>
<span id="cb75-40"><a href="clean1.html#cb75-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-41"><a href="clean1.html#cb75-41" aria-hidden="true" tabindex="-1"></a>v_be <span class="ot">&lt;-</span> <span class="st">&quot;am|are|is|was&quot;</span></span>
<span id="cb75-42"><a href="clean1.html#cb75-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-43"><a href="clean1.html#cb75-43" aria-hidden="true" tabindex="-1"></a>mytxt <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;I am a boy. You are a boy.&quot;</span>)</span>
<span id="cb75-44"><a href="clean1.html#cb75-44" aria-hidden="true" tabindex="-1"></a><span class="fu">str_replace_all</span>(mytxt, v_be, <span class="st">&quot;&quot;</span>)</span>
<span id="cb75-45"><a href="clean1.html#cb75-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-46"><a href="clean1.html#cb75-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-47"><a href="clean1.html#cb75-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-48"><a href="clean1.html#cb75-48" aria-hidden="true" tabindex="-1"></a>text_tk <span class="sc">%&gt;%</span> </span>
<span id="cb75-49"><a href="clean1.html#cb75-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(stop_md2) <span class="sc">%&gt;%</span> </span>
<span id="cb75-50"><a href="clean1.html#cb75-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>you_v %&gt;% unique()</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="clean1.html#cb76-1" aria-hidden="true" tabindex="-1"></a>text_tk<span class="sc">$</span>word <span class="sc">%&gt;%</span> </span>
<span id="cb76-2"><a href="clean1.html#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace</span>(<span class="st">&quot;you’re&quot;</span>,</span>
<span id="cb76-3"><a href="clean1.html#cb76-3" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;YOU&quot;</span>)</span></code></pre></div>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="cleantool.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="anal1freq.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/06-clean1.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
